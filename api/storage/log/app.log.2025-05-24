[2025-05-24 18:37:16,887.887] _internal.py -> _log line:97 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2025-05-24 18:37:16,889.889] _internal.py -> _log line:97 [INFO]: [33mPress CTRL+C to quit[0m
[2025-05-24 18:37:16,893.893] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-05-24 18:37:53,862.862] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-05-24 18:37:53,888.888] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 674-688-502
[2025-05-24 18:37:56,069.069] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:37:56] "OPTIONS /account HTTP/1.1" 200 -
[2025-05-24 18:37:56,552.552] base.py -> _exec_single_context line:1896 [INFO]: select pg_catalog.version()
[2025-05-24 18:37:56,553.553] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-05-24 18:37:56,558.558] base.py -> _exec_single_context line:1896 [INFO]: select current_schema()
[2025-05-24 18:37:56,558.558] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-05-24 18:37:56,560.560] base.py -> _exec_single_context line:1896 [INFO]: show standard_conforming_strings
[2025-05-24 18:37:56,560.560] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-05-24 18:37:56,562.562] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:37:56,568.568] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:37:56,568.568] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00052s] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 18:37:56,584.584] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 18:37:56,585.585] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:37:56] "GET /account HTTP/1.1" 200 -
[2025-05-24 18:38:24,747.747] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:38:24] "OPTIONS /builtin-tools/categories HTTP/1.1" 200 -
[2025-05-24 18:38:24,748.748] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:38:24] "OPTIONS /datasets?current_page=1&page_size=20&search_word= HTTP/1.1" 200 -
[2025-05-24 18:38:24,750.750] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:38:24] "GET /builtin-tools/categories HTTP/1.1" 200 -
[2025-05-24 18:38:24,752.752] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:38:24] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/conversations/messages?current_page=1&page_size=5&created_at=0 HTTP/1.1" 200 -
[2025-05-24 18:38:24,754.754] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:38:24] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-24 18:38:24,755.755] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:38:24] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-24 18:38:25,056.056] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:38:25,057.057] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:38:25,057.057] base.py -> _exec_single_context line:1901 [INFO]: [cached since 28.49s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 18:38:25,063.063] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.account_id = %(account_id_1)s::UUID ORDER BY dataset.created_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2025-05-24 18:38:25,064.064] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00026s] {'account_id_1': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'param_1': 20, 'param_2': 0}
[2025-05-24 18:38:25,071.071] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT dataset.id AS id, dataset.account_id AS account_id, dataset.name AS name, dataset.icon AS icon, dataset.description AS description, dataset.updated_at AS updated_at, dataset.created_at AS created_at 
FROM dataset 
WHERE dataset.account_id = %(account_id_1)s::UUID) AS anon_1
[2025-05-24 18:38:25,072.072] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00048s] {'account_id_1': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f')}
[2025-05-24 18:38:25,076.076] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,076.076] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00053s] {'dataset_id_1': UUID('e9315438-563c-44e2-99a0-a60e0ba4b76e')}
[2025-05-24 18:38:25,082.082] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,082.082] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00036s] {'dataset_id_1': UUID('e9315438-563c-44e2-99a0-a60e0ba4b76e')}
[2025-05-24 18:38:25,087.087] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,087.087] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00035s] {'coalesce_2': 0, 'dataset_id_1': UUID('e9315438-563c-44e2-99a0-a60e0ba4b76e')}
[2025-05-24 18:38:25,089.089] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,089.089] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.01288s ago] {'dataset_id_1': UUID('e9af1e9e-fc18-4521-b222-79303a3a949f')}
[2025-05-24 18:38:25,090.090] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,090.090] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.008187s ago] {'dataset_id_1': UUID('e9af1e9e-fc18-4521-b222-79303a3a949f')}
[2025-05-24 18:38:25,090.090] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,090.090] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.004594s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('e9af1e9e-fc18-4521-b222-79303a3a949f')}
[2025-05-24 18:38:25,092.092] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,092.092] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.016s ago] {'dataset_id_1': UUID('c44c3229-35d5-4db8-b710-0e66089b5194')}
[2025-05-24 18:38:25,093.093] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,093.093] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.01122s ago] {'dataset_id_1': UUID('c44c3229-35d5-4db8-b710-0e66089b5194')}
[2025-05-24 18:38:25,094.094] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,094.094] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.007609s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('c44c3229-35d5-4db8-b710-0e66089b5194')}
[2025-05-24 18:38:25,095.095] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,095.095] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.01908s ago] {'dataset_id_1': UUID('c4893bc6-7efb-45e4-8307-baf962a48b05')}
[2025-05-24 18:38:25,096.096] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,096.096] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.01415s ago] {'dataset_id_1': UUID('c4893bc6-7efb-45e4-8307-baf962a48b05')}
[2025-05-24 18:38:25,097.097] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,097.097] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.01038s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('c4893bc6-7efb-45e4-8307-baf962a48b05')}
[2025-05-24 18:38:25,098.098] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,098.098] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.02201s ago] {'dataset_id_1': UUID('4cc5b531-8c8a-47b1-a641-bf75d7b7ac82')}
[2025-05-24 18:38:25,101.101] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,101.101] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.01947s ago] {'dataset_id_1': UUID('4cc5b531-8c8a-47b1-a641-bf75d7b7ac82')}
[2025-05-24 18:38:25,102.102] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,102.102] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.0162s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('4cc5b531-8c8a-47b1-a641-bf75d7b7ac82')}
[2025-05-24 18:38:25,103.103] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,103.103] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.02776s ago] {'dataset_id_1': UUID('1ff78486-ddd5-45f0-a024-d63ecbeaa307')}
[2025-05-24 18:38:25,104.104] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,104.104] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.02287s ago] {'dataset_id_1': UUID('1ff78486-ddd5-45f0-a024-d63ecbeaa307')}
[2025-05-24 18:38:25,105.105] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,105.105] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.01922s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('1ff78486-ddd5-45f0-a024-d63ecbeaa307')}
[2025-05-24 18:38:25,106.106] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,106.106] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.03075s ago] {'dataset_id_1': UUID('639052d1-06f1-4e89-a2d8-6eef01fcb5bd')}
[2025-05-24 18:38:25,107.107] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,107.107] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.02584s ago] {'dataset_id_1': UUID('639052d1-06f1-4e89-a2d8-6eef01fcb5bd')}
[2025-05-24 18:38:25,108.108] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,108.108] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.02209s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('639052d1-06f1-4e89-a2d8-6eef01fcb5bd')}
[2025-05-24 18:38:25,109.109] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,109.109] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.03355s ago] {'dataset_id_1': UUID('7b5aca75-14ea-434c-8cbb-c3508eb3dc68')}
[2025-05-24 18:38:25,110.110] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,110.110] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.0286s ago] {'dataset_id_1': UUID('7b5aca75-14ea-434c-8cbb-c3508eb3dc68')}
[2025-05-24 18:38:25,110.110] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,110.110] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.02488s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('7b5aca75-14ea-434c-8cbb-c3508eb3dc68')}
[2025-05-24 18:38:25,117.117] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,117.117] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.04118s ago] {'dataset_id_1': UUID('f932375a-8700-4d3b-ae2d-958b29fcae48')}
[2025-05-24 18:38:25,118.118] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,118.118] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.03667s ago] {'dataset_id_1': UUID('f932375a-8700-4d3b-ae2d-958b29fcae48')}
[2025-05-24 18:38:25,119.119] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,119.119] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:38:25,120.120] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.03357s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('f932375a-8700-4d3b-ae2d-958b29fcae48')}
[2025-05-24 18:38:25,120.120] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:38:25,120.120] base.py -> _exec_single_context line:1901 [INFO]: [cached since 28.55s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 18:38:25,121.121] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,121.121] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.04584s ago] {'dataset_id_1': UUID('c6a2f8f1-e3b3-4555-a691-0fe457b2dded')}
[2025-05-24 18:38:25,122.122] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,122.122] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:38:25,131.131] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.04991s ago] {'dataset_id_1': UUID('c6a2f8f1-e3b3-4555-a691-0fe457b2dded')}
[2025-05-24 18:38:25,132.132] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:38:25,134.134] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-24 18:38:25,134.134] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:38:25,135.135] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:38:25,135.135] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00127s] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-24 18:38:25,136.136] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,136.136] base.py -> _exec_single_context line:1901 [INFO]: [cached since 28.57s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 18:38:25,136.136] base.py -> _exec_single_context line:1901 [INFO]: [cached since 28.57s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 18:38:25,136.136] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.05048s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('c6a2f8f1-e3b3-4555-a691-0fe457b2dded')}
[2025-05-24 18:38:25,138.138] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,138.138] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.06226s ago] {'dataset_id_1': UUID('9af90c52-28b2-4a47-9c92-148c9f21b512')}
[2025-05-24 18:38:25,138.138] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,139.139] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-24 18:38:25,141.141] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(id_1)s::UUID AND conversation.invoke_from = %(invoke_from_1)s
[2025-05-24 18:38:25,141.141] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-24 18:38:25,141.141] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.06042s ago] {'dataset_id_1': UUID('9af90c52-28b2-4a47-9c92-148c9f21b512')}
[2025-05-24 18:38:25,141.141] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.007921s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-24 18:38:25,147.147] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00621s] {'id_1': UUID('8be0e800-6015-4cab-88bc-6281c1d2540b'), 'invoke_from_1': <InvokeFrom.DEBUGGER: 'debugger'>}
[2025-05-24 18:38:25,148.148] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.01374s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-24 18:38:25,149.149] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,152.152] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-24 18:38:25,152.152] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.066s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('9af90c52-28b2-4a47-9c92-148c9f21b512')}
[2025-05-24 18:38:25,153.153] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00105s] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-24 18:38:25,155.155] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-24 18:38:25,155.155] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,162.162] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID)
[2025-05-24 18:38:25,163.163] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.01178s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-24 18:38:25,163.163] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.08799s ago] {'dataset_id_1': UUID('9cf6cccc-1bf7-44db-9044-1d1638e4e142')}
[2025-05-24 18:38:25,165.165] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.conversation_id = %(conversation_id_1)s::UUID AND message.status IN (%(status_1_1)s, %(status_1_2)s) AND message.answer != %(answer_1)s ORDER BY message.created_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2025-05-24 18:38:25,165.165] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00329s] {'id_1_1': '9af90c52-28b2-4a47-9c92-148c9f21b512'}
[2025-05-24 18:38:25,166.166] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00136s] {'conversation_id_1': UUID('8be0e800-6015-4cab-88bc-6281c1d2540b'), 'answer_1': '', 'param_1': 5, 'param_2': 0, 'status_1_1': <MessageStatus.STOP: 'stop'>, 'status_1_2': <MessageStatus.NORMAL: 'normal'>}
[2025-05-24 18:38:25,167.167] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,169.169] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 18:38:25,170.170] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 18:38:25,170.170] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.08894s ago] {'dataset_id_1': UUID('9cf6cccc-1bf7-44db-9044-1d1638e4e142')}
[2025-05-24 18:38:25,170.170] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:38:25] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-24 18:38:25,171.171] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:38:25] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-24 18:38:25,172.172] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,172.172] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.08659s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('9cf6cccc-1bf7-44db-9044-1d1638e4e142')}
[2025-05-24 18:38:25,173.173] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,174.174] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.09856s ago] {'dataset_id_1': UUID('37a9f300-a2f2-47d1-97ef-67da9b65193d')}
[2025-05-24 18:38:25,180.180] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT message.id AS id, message.app_id AS app_id, message.conversation_id AS conversation_id, message.invoke_from AS invoke_from, message.created_by AS created_by, message.query AS query, message.message AS message, message.message_token_count AS message_token_count, message.message_unit_price AS message_unit_price, message.message_price_unit AS message_price_unit, message.answer AS answer, message.answer_token_count AS answer_token_count, message.answer_unit_price AS answer_unit_price, message.answer_price_unit AS answer_price_unit, message.latency AS latency, message.is_deleted AS is_deleted, message.status AS status, message.error AS error, message.total_token_count AS total_token_count, message.total_price AS total_price, message.updated_at AS updated_at, message.created_at AS created_at 
FROM message 
WHERE message.conversation_id = %(conversation_id_1)s::UUID AND message.status IN (%(status_1_1)s, %(status_1_2)s) AND message.answer != %(answer_1)s) AS anon_1
[2025-05-24 18:38:25,181.181] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00078s] {'conversation_id_1': UUID('8be0e800-6015-4cab-88bc-6281c1d2540b'), 'answer_1': '', 'status_1_1': <MessageStatus.STOP: 'stop'>, 'status_1_2': <MessageStatus.NORMAL: 'normal'>}
[2025-05-24 18:38:25,182.182] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,182.182] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.1002s ago] {'dataset_id_1': UUID('37a9f300-a2f2-47d1-97ef-67da9b65193d')}
[2025-05-24 18:38:25,186.186] base.py -> _exec_single_context line:1896 [INFO]: SELECT message_agent_thought.id AS message_agent_thought_id, message_agent_thought.app_id AS message_agent_thought_app_id, message_agent_thought.conversation_id AS message_agent_thought_conversation_id, message_agent_thought.message_id AS message_agent_thought_message_id, message_agent_thought.invoke_from AS message_agent_thought_invoke_from, message_agent_thought.created_by AS message_agent_thought_created_by, message_agent_thought.position AS message_agent_thought_position, message_agent_thought.event AS message_agent_thought_event, message_agent_thought.thought AS message_agent_thought_thought, message_agent_thought.observation AS message_agent_thought_observation, message_agent_thought.tool AS message_agent_thought_tool, message_agent_thought.tool_input AS message_agent_thought_tool_input, message_agent_thought.message AS message_agent_thought_message, message_agent_thought.message_token_count AS message_agent_thought_message_token_count, message_agent_thought.message_unit_price AS message_agent_thought_message_unit_price, message_agent_thought.message_price_unit AS message_agent_thought_message_price_unit, message_agent_thought.answer AS message_agent_thought_answer, message_agent_thought.answer_token_count AS message_agent_thought_answer_token_count, message_agent_thought.answer_unit_price AS message_agent_thought_answer_unit_price, message_agent_thought.answer_price_unit AS message_agent_thought_answer_price_unit, message_agent_thought.total_token_count AS message_agent_thought_total_token_count, message_agent_thought.total_price AS message_agent_thought_total_price, message_agent_thought.latency AS message_agent_thought_latency, message_agent_thought.updated_at AS message_agent_thought_updated_at, message_agent_thought.created_at AS message_agent_thought_created_at 
FROM message_agent_thought 
WHERE message_agent_thought.message_id = %(message_id_1)s::UUID ORDER BY message_agent_thought.position ASC
[2025-05-24 18:38:25,187.187] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,187.187] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00128s] {'message_id_1': UUID('d1db47f2-f543-413c-991e-5533323a98dd')}
[2025-05-24 18:38:25,187.187] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.1015s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('37a9f300-a2f2-47d1-97ef-67da9b65193d')}
[2025-05-24 18:38:25,195.195] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,195.195] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.1201s ago] {'dataset_id_1': UUID('df56c578-0b13-4ac2-9cdb-cfb431dca264')}
[2025-05-24 18:38:25,196.196] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,196.196] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.1153s ago] {'dataset_id_1': UUID('df56c578-0b13-4ac2-9cdb-cfb431dca264')}
[2025-05-24 18:38:25,197.197] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,198.198] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.1119s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('df56c578-0b13-4ac2-9cdb-cfb431dca264')}
[2025-05-24 18:38:25,198.198] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,200.200] base.py -> _exec_single_context line:1896 [INFO]: SELECT message_agent_thought.id AS message_agent_thought_id, message_agent_thought.app_id AS message_agent_thought_app_id, message_agent_thought.conversation_id AS message_agent_thought_conversation_id, message_agent_thought.message_id AS message_agent_thought_message_id, message_agent_thought.invoke_from AS message_agent_thought_invoke_from, message_agent_thought.created_by AS message_agent_thought_created_by, message_agent_thought.position AS message_agent_thought_position, message_agent_thought.event AS message_agent_thought_event, message_agent_thought.thought AS message_agent_thought_thought, message_agent_thought.observation AS message_agent_thought_observation, message_agent_thought.tool AS message_agent_thought_tool, message_agent_thought.tool_input AS message_agent_thought_tool_input, message_agent_thought.message AS message_agent_thought_message, message_agent_thought.message_token_count AS message_agent_thought_message_token_count, message_agent_thought.message_unit_price AS message_agent_thought_message_unit_price, message_agent_thought.message_price_unit AS message_agent_thought_message_price_unit, message_agent_thought.answer AS message_agent_thought_answer, message_agent_thought.answer_token_count AS message_agent_thought_answer_token_count, message_agent_thought.answer_unit_price AS message_agent_thought_answer_unit_price, message_agent_thought.answer_price_unit AS message_agent_thought_answer_price_unit, message_agent_thought.total_token_count AS message_agent_thought_total_token_count, message_agent_thought.total_price AS message_agent_thought_total_price, message_agent_thought.latency AS message_agent_thought_latency, message_agent_thought.updated_at AS message_agent_thought_updated_at, message_agent_thought.created_at AS message_agent_thought_created_at 
FROM message_agent_thought 
WHERE message_agent_thought.message_id = %(message_id_1)s::UUID ORDER BY message_agent_thought.position ASC
[2025-05-24 18:38:25,200.200] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.1248s ago] {'dataset_id_1': UUID('17166c83-14ea-4ba3-ac67-1bcb1c5672bb')}
[2025-05-24 18:38:25,200.200] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.0145s ago] {'message_id_1': UUID('3132677f-8aaf-46e4-b06e-86daf3d1f4cd')}
[2025-05-24 18:38:25,201.201] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,201.201] base.py -> _exec_single_context line:1896 [INFO]: SELECT message_agent_thought.id AS message_agent_thought_id, message_agent_thought.app_id AS message_agent_thought_app_id, message_agent_thought.conversation_id AS message_agent_thought_conversation_id, message_agent_thought.message_id AS message_agent_thought_message_id, message_agent_thought.invoke_from AS message_agent_thought_invoke_from, message_agent_thought.created_by AS message_agent_thought_created_by, message_agent_thought.position AS message_agent_thought_position, message_agent_thought.event AS message_agent_thought_event, message_agent_thought.thought AS message_agent_thought_thought, message_agent_thought.observation AS message_agent_thought_observation, message_agent_thought.tool AS message_agent_thought_tool, message_agent_thought.tool_input AS message_agent_thought_tool_input, message_agent_thought.message AS message_agent_thought_message, message_agent_thought.message_token_count AS message_agent_thought_message_token_count, message_agent_thought.message_unit_price AS message_agent_thought_message_unit_price, message_agent_thought.message_price_unit AS message_agent_thought_message_price_unit, message_agent_thought.answer AS message_agent_thought_answer, message_agent_thought.answer_token_count AS message_agent_thought_answer_token_count, message_agent_thought.answer_unit_price AS message_agent_thought_answer_unit_price, message_agent_thought.answer_price_unit AS message_agent_thought_answer_price_unit, message_agent_thought.total_token_count AS message_agent_thought_total_token_count, message_agent_thought.total_price AS message_agent_thought_total_price, message_agent_thought.latency AS message_agent_thought_latency, message_agent_thought.updated_at AS message_agent_thought_updated_at, message_agent_thought.created_at AS message_agent_thought_created_at 
FROM message_agent_thought 
WHERE message_agent_thought.message_id = %(message_id_1)s::UUID ORDER BY message_agent_thought.position ASC
[2025-05-24 18:38:25,201.201] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.1208s ago] {'dataset_id_1': UUID('17166c83-14ea-4ba3-ac67-1bcb1c5672bb')}
[2025-05-24 18:38:25,210.210] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.02369s ago] {'message_id_1': UUID('011e4eae-454b-4236-9af2-f0b6e0869f8d')}
[2025-05-24 18:38:25,211.211] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,759.759] base.py -> _exec_single_context line:1896 [INFO]: SELECT message_agent_thought.id AS message_agent_thought_id, message_agent_thought.app_id AS message_agent_thought_app_id, message_agent_thought.conversation_id AS message_agent_thought_conversation_id, message_agent_thought.message_id AS message_agent_thought_message_id, message_agent_thought.invoke_from AS message_agent_thought_invoke_from, message_agent_thought.created_by AS message_agent_thought_created_by, message_agent_thought.position AS message_agent_thought_position, message_agent_thought.event AS message_agent_thought_event, message_agent_thought.thought AS message_agent_thought_thought, message_agent_thought.observation AS message_agent_thought_observation, message_agent_thought.tool AS message_agent_thought_tool, message_agent_thought.tool_input AS message_agent_thought_tool_input, message_agent_thought.message AS message_agent_thought_message, message_agent_thought.message_token_count AS message_agent_thought_message_token_count, message_agent_thought.message_unit_price AS message_agent_thought_message_unit_price, message_agent_thought.message_price_unit AS message_agent_thought_message_price_unit, message_agent_thought.answer AS message_agent_thought_answer, message_agent_thought.answer_token_count AS message_agent_thought_answer_token_count, message_agent_thought.answer_unit_price AS message_agent_thought_answer_unit_price, message_agent_thought.answer_price_unit AS message_agent_thought_answer_price_unit, message_agent_thought.total_token_count AS message_agent_thought_total_token_count, message_agent_thought.total_price AS message_agent_thought_total_price, message_agent_thought.latency AS message_agent_thought_latency, message_agent_thought.updated_at AS message_agent_thought_updated_at, message_agent_thought.created_at AS message_agent_thought_created_at 
FROM message_agent_thought 
WHERE message_agent_thought.message_id = %(message_id_1)s::UUID ORDER BY message_agent_thought.position ASC
[2025-05-24 18:38:25,760.760] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.6732s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('17166c83-14ea-4ba3-ac67-1bcb1c5672bb')}
[2025-05-24 18:38:25,760.760] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.5736s ago] {'message_id_1': UUID('afe9f1f0-605d-4ee6-9fcd-45b8e4c16855')}
[2025-05-24 18:38:25,762.762] base.py -> _exec_single_context line:1896 [INFO]: SELECT message_agent_thought.id AS message_agent_thought_id, message_agent_thought.app_id AS message_agent_thought_app_id, message_agent_thought.conversation_id AS message_agent_thought_conversation_id, message_agent_thought.message_id AS message_agent_thought_message_id, message_agent_thought.invoke_from AS message_agent_thought_invoke_from, message_agent_thought.created_by AS message_agent_thought_created_by, message_agent_thought.position AS message_agent_thought_position, message_agent_thought.event AS message_agent_thought_event, message_agent_thought.thought AS message_agent_thought_thought, message_agent_thought.observation AS message_agent_thought_observation, message_agent_thought.tool AS message_agent_thought_tool, message_agent_thought.tool_input AS message_agent_thought_tool_input, message_agent_thought.message AS message_agent_thought_message, message_agent_thought.message_token_count AS message_agent_thought_message_token_count, message_agent_thought.message_unit_price AS message_agent_thought_message_unit_price, message_agent_thought.message_price_unit AS message_agent_thought_message_price_unit, message_agent_thought.answer AS message_agent_thought_answer, message_agent_thought.answer_token_count AS message_agent_thought_answer_token_count, message_agent_thought.answer_unit_price AS message_agent_thought_answer_unit_price, message_agent_thought.answer_price_unit AS message_agent_thought_answer_price_unit, message_agent_thought.total_token_count AS message_agent_thought_total_token_count, message_agent_thought.total_price AS message_agent_thought_total_price, message_agent_thought.latency AS message_agent_thought_latency, message_agent_thought.updated_at AS message_agent_thought_updated_at, message_agent_thought.created_at AS message_agent_thought_created_at 
FROM message_agent_thought 
WHERE message_agent_thought.message_id = %(message_id_1)s::UUID ORDER BY message_agent_thought.position ASC
[2025-05-24 18:38:25,762.762] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,769.769] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.5836s ago] {'message_id_1': UUID('7b0ed896-58bc-40ce-8afb-4b7156b5df97')}
[2025-05-24 18:38:25,770.770] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.6946s ago] {'dataset_id_1': UUID('49908250-8e6e-4284-a6c6-204599c5b53d')}
[2025-05-24 18:38:25,771.771] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,774.774] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 18:38:25,775.775] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.693s ago] {'dataset_id_1': UUID('49908250-8e6e-4284-a6c6-204599c5b53d')}
[2025-05-24 18:38:25,776.776] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:38:25] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/conversations/messages?current_page=1&page_size=5&created_at=0 HTTP/1.1" 200 -
[2025-05-24 18:38:25,777.777] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,777.777] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.6909s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('49908250-8e6e-4284-a6c6-204599c5b53d')}
[2025-05-24 18:38:25,778.778] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,779.779] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.7038s ago] {'dataset_id_1': UUID('8af6e64d-1128-427e-b4bf-8ef556836bfa')}
[2025-05-24 18:38:25,780.780] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,785.785] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.7031s ago] {'dataset_id_1': UUID('8af6e64d-1128-427e-b4bf-8ef556836bfa')}
[2025-05-24 18:38:25,786.786] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,787.787] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.7003s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('8af6e64d-1128-427e-b4bf-8ef556836bfa')}
[2025-05-24 18:38:25,788.788] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,788.788] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.7125s ago] {'dataset_id_1': UUID('f1b9d5e9-bbdb-4b81-92a5-ce04bd27a82b')}
[2025-05-24 18:38:25,789.789] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,789.789] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.7082s ago] {'dataset_id_1': UUID('f1b9d5e9-bbdb-4b81-92a5-ce04bd27a82b')}
[2025-05-24 18:38:25,790.790] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,792.792] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.7053s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('f1b9d5e9-bbdb-4b81-92a5-ce04bd27a82b')}
[2025-05-24 18:38:25,793.793] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,794.794] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.7185s ago] {'dataset_id_1': UUID('6bca0bd4-647c-456c-8b9c-00e2b06bd4a9')}
[2025-05-24 18:38:25,795.795] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,795.795] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.7145s ago] {'dataset_id_1': UUID('6bca0bd4-647c-456c-8b9c-00e2b06bd4a9')}
[2025-05-24 18:38:25,798.798] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,798.798] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.7121s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('6bca0bd4-647c-456c-8b9c-00e2b06bd4a9')}
[2025-05-24 18:38:25,800.800] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,800.800] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.7247s ago] {'dataset_id_1': UUID('29d11e42-b1ac-4986-b595-dda47b75302a')}
[2025-05-24 18:38:25,801.801] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,802.802] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.7207s ago] {'dataset_id_1': UUID('29d11e42-b1ac-4986-b595-dda47b75302a')}
[2025-05-24 18:38:25,803.803] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:38:25,803.803] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.7176s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('29d11e42-b1ac-4986-b595-dda47b75302a')}
[2025-05-24 18:38:25,805.805] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 18:38:25,807.807] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:38:25] "GET /datasets?current_page=1&page_size=20&search_word= HTTP/1.1" 200 -
[2025-05-24 18:38:26,087.087] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:38:26] "GET /builtin-tools/google/icon HTTP/1.1" 200 -
[2025-05-24 18:38:26,088.088] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:38:26] "GET /builtin-tools/gaode/icon HTTP/1.1" 200 -
[2025-05-24 18:38:33,251.251] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:38:33] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/conversations/messages?current_page=2&page_size=5&created_at=0 HTTP/1.1" 200 -
[2025-05-24 18:38:33,580.580] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:38:33,580.580] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:38:33,580.580] base.py -> _exec_single_context line:1901 [INFO]: [cached since 37.01s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 18:38:33,583.583] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-24 18:38:33,583.583] base.py -> _exec_single_context line:1901 [INFO]: [cached since 8.448s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-24 18:38:33,584.584] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(id_1)s::UUID AND conversation.invoke_from = %(invoke_from_1)s
[2025-05-24 18:38:33,584.584] base.py -> _exec_single_context line:1901 [INFO]: [cached since 8.443s ago] {'id_1': UUID('8be0e800-6015-4cab-88bc-6281c1d2540b'), 'invoke_from_1': <InvokeFrom.DEBUGGER: 'debugger'>}
[2025-05-24 18:38:33,585.585] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.conversation_id = %(conversation_id_1)s::UUID AND message.status IN (%(status_1_1)s, %(status_1_2)s) AND message.answer != %(answer_1)s ORDER BY message.created_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2025-05-24 18:38:33,593.593] base.py -> _exec_single_context line:1901 [INFO]: [cached since 8.427s ago] {'conversation_id_1': UUID('8be0e800-6015-4cab-88bc-6281c1d2540b'), 'answer_1': '', 'param_1': 5, 'param_2': 5, 'status_1_1': <MessageStatus.STOP: 'stop'>, 'status_1_2': <MessageStatus.NORMAL: 'normal'>}
[2025-05-24 18:38:33,596.596] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT message.id AS id, message.app_id AS app_id, message.conversation_id AS conversation_id, message.invoke_from AS invoke_from, message.created_by AS created_by, message.query AS query, message.message AS message, message.message_token_count AS message_token_count, message.message_unit_price AS message_unit_price, message.message_price_unit AS message_price_unit, message.answer AS answer, message.answer_token_count AS answer_token_count, message.answer_unit_price AS answer_unit_price, message.answer_price_unit AS answer_price_unit, message.latency AS latency, message.is_deleted AS is_deleted, message.status AS status, message.error AS error, message.total_token_count AS total_token_count, message.total_price AS total_price, message.updated_at AS updated_at, message.created_at AS created_at 
FROM message 
WHERE message.conversation_id = %(conversation_id_1)s::UUID AND message.status IN (%(status_1_1)s, %(status_1_2)s) AND message.answer != %(answer_1)s) AS anon_1
[2025-05-24 18:38:33,598.598] base.py -> _exec_single_context line:1901 [INFO]: [cached since 8.418s ago] {'conversation_id_1': UUID('8be0e800-6015-4cab-88bc-6281c1d2540b'), 'answer_1': '', 'status_1_1': <MessageStatus.STOP: 'stop'>, 'status_1_2': <MessageStatus.NORMAL: 'normal'>}
[2025-05-24 18:38:33,599.599] base.py -> _exec_single_context line:1896 [INFO]: SELECT message_agent_thought.id AS message_agent_thought_id, message_agent_thought.app_id AS message_agent_thought_app_id, message_agent_thought.conversation_id AS message_agent_thought_conversation_id, message_agent_thought.message_id AS message_agent_thought_message_id, message_agent_thought.invoke_from AS message_agent_thought_invoke_from, message_agent_thought.created_by AS message_agent_thought_created_by, message_agent_thought.position AS message_agent_thought_position, message_agent_thought.event AS message_agent_thought_event, message_agent_thought.thought AS message_agent_thought_thought, message_agent_thought.observation AS message_agent_thought_observation, message_agent_thought.tool AS message_agent_thought_tool, message_agent_thought.tool_input AS message_agent_thought_tool_input, message_agent_thought.message AS message_agent_thought_message, message_agent_thought.message_token_count AS message_agent_thought_message_token_count, message_agent_thought.message_unit_price AS message_agent_thought_message_unit_price, message_agent_thought.message_price_unit AS message_agent_thought_message_price_unit, message_agent_thought.answer AS message_agent_thought_answer, message_agent_thought.answer_token_count AS message_agent_thought_answer_token_count, message_agent_thought.answer_unit_price AS message_agent_thought_answer_unit_price, message_agent_thought.answer_price_unit AS message_agent_thought_answer_price_unit, message_agent_thought.total_token_count AS message_agent_thought_total_token_count, message_agent_thought.total_price AS message_agent_thought_total_price, message_agent_thought.latency AS message_agent_thought_latency, message_agent_thought.updated_at AS message_agent_thought_updated_at, message_agent_thought.created_at AS message_agent_thought_created_at 
FROM message_agent_thought 
WHERE message_agent_thought.message_id = %(message_id_1)s::UUID ORDER BY message_agent_thought.position ASC
[2025-05-24 18:38:33,599.599] base.py -> _exec_single_context line:1901 [INFO]: [cached since 8.413s ago] {'message_id_1': UUID('5dd15be3-d456-4daa-b4f9-73567d6662c6')}
[2025-05-24 18:38:33,601.601] base.py -> _exec_single_context line:1896 [INFO]: SELECT message_agent_thought.id AS message_agent_thought_id, message_agent_thought.app_id AS message_agent_thought_app_id, message_agent_thought.conversation_id AS message_agent_thought_conversation_id, message_agent_thought.message_id AS message_agent_thought_message_id, message_agent_thought.invoke_from AS message_agent_thought_invoke_from, message_agent_thought.created_by AS message_agent_thought_created_by, message_agent_thought.position AS message_agent_thought_position, message_agent_thought.event AS message_agent_thought_event, message_agent_thought.thought AS message_agent_thought_thought, message_agent_thought.observation AS message_agent_thought_observation, message_agent_thought.tool AS message_agent_thought_tool, message_agent_thought.tool_input AS message_agent_thought_tool_input, message_agent_thought.message AS message_agent_thought_message, message_agent_thought.message_token_count AS message_agent_thought_message_token_count, message_agent_thought.message_unit_price AS message_agent_thought_message_unit_price, message_agent_thought.message_price_unit AS message_agent_thought_message_price_unit, message_agent_thought.answer AS message_agent_thought_answer, message_agent_thought.answer_token_count AS message_agent_thought_answer_token_count, message_agent_thought.answer_unit_price AS message_agent_thought_answer_unit_price, message_agent_thought.answer_price_unit AS message_agent_thought_answer_price_unit, message_agent_thought.total_token_count AS message_agent_thought_total_token_count, message_agent_thought.total_price AS message_agent_thought_total_price, message_agent_thought.latency AS message_agent_thought_latency, message_agent_thought.updated_at AS message_agent_thought_updated_at, message_agent_thought.created_at AS message_agent_thought_created_at 
FROM message_agent_thought 
WHERE message_agent_thought.message_id = %(message_id_1)s::UUID ORDER BY message_agent_thought.position ASC
[2025-05-24 18:38:33,609.609] base.py -> _exec_single_context line:1901 [INFO]: [cached since 8.423s ago] {'message_id_1': UUID('e510d741-136c-47ed-9df6-195df6380966')}
[2025-05-24 18:38:33,610.610] base.py -> _exec_single_context line:1896 [INFO]: SELECT message_agent_thought.id AS message_agent_thought_id, message_agent_thought.app_id AS message_agent_thought_app_id, message_agent_thought.conversation_id AS message_agent_thought_conversation_id, message_agent_thought.message_id AS message_agent_thought_message_id, message_agent_thought.invoke_from AS message_agent_thought_invoke_from, message_agent_thought.created_by AS message_agent_thought_created_by, message_agent_thought.position AS message_agent_thought_position, message_agent_thought.event AS message_agent_thought_event, message_agent_thought.thought AS message_agent_thought_thought, message_agent_thought.observation AS message_agent_thought_observation, message_agent_thought.tool AS message_agent_thought_tool, message_agent_thought.tool_input AS message_agent_thought_tool_input, message_agent_thought.message AS message_agent_thought_message, message_agent_thought.message_token_count AS message_agent_thought_message_token_count, message_agent_thought.message_unit_price AS message_agent_thought_message_unit_price, message_agent_thought.message_price_unit AS message_agent_thought_message_price_unit, message_agent_thought.answer AS message_agent_thought_answer, message_agent_thought.answer_token_count AS message_agent_thought_answer_token_count, message_agent_thought.answer_unit_price AS message_agent_thought_answer_unit_price, message_agent_thought.answer_price_unit AS message_agent_thought_answer_price_unit, message_agent_thought.total_token_count AS message_agent_thought_total_token_count, message_agent_thought.total_price AS message_agent_thought_total_price, message_agent_thought.latency AS message_agent_thought_latency, message_agent_thought.updated_at AS message_agent_thought_updated_at, message_agent_thought.created_at AS message_agent_thought_created_at 
FROM message_agent_thought 
WHERE message_agent_thought.message_id = %(message_id_1)s::UUID ORDER BY message_agent_thought.position ASC
[2025-05-24 18:38:33,610.610] base.py -> _exec_single_context line:1901 [INFO]: [cached since 8.424s ago] {'message_id_1': UUID('2d424184-df82-4f94-a7be-7d20fd15d93d')}
[2025-05-24 18:38:33,611.611] base.py -> _exec_single_context line:1896 [INFO]: SELECT message_agent_thought.id AS message_agent_thought_id, message_agent_thought.app_id AS message_agent_thought_app_id, message_agent_thought.conversation_id AS message_agent_thought_conversation_id, message_agent_thought.message_id AS message_agent_thought_message_id, message_agent_thought.invoke_from AS message_agent_thought_invoke_from, message_agent_thought.created_by AS message_agent_thought_created_by, message_agent_thought.position AS message_agent_thought_position, message_agent_thought.event AS message_agent_thought_event, message_agent_thought.thought AS message_agent_thought_thought, message_agent_thought.observation AS message_agent_thought_observation, message_agent_thought.tool AS message_agent_thought_tool, message_agent_thought.tool_input AS message_agent_thought_tool_input, message_agent_thought.message AS message_agent_thought_message, message_agent_thought.message_token_count AS message_agent_thought_message_token_count, message_agent_thought.message_unit_price AS message_agent_thought_message_unit_price, message_agent_thought.message_price_unit AS message_agent_thought_message_price_unit, message_agent_thought.answer AS message_agent_thought_answer, message_agent_thought.answer_token_count AS message_agent_thought_answer_token_count, message_agent_thought.answer_unit_price AS message_agent_thought_answer_unit_price, message_agent_thought.answer_price_unit AS message_agent_thought_answer_price_unit, message_agent_thought.total_token_count AS message_agent_thought_total_token_count, message_agent_thought.total_price AS message_agent_thought_total_price, message_agent_thought.latency AS message_agent_thought_latency, message_agent_thought.updated_at AS message_agent_thought_updated_at, message_agent_thought.created_at AS message_agent_thought_created_at 
FROM message_agent_thought 
WHERE message_agent_thought.message_id = %(message_id_1)s::UUID ORDER BY message_agent_thought.position ASC
[2025-05-24 18:38:33,624.624] base.py -> _exec_single_context line:1901 [INFO]: [cached since 8.439s ago] {'message_id_1': UUID('9ceceadc-4c47-4170-b5d0-21bdd4554a8b')}
[2025-05-24 18:38:33,627.627] base.py -> _exec_single_context line:1896 [INFO]: SELECT message_agent_thought.id AS message_agent_thought_id, message_agent_thought.app_id AS message_agent_thought_app_id, message_agent_thought.conversation_id AS message_agent_thought_conversation_id, message_agent_thought.message_id AS message_agent_thought_message_id, message_agent_thought.invoke_from AS message_agent_thought_invoke_from, message_agent_thought.created_by AS message_agent_thought_created_by, message_agent_thought.position AS message_agent_thought_position, message_agent_thought.event AS message_agent_thought_event, message_agent_thought.thought AS message_agent_thought_thought, message_agent_thought.observation AS message_agent_thought_observation, message_agent_thought.tool AS message_agent_thought_tool, message_agent_thought.tool_input AS message_agent_thought_tool_input, message_agent_thought.message AS message_agent_thought_message, message_agent_thought.message_token_count AS message_agent_thought_message_token_count, message_agent_thought.message_unit_price AS message_agent_thought_message_unit_price, message_agent_thought.message_price_unit AS message_agent_thought_message_price_unit, message_agent_thought.answer AS message_agent_thought_answer, message_agent_thought.answer_token_count AS message_agent_thought_answer_token_count, message_agent_thought.answer_unit_price AS message_agent_thought_answer_unit_price, message_agent_thought.answer_price_unit AS message_agent_thought_answer_price_unit, message_agent_thought.total_token_count AS message_agent_thought_total_token_count, message_agent_thought.total_price AS message_agent_thought_total_price, message_agent_thought.latency AS message_agent_thought_latency, message_agent_thought.updated_at AS message_agent_thought_updated_at, message_agent_thought.created_at AS message_agent_thought_created_at 
FROM message_agent_thought 
WHERE message_agent_thought.message_id = %(message_id_1)s::UUID ORDER BY message_agent_thought.position ASC
[2025-05-24 18:38:33,640.640] base.py -> _exec_single_context line:1901 [INFO]: [cached since 8.454s ago] {'message_id_1': UUID('cfbd7f27-5258-42a9-843a-3aa55992bebe')}
[2025-05-24 18:38:33,643.643] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 18:38:33,644.644] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:38:33] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/conversations/messages?current_page=2&page_size=5&created_at=0 HTTP/1.1" 200 -
[2025-05-24 18:38:36,740.740] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:38:36] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/conversations/delete-debug-conversation HTTP/1.1" 200 -
[2025-05-24 18:38:37,052.052] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:38:37,052.052] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:38:37,052.052] base.py -> _exec_single_context line:1901 [INFO]: [cached since 40.48s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 18:38:37,054.054] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-24 18:38:37,054.054] base.py -> _exec_single_context line:1901 [INFO]: [cached since 11.92s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-24 18:38:37,055.055] base.py -> _exec_single_context line:1896 [INFO]: UPDATE app SET debug_conversation_id=%(debug_conversation_id)s::UUID WHERE app.id = %(app_id)s::UUID
[2025-05-24 18:38:37,055.055] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00025s] {'debug_conversation_id': None, 'app_id': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-24 18:38:37,058.058] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 18:38:37,061.061] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:38:37] "POST /apps/83040ed9-0795-43db-99da-b6eb2321a71b/conversations/delete-debug-conversation HTTP/1.1" 200 -
[2025-05-24 18:38:37,071.071] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:38:37] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/conversations/messages?current_page=1&page_size=5&created_at=0 HTTP/1.1" 200 -
[2025-05-24 18:38:37,318.318] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:38:37,319.319] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:38:37,319.319] base.py -> _exec_single_context line:1901 [INFO]: [cached since 40.75s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 18:38:37,320.320] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-24 18:38:37,320.320] base.py -> _exec_single_context line:1901 [INFO]: [cached since 12.19s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-24 18:38:37,323.323] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO conversation (app_id, name, invoke_from, created_by) VALUES (%(app_id)s::UUID, %(name)s, %(invoke_from)s, %(created_by)s::UUID) RETURNING conversation.id, conversation.summary, conversation.is_pinned, conversation.is_deleted, conversation.updated_at, conversation.created_at
[2025-05-24 18:38:37,323.323] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00028s] {'app_id': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'name': 'New Conversation', 'invoke_from': <InvokeFrom.DEBUGGER: 'debugger'>, 'created_by': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f')}
[2025-05-24 18:38:37,335.335] base.py -> _exec_single_context line:1896 [INFO]: UPDATE app SET debug_conversation_id=%(debug_conversation_id)s::UUID WHERE app.id = %(app_id)s::UUID
[2025-05-24 18:38:37,336.336] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.28s ago] {'debug_conversation_id': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'app_id': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-24 18:38:37,337.337] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 18:38:37,338.338] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:38:37,339.339] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(pk_1)s::UUID
[2025-05-24 18:38:37,339.339] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00024s] {'pk_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7')}
[2025-05-24 18:38:37,341.341] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.conversation_id = %(conversation_id_1)s::UUID AND message.status IN (%(status_1_1)s, %(status_1_2)s) AND message.answer != %(answer_1)s ORDER BY message.created_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2025-05-24 18:38:37,341.341] base.py -> _exec_single_context line:1901 [INFO]: [cached since 12.18s ago] {'conversation_id_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'answer_1': '', 'param_1': 5, 'param_2': 0, 'status_1_1': <MessageStatus.STOP: 'stop'>, 'status_1_2': <MessageStatus.NORMAL: 'normal'>}
[2025-05-24 18:38:37,343.343] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT message.id AS id, message.app_id AS app_id, message.conversation_id AS conversation_id, message.invoke_from AS invoke_from, message.created_by AS created_by, message.query AS query, message.message AS message, message.message_token_count AS message_token_count, message.message_unit_price AS message_unit_price, message.message_price_unit AS message_price_unit, message.answer AS answer, message.answer_token_count AS answer_token_count, message.answer_unit_price AS answer_unit_price, message.answer_price_unit AS answer_price_unit, message.latency AS latency, message.is_deleted AS is_deleted, message.status AS status, message.error AS error, message.total_token_count AS total_token_count, message.total_price AS total_price, message.updated_at AS updated_at, message.created_at AS created_at 
FROM message 
WHERE message.conversation_id = %(conversation_id_1)s::UUID AND message.status IN (%(status_1_1)s, %(status_1_2)s) AND message.answer != %(answer_1)s) AS anon_1
[2025-05-24 18:38:37,346.346] base.py -> _exec_single_context line:1901 [INFO]: [cached since 12.17s ago] {'conversation_id_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'answer_1': '', 'status_1_1': <MessageStatus.STOP: 'stop'>, 'status_1_2': <MessageStatus.NORMAL: 'normal'>}
[2025-05-24 18:38:37,348.348] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 18:38:37,348.348] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:38:37] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/conversations/messages?current_page=1&page_size=5&created_at=0 HTTP/1.1" 200 -
[2025-05-24 18:38:47,089.089] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:38:47] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/conversations HTTP/1.1" 200 -
[2025-05-24 18:38:47,093.093] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:38:47,094.094] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:38:47,094.094] base.py -> _exec_single_context line:1901 [INFO]: [cached since 50.53s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 18:38:47,097.097] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-24 18:38:47,097.097] base.py -> _exec_single_context line:1901 [INFO]: [cached since 21.96s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-24 18:38:47,099.099] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-24 18:38:47,099.099] base.py -> _exec_single_context line:1901 [INFO]: [cached since 21.95s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-24 18:38:47,100.100] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID)
[2025-05-24 18:38:47,100.100] base.py -> _exec_single_context line:1901 [INFO]: [cached since 21.94s ago] {'id_1_1': '9af90c52-28b2-4a47-9c92-148c9f21b512'}
[2025-05-24 18:38:47,102.102] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(id_1)s::UUID AND conversation.invoke_from = %(invoke_from_1)s
[2025-05-24 18:38:47,102.102] base.py -> _exec_single_context line:1901 [INFO]: [cached since 21.96s ago] {'id_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'invoke_from_1': <InvokeFrom.DEBUGGER: 'debugger'>}
[2025-05-24 18:38:47,104.104] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO message (app_id, conversation_id, created_by, query, status) VALUES (%(app_id)s::UUID, %(conversation_id)s::UUID, %(created_by)s::UUID, %(query)s, %(status)s) RETURNING message.id, message.invoke_from, message.message, message.message_token_count, message.message_unit_price, message.message_price_unit, message.answer, message.answer_token_count, message.answer_unit_price, message.answer_price_unit, message.latency, message.is_deleted, message.error, message.total_token_count, message.total_price, message.updated_at, message.created_at
[2025-05-24 18:38:47,104.104] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00025s] {'app_id': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'conversation_id': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'created_by': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'query': '今天淄博天气怎么样?', 'status': <MessageStatus.NORMAL: 'normal'>}
[2025-05-24 18:38:47,112.112] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 18:38:47,157.157] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:38:47,158.158] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(pk_1)s::UUID
[2025-05-24 18:38:47,158.158] base.py -> _exec_single_context line:1901 [INFO]: [cached since 9.82s ago] {'pk_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7')}
[2025-05-24 18:38:47,162.162] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.conversation_id = %(conversation_id_1)s::UUID AND message.answer != %(answer_1)s AND message.is_deleted = false AND message.status IN (%(status_1_1)s, %(status_1_2)s) ORDER BY message.created_at DESC 
 LIMIT %(param_1)s
[2025-05-24 18:38:47,163.163] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00084s] {'conversation_id_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'answer_1': '', 'param_1': 10, 'status_1_1': <MessageStatus.STOP: 'stop'>, 'status_1_2': <MessageStatus.NORMAL: 'normal'>}
[2025-05-24 18:38:47,166.166] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:38:47,166.166] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00036s] {'pk_1': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f')}
[2025-05-24 18:38:55,323.323] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 18:38:55,353.353] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:38:55] "POST /apps/83040ed9-0795-43db-99da-b6eb2321a71b/conversations HTTP/1.1" 200 -
[2025-05-24 18:38:55,360.360] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:38:55] "OPTIONS /ai/suggested-questions HTTP/1.1" 200 -
[2025-05-24 18:38:55,680.680] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:38:55,680.680] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:38:55,680.680] base.py -> _exec_single_context line:1901 [INFO]: [cached since 59.11s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 18:38:55,683.683] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 18:38:55,683.683] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:38:55] "POST /ai/suggested-questions HTTP/1.1" 200 -
[2025-05-24 18:39:55,270.270] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:39:55] "OPTIONS /builtin-tools/categories HTTP/1.1" 200 -
[2025-05-24 18:39:55,271.271] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:39:55] "OPTIONS /datasets?current_page=1&page_size=20&search_word= HTTP/1.1" 200 -
[2025-05-24 18:39:55,273.273] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:39:55] "GET /builtin-tools/categories HTTP/1.1" 200 -
[2025-05-24 18:39:55,273.273] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:39:55] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/conversations/messages?current_page=1&page_size=5&created_at=0 HTTP/1.1" 200 -
[2025-05-24 18:39:55,277.277] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:39:55] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-24 18:39:55,279.279] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:39:55] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-24 18:39:55,582.582] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:39:55,582.582] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:39:55,583.583] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:39:55,584.584] base.py -> _exec_single_context line:1901 [INFO]: [cached since 119s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 18:39:55,584.584] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:39:55,584.584] base.py -> _exec_single_context line:1901 [INFO]: [cached since 119s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 18:39:55,586.586] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.account_id = %(account_id_1)s::UUID ORDER BY dataset.created_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2025-05-24 18:39:55,587.587] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-24 18:39:55,587.587] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.52s ago] {'account_id_1': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'param_1': 20, 'param_2': 0}
[2025-05-24 18:39:55,587.587] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.45s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-24 18:39:55,588.588] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT dataset.id AS id, dataset.account_id AS account_id, dataset.name AS name, dataset.icon AS icon, dataset.description AS description, dataset.updated_at AS updated_at, dataset.created_at AS created_at 
FROM dataset 
WHERE dataset.account_id = %(account_id_1)s::UUID) AS anon_1
[2025-05-24 18:39:55,589.589] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(id_1)s::UUID AND conversation.invoke_from = %(invoke_from_1)s
[2025-05-24 18:39:55,589.589] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.52s ago] {'account_id_1': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f')}
[2025-05-24 18:39:55,595.595] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:39:55,595.595] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.45s ago] {'id_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'invoke_from_1': <InvokeFrom.DEBUGGER: 'debugger'>}
[2025-05-24 18:39:55,597.597] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:39:55,598.598] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,599.599] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:39:55,599.599] base.py -> _exec_single_context line:1901 [INFO]: [cached since 119s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 18:39:55,600.600] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.52s ago] {'dataset_id_1': UUID('e9315438-563c-44e2-99a0-a60e0ba4b76e')}
[2025-05-24 18:39:55,600.600] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.conversation_id = %(conversation_id_1)s::UUID AND message.status IN (%(status_1_1)s, %(status_1_2)s) AND message.answer != %(answer_1)s ORDER BY message.created_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2025-05-24 18:39:55,600.600] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:39:55,602.602] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.44s ago] {'conversation_id_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'answer_1': '', 'param_1': 5, 'param_2': 0, 'status_1_1': <MessageStatus.STOP: 'stop'>, 'status_1_2': <MessageStatus.NORMAL: 'normal'>}
[2025-05-24 18:39:55,602.602] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,603.603] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-24 18:39:55,603.603] base.py -> _exec_single_context line:1901 [INFO]: [cached since 119s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 18:39:55,610.610] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.53s ago] {'dataset_id_1': UUID('e9315438-563c-44e2-99a0-a60e0ba4b76e')}
[2025-05-24 18:39:55,610.610] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.48s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-24 18:39:55,611.611] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT message.id AS id, message.app_id AS app_id, message.conversation_id AS conversation_id, message.invoke_from AS invoke_from, message.created_by AS created_by, message.query AS query, message.message AS message, message.message_token_count AS message_token_count, message.message_unit_price AS message_unit_price, message.message_price_unit AS message_price_unit, message.answer AS answer, message.answer_token_count AS answer_token_count, message.answer_unit_price AS answer_unit_price, message.answer_price_unit AS answer_price_unit, message.latency AS latency, message.is_deleted AS is_deleted, message.status AS status, message.error AS error, message.total_token_count AS total_token_count, message.total_price AS total_price, message.updated_at AS updated_at, message.created_at AS created_at 
FROM message 
WHERE message.conversation_id = %(conversation_id_1)s::UUID AND message.status IN (%(status_1_1)s, %(status_1_2)s) AND message.answer != %(answer_1)s) AS anon_1
[2025-05-24 18:39:55,612.612] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-24 18:39:55,612.612] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,613.613] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.43s ago] {'conversation_id_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'answer_1': '', 'status_1_1': <MessageStatus.STOP: 'stop'>, 'status_1_2': <MessageStatus.NORMAL: 'normal'>}
[2025-05-24 18:39:55,614.614] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-24 18:39:55,614.614] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.48s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-24 18:39:55,614.614] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.53s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('e9315438-563c-44e2-99a0-a60e0ba4b76e')}
[2025-05-24 18:39:55,615.615] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 18:39:55,625.625] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.47s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-24 18:39:55,625.625] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:39:55] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/conversations/messages?current_page=1&page_size=5&created_at=0 HTTP/1.1" 200 -
[2025-05-24 18:39:55,626.626] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-24 18:39:55,627.627] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID)
[2025-05-24 18:39:55,627.627] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,629.629] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.48s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-24 18:39:55,629.629] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.47s ago] {'id_1_1': '9af90c52-28b2-4a47-9c92-148c9f21b512'}
[2025-05-24 18:39:55,629.629] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.55s ago] {'dataset_id_1': UUID('e9af1e9e-fc18-4521-b222-79303a3a949f')}
[2025-05-24 18:39:55,630.630] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 18:39:55,631.631] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 18:39:55,632.632] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,633.633] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:39:55] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-24 18:39:55,633.633] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:39:55] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-24 18:39:55,633.633] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.55s ago] {'dataset_id_1': UUID('e9af1e9e-fc18-4521-b222-79303a3a949f')}
[2025-05-24 18:39:55,642.642] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,642.642] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.56s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('e9af1e9e-fc18-4521-b222-79303a3a949f')}
[2025-05-24 18:39:55,644.644] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,644.644] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.57s ago] {'dataset_id_1': UUID('c44c3229-35d5-4db8-b710-0e66089b5194')}
[2025-05-24 18:39:55,645.645] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,646.646] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.56s ago] {'dataset_id_1': UUID('c44c3229-35d5-4db8-b710-0e66089b5194')}
[2025-05-24 18:39:55,647.647] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,647.647] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.56s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('c44c3229-35d5-4db8-b710-0e66089b5194')}
[2025-05-24 18:39:55,648.648] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,648.648] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.57s ago] {'dataset_id_1': UUID('c4893bc6-7efb-45e4-8307-baf962a48b05')}
[2025-05-24 18:39:55,649.649] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,649.649] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.57s ago] {'dataset_id_1': UUID('c4893bc6-7efb-45e4-8307-baf962a48b05')}
[2025-05-24 18:39:55,650.650] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,650.650] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.56s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('c4893bc6-7efb-45e4-8307-baf962a48b05')}
[2025-05-24 18:39:55,652.652] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,652.652] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.58s ago] {'dataset_id_1': UUID('4cc5b531-8c8a-47b1-a641-bf75d7b7ac82')}
[2025-05-24 18:39:55,653.653] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,653.653] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.57s ago] {'dataset_id_1': UUID('4cc5b531-8c8a-47b1-a641-bf75d7b7ac82')}
[2025-05-24 18:39:55,654.654] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,654.654] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.57s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('4cc5b531-8c8a-47b1-a641-bf75d7b7ac82')}
[2025-05-24 18:39:55,655.655] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,656.656] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.58s ago] {'dataset_id_1': UUID('1ff78486-ddd5-45f0-a024-d63ecbeaa307')}
[2025-05-24 18:39:55,657.657] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,657.657] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.58s ago] {'dataset_id_1': UUID('1ff78486-ddd5-45f0-a024-d63ecbeaa307')}
[2025-05-24 18:39:55,658.658] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,659.659] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.57s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('1ff78486-ddd5-45f0-a024-d63ecbeaa307')}
[2025-05-24 18:39:55,660.660] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,661.661] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.59s ago] {'dataset_id_1': UUID('639052d1-06f1-4e89-a2d8-6eef01fcb5bd')}
[2025-05-24 18:39:55,662.662] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,663.663] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.58s ago] {'dataset_id_1': UUID('639052d1-06f1-4e89-a2d8-6eef01fcb5bd')}
[2025-05-24 18:39:55,665.665] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,665.665] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.58s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('639052d1-06f1-4e89-a2d8-6eef01fcb5bd')}
[2025-05-24 18:39:55,667.667] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,667.667] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.59s ago] {'dataset_id_1': UUID('7b5aca75-14ea-434c-8cbb-c3508eb3dc68')}
[2025-05-24 18:39:55,668.668] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,669.669] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.59s ago] {'dataset_id_1': UUID('7b5aca75-14ea-434c-8cbb-c3508eb3dc68')}
[2025-05-24 18:39:55,670.670] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,670.670] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.58s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('7b5aca75-14ea-434c-8cbb-c3508eb3dc68')}
[2025-05-24 18:39:55,671.671] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,672.672] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.6s ago] {'dataset_id_1': UUID('f932375a-8700-4d3b-ae2d-958b29fcae48')}
[2025-05-24 18:39:55,673.673] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,673.673] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.59s ago] {'dataset_id_1': UUID('f932375a-8700-4d3b-ae2d-958b29fcae48')}
[2025-05-24 18:39:55,674.674] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,674.674] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.59s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('f932375a-8700-4d3b-ae2d-958b29fcae48')}
[2025-05-24 18:39:55,675.675] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,675.675] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.6s ago] {'dataset_id_1': UUID('c6a2f8f1-e3b3-4555-a691-0fe457b2dded')}
[2025-05-24 18:39:55,676.676] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,676.676] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.6s ago] {'dataset_id_1': UUID('c6a2f8f1-e3b3-4555-a691-0fe457b2dded')}
[2025-05-24 18:39:55,677.677] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,677.677] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.59s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('c6a2f8f1-e3b3-4555-a691-0fe457b2dded')}
[2025-05-24 18:39:55,678.678] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,678.678] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.6s ago] {'dataset_id_1': UUID('9af90c52-28b2-4a47-9c92-148c9f21b512')}
[2025-05-24 18:39:55,679.679] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,679.679] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.6s ago] {'dataset_id_1': UUID('9af90c52-28b2-4a47-9c92-148c9f21b512')}
[2025-05-24 18:39:55,680.680] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,680.680] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.59s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('9af90c52-28b2-4a47-9c92-148c9f21b512')}
[2025-05-24 18:39:55,681.681] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,682.682] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.61s ago] {'dataset_id_1': UUID('9cf6cccc-1bf7-44db-9044-1d1638e4e142')}
[2025-05-24 18:39:55,682.682] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,683.683] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.6s ago] {'dataset_id_1': UUID('9cf6cccc-1bf7-44db-9044-1d1638e4e142')}
[2025-05-24 18:39:55,688.688] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,688.688] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.6s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('9cf6cccc-1bf7-44db-9044-1d1638e4e142')}
[2025-05-24 18:39:55,689.689] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,689.689] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.61s ago] {'dataset_id_1': UUID('37a9f300-a2f2-47d1-97ef-67da9b65193d')}
[2025-05-24 18:39:55,690.690] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,690.690] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.61s ago] {'dataset_id_1': UUID('37a9f300-a2f2-47d1-97ef-67da9b65193d')}
[2025-05-24 18:39:55,690.690] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,691.691] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.6s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('37a9f300-a2f2-47d1-97ef-67da9b65193d')}
[2025-05-24 18:39:55,691.691] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,692.692] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.62s ago] {'dataset_id_1': UUID('df56c578-0b13-4ac2-9cdb-cfb431dca264')}
[2025-05-24 18:39:55,692.692] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,692.692] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.61s ago] {'dataset_id_1': UUID('df56c578-0b13-4ac2-9cdb-cfb431dca264')}
[2025-05-24 18:39:55,693.693] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,693.693] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.61s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('df56c578-0b13-4ac2-9cdb-cfb431dca264')}
[2025-05-24 18:39:55,694.694] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,694.694] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.62s ago] {'dataset_id_1': UUID('17166c83-14ea-4ba3-ac67-1bcb1c5672bb')}
[2025-05-24 18:39:55,695.695] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,695.695] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.61s ago] {'dataset_id_1': UUID('17166c83-14ea-4ba3-ac67-1bcb1c5672bb')}
[2025-05-24 18:39:55,696.696] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,696.696] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.61s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('17166c83-14ea-4ba3-ac67-1bcb1c5672bb')}
[2025-05-24 18:39:55,698.698] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,698.698] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.62s ago] {'dataset_id_1': UUID('49908250-8e6e-4284-a6c6-204599c5b53d')}
[2025-05-24 18:39:55,703.703] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,703.703] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.62s ago] {'dataset_id_1': UUID('49908250-8e6e-4284-a6c6-204599c5b53d')}
[2025-05-24 18:39:55,704.704] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,704.704] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.62s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('49908250-8e6e-4284-a6c6-204599c5b53d')}
[2025-05-24 18:39:55,705.705] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,705.705] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.63s ago] {'dataset_id_1': UUID('8af6e64d-1128-427e-b4bf-8ef556836bfa')}
[2025-05-24 18:39:55,706.706] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,706.706] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.62s ago] {'dataset_id_1': UUID('8af6e64d-1128-427e-b4bf-8ef556836bfa')}
[2025-05-24 18:39:55,707.707] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,707.707] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.62s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('8af6e64d-1128-427e-b4bf-8ef556836bfa')}
[2025-05-24 18:39:55,708.708] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,708.708] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.63s ago] {'dataset_id_1': UUID('f1b9d5e9-bbdb-4b81-92a5-ce04bd27a82b')}
[2025-05-24 18:39:55,708.708] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,709.709] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.63s ago] {'dataset_id_1': UUID('f1b9d5e9-bbdb-4b81-92a5-ce04bd27a82b')}
[2025-05-24 18:39:55,709.709] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,710.710] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.62s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('f1b9d5e9-bbdb-4b81-92a5-ce04bd27a82b')}
[2025-05-24 18:39:55,710.710] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,711.711] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.64s ago] {'dataset_id_1': UUID('6bca0bd4-647c-456c-8b9c-00e2b06bd4a9')}
[2025-05-24 18:39:55,712.712] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,712.712] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.63s ago] {'dataset_id_1': UUID('6bca0bd4-647c-456c-8b9c-00e2b06bd4a9')}
[2025-05-24 18:39:55,713.713] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,713.713] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.63s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('6bca0bd4-647c-456c-8b9c-00e2b06bd4a9')}
[2025-05-24 18:39:55,720.720] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,720.720] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.64s ago] {'dataset_id_1': UUID('29d11e42-b1ac-4986-b595-dda47b75302a')}
[2025-05-24 18:39:55,721.721] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,721.721] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.64s ago] {'dataset_id_1': UUID('29d11e42-b1ac-4986-b595-dda47b75302a')}
[2025-05-24 18:39:55,722.722] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:39:55,722.722] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.64s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('29d11e42-b1ac-4986-b595-dda47b75302a')}
[2025-05-24 18:39:55,724.724] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 18:39:55,724.724] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:39:55] "GET /datasets?current_page=1&page_size=20&search_word= HTTP/1.1" 200 -
[2025-05-24 18:39:55,971.971] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:39:55] "GET /builtin-tools/google/icon HTTP/1.1" 200 -
[2025-05-24 18:39:55,972.972] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:39:55] "GET /builtin-tools/gaode/icon HTTP/1.1" 200 -
[2025-05-24 18:42:57,713.713] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:42:57] "OPTIONS /builtin-tools/categories HTTP/1.1" 200 -
[2025-05-24 18:42:57,714.714] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:42:57] "OPTIONS /datasets?current_page=1&page_size=20&search_word= HTTP/1.1" 200 -
[2025-05-24 18:42:57,715.715] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:42:57] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/conversations/messages?current_page=1&page_size=5&created_at=0 HTTP/1.1" 200 -
[2025-05-24 18:42:57,717.717] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:42:57] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-24 18:42:57,720.720] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:42:57] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-24 18:42:58,027.027] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:42:58] "GET /builtin-tools/categories HTTP/1.1" 200 -
[2025-05-24 18:42:58,028.028] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:42:58,029.029] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:42:58,031.031] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:42:58,031.031] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:42:58,031.031] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:42:58,032.032] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:42:58,032.032] base.py -> _exec_single_context line:1901 [INFO]: [cached since 301.5s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 18:42:58,032.032] base.py -> _exec_single_context line:1901 [INFO]: [cached since 301.5s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 18:42:58,033.033] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:42:58,034.034] base.py -> _exec_single_context line:1901 [INFO]: [cached since 301.5s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 18:42:58,035.035] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:42:58,036.036] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-24 18:42:58,037.037] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-24 18:42:58,037.037] base.py -> _exec_single_context line:1901 [INFO]: [cached since 301.5s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 18:42:58,037.037] base.py -> _exec_single_context line:1901 [INFO]: [cached since 272.9s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-24 18:42:58,038.038] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.account_id = %(account_id_1)s::UUID ORDER BY dataset.created_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2025-05-24 18:42:58,039.039] base.py -> _exec_single_context line:1901 [INFO]: [cached since 272.9s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-24 18:42:58,039.039] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273s ago] {'account_id_1': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'param_1': 20, 'param_2': 0}
[2025-05-24 18:42:58,040.040] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-24 18:42:58,040.040] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(id_1)s::UUID AND conversation.invoke_from = %(invoke_from_1)s
[2025-05-24 18:42:58,041.041] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-24 18:42:58,041.041] base.py -> _exec_single_context line:1901 [INFO]: [cached since 272.9s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-24 18:42:58,041.041] base.py -> _exec_single_context line:1901 [INFO]: [cached since 272.9s ago] {'id_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'invoke_from_1': <InvokeFrom.DEBUGGER: 'debugger'>}
[2025-05-24 18:42:58,042.042] base.py -> _exec_single_context line:1901 [INFO]: [cached since 272.9s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-24 18:42:58,043.043] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT dataset.id AS id, dataset.account_id AS account_id, dataset.name AS name, dataset.icon AS icon, dataset.description AS description, dataset.updated_at AS updated_at, dataset.created_at AS created_at 
FROM dataset 
WHERE dataset.account_id = %(account_id_1)s::UUID) AS anon_1
[2025-05-24 18:42:58,044.044] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-24 18:42:58,055.055] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273s ago] {'account_id_1': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f')}
[2025-05-24 18:42:58,056.056] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.conversation_id = %(conversation_id_1)s::UUID AND message.status IN (%(status_1_1)s, %(status_1_2)s) AND message.answer != %(answer_1)s ORDER BY message.created_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2025-05-24 18:42:58,057.057] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID)
[2025-05-24 18:42:58,057.057] base.py -> _exec_single_context line:1901 [INFO]: [cached since 272.9s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-24 18:42:58,058.058] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,063.063] base.py -> _exec_single_context line:1901 [INFO]: [cached since 272.9s ago] {'conversation_id_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'answer_1': '', 'param_1': 5, 'param_2': 0, 'status_1_1': <MessageStatus.STOP: 'stop'>, 'status_1_2': <MessageStatus.NORMAL: 'normal'>}
[2025-05-24 18:42:58,063.063] base.py -> _exec_single_context line:1901 [INFO]: [cached since 272.9s ago] {'id_1_1': '9af90c52-28b2-4a47-9c92-148c9f21b512'}
[2025-05-24 18:42:58,064.064] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273s ago] {'dataset_id_1': UUID('e9315438-563c-44e2-99a0-a60e0ba4b76e')}
[2025-05-24 18:42:58,065.065] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT message.id AS id, message.app_id AS app_id, message.conversation_id AS conversation_id, message.invoke_from AS invoke_from, message.created_by AS created_by, message.query AS query, message.message AS message, message.message_token_count AS message_token_count, message.message_unit_price AS message_unit_price, message.message_price_unit AS message_price_unit, message.answer AS answer, message.answer_token_count AS answer_token_count, message.answer_unit_price AS answer_unit_price, message.answer_price_unit AS answer_price_unit, message.latency AS latency, message.is_deleted AS is_deleted, message.status AS status, message.error AS error, message.total_token_count AS total_token_count, message.total_price AS total_price, message.updated_at AS updated_at, message.created_at AS created_at 
FROM message 
WHERE message.conversation_id = %(conversation_id_1)s::UUID AND message.status IN (%(status_1_1)s, %(status_1_2)s) AND message.answer != %(answer_1)s) AS anon_1
[2025-05-24 18:42:58,066.066] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 18:42:58,066.066] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 18:42:58,066.066] base.py -> _exec_single_context line:1901 [INFO]: [cached since 272.9s ago] {'conversation_id_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'answer_1': '', 'status_1_1': <MessageStatus.STOP: 'stop'>, 'status_1_2': <MessageStatus.NORMAL: 'normal'>}
[2025-05-24 18:42:58,067.067] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,067.067] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:42:58] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-24 18:42:58,068.068] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:42:58] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-24 18:42:58,068.068] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273s ago] {'dataset_id_1': UUID('e9315438-563c-44e2-99a0-a60e0ba4b76e')}
[2025-05-24 18:42:58,069.069] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 18:42:58,070.070] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:42:58] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/conversations/messages?current_page=1&page_size=5&created_at=0 HTTP/1.1" 200 -
[2025-05-24 18:42:58,072.072] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,078.078] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('e9315438-563c-44e2-99a0-a60e0ba4b76e')}
[2025-05-24 18:42:58,080.080] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,080.080] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273s ago] {'dataset_id_1': UUID('e9af1e9e-fc18-4521-b222-79303a3a949f')}
[2025-05-24 18:42:58,080.080] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,081.081] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273s ago] {'dataset_id_1': UUID('e9af1e9e-fc18-4521-b222-79303a3a949f')}
[2025-05-24 18:42:58,082.082] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,082.082] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('e9af1e9e-fc18-4521-b222-79303a3a949f')}
[2025-05-24 18:42:58,083.083] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,083.083] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273s ago] {'dataset_id_1': UUID('c44c3229-35d5-4db8-b710-0e66089b5194')}
[2025-05-24 18:42:58,084.084] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,085.085] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273s ago] {'dataset_id_1': UUID('c44c3229-35d5-4db8-b710-0e66089b5194')}
[2025-05-24 18:42:58,085.085] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,086.086] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('c44c3229-35d5-4db8-b710-0e66089b5194')}
[2025-05-24 18:42:58,086.086] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,087.087] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273s ago] {'dataset_id_1': UUID('c4893bc6-7efb-45e4-8307-baf962a48b05')}
[2025-05-24 18:42:58,087.087] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,088.088] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273s ago] {'dataset_id_1': UUID('c4893bc6-7efb-45e4-8307-baf962a48b05')}
[2025-05-24 18:42:58,088.088] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,089.089] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('c4893bc6-7efb-45e4-8307-baf962a48b05')}
[2025-05-24 18:42:58,090.090] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,090.090] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273s ago] {'dataset_id_1': UUID('4cc5b531-8c8a-47b1-a641-bf75d7b7ac82')}
[2025-05-24 18:42:58,092.092] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,094.094] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273s ago] {'dataset_id_1': UUID('4cc5b531-8c8a-47b1-a641-bf75d7b7ac82')}
[2025-05-24 18:42:58,095.095] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,095.095] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('4cc5b531-8c8a-47b1-a641-bf75d7b7ac82')}
[2025-05-24 18:42:58,097.097] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,097.097] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273s ago] {'dataset_id_1': UUID('1ff78486-ddd5-45f0-a024-d63ecbeaa307')}
[2025-05-24 18:42:58,098.098] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,098.098] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273s ago] {'dataset_id_1': UUID('1ff78486-ddd5-45f0-a024-d63ecbeaa307')}
[2025-05-24 18:42:58,099.099] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,100.100] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('1ff78486-ddd5-45f0-a024-d63ecbeaa307')}
[2025-05-24 18:42:58,101.101] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,101.101] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273s ago] {'dataset_id_1': UUID('639052d1-06f1-4e89-a2d8-6eef01fcb5bd')}
[2025-05-24 18:42:58,102.102] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,102.102] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273s ago] {'dataset_id_1': UUID('639052d1-06f1-4e89-a2d8-6eef01fcb5bd')}
[2025-05-24 18:42:58,103.103] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,103.103] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('639052d1-06f1-4e89-a2d8-6eef01fcb5bd')}
[2025-05-24 18:42:58,104.104] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,104.104] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273s ago] {'dataset_id_1': UUID('7b5aca75-14ea-434c-8cbb-c3508eb3dc68')}
[2025-05-24 18:42:58,105.105] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,105.105] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273s ago] {'dataset_id_1': UUID('7b5aca75-14ea-434c-8cbb-c3508eb3dc68')}
[2025-05-24 18:42:58,105.105] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,105.105] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('7b5aca75-14ea-434c-8cbb-c3508eb3dc68')}
[2025-05-24 18:42:58,106.106] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,107.107] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273s ago] {'dataset_id_1': UUID('f932375a-8700-4d3b-ae2d-958b29fcae48')}
[2025-05-24 18:42:58,107.107] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,108.108] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273s ago] {'dataset_id_1': UUID('f932375a-8700-4d3b-ae2d-958b29fcae48')}
[2025-05-24 18:42:58,108.108] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,109.109] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('f932375a-8700-4d3b-ae2d-958b29fcae48')}
[2025-05-24 18:42:58,109.109] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,109.109] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273s ago] {'dataset_id_1': UUID('c6a2f8f1-e3b3-4555-a691-0fe457b2dded')}
[2025-05-24 18:42:58,110.110] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,110.110] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273s ago] {'dataset_id_1': UUID('c6a2f8f1-e3b3-4555-a691-0fe457b2dded')}
[2025-05-24 18:42:58,111.111] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,111.111] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('c6a2f8f1-e3b3-4555-a691-0fe457b2dded')}
[2025-05-24 18:42:58,111.111] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,113.113] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273s ago] {'dataset_id_1': UUID('9af90c52-28b2-4a47-9c92-148c9f21b512')}
[2025-05-24 18:42:58,113.113] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,114.114] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273s ago] {'dataset_id_1': UUID('9af90c52-28b2-4a47-9c92-148c9f21b512')}
[2025-05-24 18:42:58,114.114] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,114.114] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('9af90c52-28b2-4a47-9c92-148c9f21b512')}
[2025-05-24 18:42:58,115.115] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,115.115] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273s ago] {'dataset_id_1': UUID('9cf6cccc-1bf7-44db-9044-1d1638e4e142')}
[2025-05-24 18:42:58,122.122] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,122.122] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273s ago] {'dataset_id_1': UUID('9cf6cccc-1bf7-44db-9044-1d1638e4e142')}
[2025-05-24 18:42:58,123.123] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,123.123] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('9cf6cccc-1bf7-44db-9044-1d1638e4e142')}
[2025-05-24 18:42:58,124.124] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,124.124] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273s ago] {'dataset_id_1': UUID('37a9f300-a2f2-47d1-97ef-67da9b65193d')}
[2025-05-24 18:42:58,125.125] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,125.125] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273s ago] {'dataset_id_1': UUID('37a9f300-a2f2-47d1-97ef-67da9b65193d')}
[2025-05-24 18:42:58,126.126] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,127.127] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('37a9f300-a2f2-47d1-97ef-67da9b65193d')}
[2025-05-24 18:42:58,128.128] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,128.128] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273.1s ago] {'dataset_id_1': UUID('df56c578-0b13-4ac2-9cdb-cfb431dca264')}
[2025-05-24 18:42:58,128.128] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,129.129] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273s ago] {'dataset_id_1': UUID('df56c578-0b13-4ac2-9cdb-cfb431dca264')}
[2025-05-24 18:42:58,130.130] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,130.130] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('df56c578-0b13-4ac2-9cdb-cfb431dca264')}
[2025-05-24 18:42:58,131.131] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,131.131] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273.1s ago] {'dataset_id_1': UUID('17166c83-14ea-4ba3-ac67-1bcb1c5672bb')}
[2025-05-24 18:42:58,131.131] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,131.131] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273.1s ago] {'dataset_id_1': UUID('17166c83-14ea-4ba3-ac67-1bcb1c5672bb')}
[2025-05-24 18:42:58,133.133] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,133.133] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('17166c83-14ea-4ba3-ac67-1bcb1c5672bb')}
[2025-05-24 18:42:58,133.133] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,133.133] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273.1s ago] {'dataset_id_1': UUID('49908250-8e6e-4284-a6c6-204599c5b53d')}
[2025-05-24 18:42:58,133.133] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,133.133] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273.1s ago] {'dataset_id_1': UUID('49908250-8e6e-4284-a6c6-204599c5b53d')}
[2025-05-24 18:42:58,133.133] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,133.133] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('49908250-8e6e-4284-a6c6-204599c5b53d')}
[2025-05-24 18:42:58,133.133] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,133.133] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273.1s ago] {'dataset_id_1': UUID('8af6e64d-1128-427e-b4bf-8ef556836bfa')}
[2025-05-24 18:42:58,133.133] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,133.133] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273.1s ago] {'dataset_id_1': UUID('8af6e64d-1128-427e-b4bf-8ef556836bfa')}
[2025-05-24 18:42:58,133.133] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,133.133] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273.1s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('8af6e64d-1128-427e-b4bf-8ef556836bfa')}
[2025-05-24 18:42:58,133.133] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,133.133] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273.1s ago] {'dataset_id_1': UUID('f1b9d5e9-bbdb-4b81-92a5-ce04bd27a82b')}
[2025-05-24 18:42:58,146.146] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,147.147] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273.1s ago] {'dataset_id_1': UUID('f1b9d5e9-bbdb-4b81-92a5-ce04bd27a82b')}
[2025-05-24 18:42:58,148.148] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,148.148] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273.1s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('f1b9d5e9-bbdb-4b81-92a5-ce04bd27a82b')}
[2025-05-24 18:42:58,149.149] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,149.149] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273.1s ago] {'dataset_id_1': UUID('6bca0bd4-647c-456c-8b9c-00e2b06bd4a9')}
[2025-05-24 18:42:58,150.150] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,150.150] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273.1s ago] {'dataset_id_1': UUID('6bca0bd4-647c-456c-8b9c-00e2b06bd4a9')}
[2025-05-24 18:42:58,151.151] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,151.151] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273.1s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('6bca0bd4-647c-456c-8b9c-00e2b06bd4a9')}
[2025-05-24 18:42:58,152.152] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,153.153] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273.1s ago] {'dataset_id_1': UUID('29d11e42-b1ac-4986-b595-dda47b75302a')}
[2025-05-24 18:42:58,154.154] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,155.155] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273.1s ago] {'dataset_id_1': UUID('29d11e42-b1ac-4986-b595-dda47b75302a')}
[2025-05-24 18:42:58,156.156] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:42:58,156.156] base.py -> _exec_single_context line:1901 [INFO]: [cached since 273.1s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('29d11e42-b1ac-4986-b595-dda47b75302a')}
[2025-05-24 18:42:58,157.157] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 18:42:58,158.158] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:42:58] "GET /datasets?current_page=1&page_size=20&search_word= HTTP/1.1" 200 -
[2025-05-24 18:42:58,274.274] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:42:58] "GET /builtin-tools/google/icon HTTP/1.1" 200 -
[2025-05-24 18:42:58,395.395] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:42:58] "GET /builtin-tools/gaode/icon HTTP/1.1" 200 -
[2025-05-24 18:43:10,011.011] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:43:10] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/conversations HTTP/1.1" 200 -
[2025-05-24 18:43:10,015.015] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:43:10,016.016] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:43:10,016.016] base.py -> _exec_single_context line:1901 [INFO]: [cached since 313.4s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 18:43:10,018.018] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-24 18:43:10,018.018] base.py -> _exec_single_context line:1901 [INFO]: [cached since 284.9s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-24 18:43:10,019.019] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-24 18:43:10,019.019] base.py -> _exec_single_context line:1901 [INFO]: [cached since 284.9s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-24 18:43:10,021.021] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID)
[2025-05-24 18:43:10,021.021] base.py -> _exec_single_context line:1901 [INFO]: [cached since 284.9s ago] {'id_1_1': '9af90c52-28b2-4a47-9c92-148c9f21b512'}
[2025-05-24 18:43:10,023.023] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(id_1)s::UUID AND conversation.invoke_from = %(invoke_from_1)s
[2025-05-24 18:43:10,023.023] base.py -> _exec_single_context line:1901 [INFO]: [cached since 284.9s ago] {'id_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'invoke_from_1': <InvokeFrom.DEBUGGER: 'debugger'>}
[2025-05-24 18:43:10,025.025] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO message (app_id, conversation_id, created_by, query, status) VALUES (%(app_id)s::UUID, %(conversation_id)s::UUID, %(created_by)s::UUID, %(query)s, %(status)s) RETURNING message.id, message.invoke_from, message.message, message.message_token_count, message.message_unit_price, message.message_price_unit, message.answer, message.answer_token_count, message.answer_unit_price, message.answer_price_unit, message.latency, message.is_deleted, message.error, message.total_token_count, message.total_price, message.updated_at, message.created_at
[2025-05-24 18:43:10,025.025] base.py -> _exec_single_context line:1901 [INFO]: [cached since 262.9s ago] {'app_id': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'conversation_id': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'created_by': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'query': '帮我看下今天淄博天气怎么样?', 'status': <MessageStatus.NORMAL: 'normal'>}
[2025-05-24 18:43:10,036.036] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 18:43:10,095.095] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:43:10,097.097] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(pk_1)s::UUID
[2025-05-24 18:43:10,097.097] base.py -> _exec_single_context line:1901 [INFO]: [cached since 272.8s ago] {'pk_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7')}
[2025-05-24 18:43:10,098.098] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.conversation_id = %(conversation_id_1)s::UUID AND message.answer != %(answer_1)s AND message.is_deleted = false AND message.status IN (%(status_1_1)s, %(status_1_2)s) ORDER BY message.created_at DESC 
 LIMIT %(param_1)s
[2025-05-24 18:43:10,098.098] base.py -> _exec_single_context line:1901 [INFO]: [cached since 262.9s ago] {'conversation_id_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'answer_1': '', 'param_1': 10, 'status_1_1': <MessageStatus.STOP: 'stop'>, 'status_1_2': <MessageStatus.NORMAL: 'normal'>}
[2025-05-24 18:43:10,100.100] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:43:10,100.100] base.py -> _exec_single_context line:1901 [INFO]: [cached since 262.9s ago] {'pk_1': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f')}
[2025-05-24 18:43:18,275.275] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 18:43:18,307.307] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:43:18] "POST /apps/83040ed9-0795-43db-99da-b6eb2321a71b/conversations HTTP/1.1" 200 -
[2025-05-24 18:43:18,627.627] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:43:18] "OPTIONS /ai/suggested-questions HTTP/1.1" 200 -
[2025-05-24 18:43:18,941.941] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:43:18,941.941] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:43:18,941.941] base.py -> _exec_single_context line:1901 [INFO]: [cached since 322.4s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 18:43:18,943.943] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 18:43:18,943.943] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:43:18] "POST /ai/suggested-questions HTTP/1.1" 200 -
[2025-05-24 18:44:31,191.191] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:44:31] "OPTIONS /builtin-tools/categories HTTP/1.1" 200 -
[2025-05-24 18:44:31,198.198] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:44:31] "OPTIONS /datasets?current_page=1&page_size=20&search_word= HTTP/1.1" 200 -
[2025-05-24 18:44:31,205.205] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:44:31] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/conversations/messages?current_page=1&page_size=5&created_at=0 HTTP/1.1" 200 -
[2025-05-24 18:44:31,209.209] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:44:31] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-24 18:44:31,211.211] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:44:31] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-24 18:44:31,522.522] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:44:31] "GET /builtin-tools/categories HTTP/1.1" 200 -
[2025-05-24 18:44:31,591.591] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:44:31,597.597] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:44:31,602.602] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:44:31,611.611] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:44:31,614.614] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:44:31,615.615] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:44:31,615.615] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:44:31,616.616] base.py -> _exec_single_context line:1901 [INFO]: [cached since 395s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 18:44:31,617.617] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:44:31,617.617] base.py -> _exec_single_context line:1901 [INFO]: [cached since 395s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 18:44:31,617.617] base.py -> _exec_single_context line:1901 [INFO]: [cached since 395s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 18:44:31,619.619] base.py -> _exec_single_context line:1901 [INFO]: [cached since 395.1s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 18:44:31,669.669] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-24 18:44:31,669.669] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.account_id = %(account_id_1)s::UUID ORDER BY dataset.created_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2025-05-24 18:44:31,670.670] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-24 18:44:31,671.671] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-24 18:44:31,672.672] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.5s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-24 18:44:31,673.673] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.6s ago] {'account_id_1': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'param_1': 20, 'param_2': 0}
[2025-05-24 18:44:31,674.674] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.5s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-24 18:44:31,674.674] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.5s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-24 18:44:31,679.679] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-24 18:44:31,680.680] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(id_1)s::UUID AND conversation.invoke_from = %(invoke_from_1)s
[2025-05-24 18:44:31,687.687] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT dataset.id AS id, dataset.account_id AS account_id, dataset.name AS name, dataset.icon AS icon, dataset.description AS description, dataset.updated_at AS updated_at, dataset.created_at AS created_at 
FROM dataset 
WHERE dataset.account_id = %(account_id_1)s::UUID) AS anon_1
[2025-05-24 18:44:31,693.693] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-24 18:44:31,694.694] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.5s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-24 18:44:31,695.695] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.6s ago] {'id_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'invoke_from_1': <InvokeFrom.DEBUGGER: 'debugger'>}
[2025-05-24 18:44:31,696.696] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.6s ago] {'account_id_1': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f')}
[2025-05-24 18:44:31,696.696] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.5s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-24 18:44:31,704.704] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,710.710] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID)
[2025-05-24 18:44:31,713.713] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 18:44:31,714.714] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.conversation_id = %(conversation_id_1)s::UUID AND message.status IN (%(status_1_1)s, %(status_1_2)s) AND message.answer != %(answer_1)s ORDER BY message.created_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2025-05-24 18:44:31,714.714] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.6s ago] {'dataset_id_1': UUID('e9315438-563c-44e2-99a0-a60e0ba4b76e')}
[2025-05-24 18:44:31,714.714] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.6s ago] {'id_1_1': '9af90c52-28b2-4a47-9c92-148c9f21b512'}
[2025-05-24 18:44:31,715.715] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.5s ago] {'conversation_id_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'answer_1': '', 'param_1': 5, 'param_2': 0, 'status_1_1': <MessageStatus.STOP: 'stop'>, 'status_1_2': <MessageStatus.NORMAL: 'normal'>}
[2025-05-24 18:44:31,717.717] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:44:31] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-24 18:44:31,719.719] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 18:44:31,720.720] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,721.721] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.6s ago] {'dataset_id_1': UUID('e9315438-563c-44e2-99a0-a60e0ba4b76e')}
[2025-05-24 18:44:31,721.721] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:44:31] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-24 18:44:31,723.723] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,724.724] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT message.id AS id, message.app_id AS app_id, message.conversation_id AS conversation_id, message.invoke_from AS invoke_from, message.created_by AS created_by, message.query AS query, message.message AS message, message.message_token_count AS message_token_count, message.message_unit_price AS message_unit_price, message.message_price_unit AS message_price_unit, message.answer AS answer, message.answer_token_count AS answer_token_count, message.answer_unit_price AS answer_unit_price, message.answer_price_unit AS answer_price_unit, message.latency AS latency, message.is_deleted AS is_deleted, message.status AS status, message.error AS error, message.total_token_count AS total_token_count, message.total_price AS total_price, message.updated_at AS updated_at, message.created_at AS created_at 
FROM message 
WHERE message.conversation_id = %(conversation_id_1)s::UUID AND message.status IN (%(status_1_1)s, %(status_1_2)s) AND message.answer != %(answer_1)s) AS anon_1
[2025-05-24 18:44:31,724.724] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.6s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('e9315438-563c-44e2-99a0-a60e0ba4b76e')}
[2025-05-24 18:44:31,726.726] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.5s ago] {'conversation_id_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'answer_1': '', 'status_1_1': <MessageStatus.STOP: 'stop'>, 'status_1_2': <MessageStatus.NORMAL: 'normal'>}
[2025-05-24 18:44:31,729.729] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,730.730] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 18:44:31,730.730] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'dataset_id_1': UUID('e9af1e9e-fc18-4521-b222-79303a3a949f')}
[2025-05-24 18:44:31,732.732] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:44:31] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/conversations/messages?current_page=1&page_size=5&created_at=0 HTTP/1.1" 200 -
[2025-05-24 18:44:31,733.733] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,734.734] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'dataset_id_1': UUID('e9af1e9e-fc18-4521-b222-79303a3a949f')}
[2025-05-24 18:44:31,736.736] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,736.736] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('e9af1e9e-fc18-4521-b222-79303a3a949f')}
[2025-05-24 18:44:31,738.738] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,739.739] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'dataset_id_1': UUID('c44c3229-35d5-4db8-b710-0e66089b5194')}
[2025-05-24 18:44:31,741.741] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,741.741] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'dataset_id_1': UUID('c44c3229-35d5-4db8-b710-0e66089b5194')}
[2025-05-24 18:44:31,744.744] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,744.744] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('c44c3229-35d5-4db8-b710-0e66089b5194')}
[2025-05-24 18:44:31,746.746] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,746.746] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'dataset_id_1': UUID('c4893bc6-7efb-45e4-8307-baf962a48b05')}
[2025-05-24 18:44:31,749.749] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,749.749] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'dataset_id_1': UUID('c4893bc6-7efb-45e4-8307-baf962a48b05')}
[2025-05-24 18:44:31,752.752] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,752.752] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('c4893bc6-7efb-45e4-8307-baf962a48b05')}
[2025-05-24 18:44:31,754.754] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,754.754] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'dataset_id_1': UUID('4cc5b531-8c8a-47b1-a641-bf75d7b7ac82')}
[2025-05-24 18:44:31,756.756] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,756.756] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'dataset_id_1': UUID('4cc5b531-8c8a-47b1-a641-bf75d7b7ac82')}
[2025-05-24 18:44:31,757.757] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,757.757] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('4cc5b531-8c8a-47b1-a641-bf75d7b7ac82')}
[2025-05-24 18:44:31,758.758] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,759.759] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'dataset_id_1': UUID('1ff78486-ddd5-45f0-a024-d63ecbeaa307')}
[2025-05-24 18:44:31,760.760] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,760.760] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'dataset_id_1': UUID('1ff78486-ddd5-45f0-a024-d63ecbeaa307')}
[2025-05-24 18:44:31,761.761] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,761.761] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('1ff78486-ddd5-45f0-a024-d63ecbeaa307')}
[2025-05-24 18:44:31,763.763] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,763.763] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'dataset_id_1': UUID('639052d1-06f1-4e89-a2d8-6eef01fcb5bd')}
[2025-05-24 18:44:31,764.764] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,765.765] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'dataset_id_1': UUID('639052d1-06f1-4e89-a2d8-6eef01fcb5bd')}
[2025-05-24 18:44:31,766.766] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,767.767] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('639052d1-06f1-4e89-a2d8-6eef01fcb5bd')}
[2025-05-24 18:44:31,771.771] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:44:31] "GET /builtin-tools/google/icon HTTP/1.1" 200 -
[2025-05-24 18:44:31,771.771] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,772.772] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'dataset_id_1': UUID('7b5aca75-14ea-434c-8cbb-c3508eb3dc68')}
[2025-05-24 18:44:31,774.774] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,774.774] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'dataset_id_1': UUID('7b5aca75-14ea-434c-8cbb-c3508eb3dc68')}
[2025-05-24 18:44:31,775.775] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,775.775] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('7b5aca75-14ea-434c-8cbb-c3508eb3dc68')}
[2025-05-24 18:44:31,776.776] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,778.778] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'dataset_id_1': UUID('f932375a-8700-4d3b-ae2d-958b29fcae48')}
[2025-05-24 18:44:31,779.779] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,780.780] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'dataset_id_1': UUID('f932375a-8700-4d3b-ae2d-958b29fcae48')}
[2025-05-24 18:44:31,781.781] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,782.782] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('f932375a-8700-4d3b-ae2d-958b29fcae48')}
[2025-05-24 18:44:31,783.783] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,783.783] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'dataset_id_1': UUID('c6a2f8f1-e3b3-4555-a691-0fe457b2dded')}
[2025-05-24 18:44:31,784.784] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,785.785] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'dataset_id_1': UUID('c6a2f8f1-e3b3-4555-a691-0fe457b2dded')}
[2025-05-24 18:44:31,785.785] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,786.786] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('c6a2f8f1-e3b3-4555-a691-0fe457b2dded')}
[2025-05-24 18:44:31,788.788] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,788.788] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'dataset_id_1': UUID('9af90c52-28b2-4a47-9c92-148c9f21b512')}
[2025-05-24 18:44:31,789.789] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,789.789] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'dataset_id_1': UUID('9af90c52-28b2-4a47-9c92-148c9f21b512')}
[2025-05-24 18:44:31,790.790] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,790.790] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('9af90c52-28b2-4a47-9c92-148c9f21b512')}
[2025-05-24 18:44:31,791.791] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,791.791] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'dataset_id_1': UUID('9cf6cccc-1bf7-44db-9044-1d1638e4e142')}
[2025-05-24 18:44:31,792.792] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,793.793] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'dataset_id_1': UUID('9cf6cccc-1bf7-44db-9044-1d1638e4e142')}
[2025-05-24 18:44:31,794.794] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,794.794] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('9cf6cccc-1bf7-44db-9044-1d1638e4e142')}
[2025-05-24 18:44:31,796.796] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,796.796] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'dataset_id_1': UUID('37a9f300-a2f2-47d1-97ef-67da9b65193d')}
[2025-05-24 18:44:31,798.798] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,798.798] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'dataset_id_1': UUID('37a9f300-a2f2-47d1-97ef-67da9b65193d')}
[2025-05-24 18:44:31,800.800] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,800.800] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('37a9f300-a2f2-47d1-97ef-67da9b65193d')}
[2025-05-24 18:44:31,803.803] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,803.803] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'dataset_id_1': UUID('df56c578-0b13-4ac2-9cdb-cfb431dca264')}
[2025-05-24 18:44:31,804.804] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,804.804] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'dataset_id_1': UUID('df56c578-0b13-4ac2-9cdb-cfb431dca264')}
[2025-05-24 18:44:31,805.805] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,805.805] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('df56c578-0b13-4ac2-9cdb-cfb431dca264')}
[2025-05-24 18:44:31,806.806] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,807.807] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'dataset_id_1': UUID('17166c83-14ea-4ba3-ac67-1bcb1c5672bb')}
[2025-05-24 18:44:31,808.808] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,808.808] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'dataset_id_1': UUID('17166c83-14ea-4ba3-ac67-1bcb1c5672bb')}
[2025-05-24 18:44:31,809.809] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,809.809] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('17166c83-14ea-4ba3-ac67-1bcb1c5672bb')}
[2025-05-24 18:44:31,810.810] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,811.811] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'dataset_id_1': UUID('49908250-8e6e-4284-a6c6-204599c5b53d')}
[2025-05-24 18:44:31,813.813] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,813.813] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'dataset_id_1': UUID('49908250-8e6e-4284-a6c6-204599c5b53d')}
[2025-05-24 18:44:31,814.814] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,814.814] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('49908250-8e6e-4284-a6c6-204599c5b53d')}
[2025-05-24 18:44:31,816.816] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,816.816] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'dataset_id_1': UUID('8af6e64d-1128-427e-b4bf-8ef556836bfa')}
[2025-05-24 18:44:31,817.817] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,818.818] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'dataset_id_1': UUID('8af6e64d-1128-427e-b4bf-8ef556836bfa')}
[2025-05-24 18:44:31,819.819] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,819.819] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('8af6e64d-1128-427e-b4bf-8ef556836bfa')}
[2025-05-24 18:44:31,821.821] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,821.821] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'dataset_id_1': UUID('f1b9d5e9-bbdb-4b81-92a5-ce04bd27a82b')}
[2025-05-24 18:44:31,822.822] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,822.822] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'dataset_id_1': UUID('f1b9d5e9-bbdb-4b81-92a5-ce04bd27a82b')}
[2025-05-24 18:44:31,823.823] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,823.823] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('f1b9d5e9-bbdb-4b81-92a5-ce04bd27a82b')}
[2025-05-24 18:44:31,824.824] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,824.824] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'dataset_id_1': UUID('6bca0bd4-647c-456c-8b9c-00e2b06bd4a9')}
[2025-05-24 18:44:31,825.825] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,825.825] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'dataset_id_1': UUID('6bca0bd4-647c-456c-8b9c-00e2b06bd4a9')}
[2025-05-24 18:44:31,826.826] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,826.826] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('6bca0bd4-647c-456c-8b9c-00e2b06bd4a9')}
[2025-05-24 18:44:31,827.827] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,827.827] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.8s ago] {'dataset_id_1': UUID('29d11e42-b1ac-4986-b595-dda47b75302a')}
[2025-05-24 18:44:31,828.828] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,828.828] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'dataset_id_1': UUID('29d11e42-b1ac-4986-b595-dda47b75302a')}
[2025-05-24 18:44:31,830.830] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:44:31,830.830] base.py -> _exec_single_context line:1901 [INFO]: [cached since 366.7s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('29d11e42-b1ac-4986-b595-dda47b75302a')}
[2025-05-24 18:44:31,835.835] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 18:44:31,836.836] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:44:31] "GET /datasets?current_page=1&page_size=20&search_word= HTTP/1.1" 200 -
[2025-05-24 18:44:32,082.082] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:44:32] "GET /builtin-tools/gaode/icon HTTP/1.1" 200 -
[2025-05-24 18:44:38,724.724] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:44:38] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/conversations HTTP/1.1" 200 -
[2025-05-24 18:44:39,033.033] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:44:39,034.034] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:44:39,034.034] base.py -> _exec_single_context line:1901 [INFO]: [cached since 402.5s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 18:44:39,038.038] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-24 18:44:39,038.038] base.py -> _exec_single_context line:1901 [INFO]: [cached since 373.9s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-24 18:44:39,040.040] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-24 18:44:39,040.040] base.py -> _exec_single_context line:1901 [INFO]: [cached since 373.9s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-24 18:44:39,042.042] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID)
[2025-05-24 18:44:39,042.042] base.py -> _exec_single_context line:1901 [INFO]: [cached since 373.9s ago] {'id_1_1': '9af90c52-28b2-4a47-9c92-148c9f21b512'}
[2025-05-24 18:44:39,043.043] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(id_1)s::UUID AND conversation.invoke_from = %(invoke_from_1)s
[2025-05-24 18:44:39,047.047] base.py -> _exec_single_context line:1901 [INFO]: [cached since 373.9s ago] {'id_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'invoke_from_1': <InvokeFrom.DEBUGGER: 'debugger'>}
[2025-05-24 18:44:39,055.055] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO message (app_id, conversation_id, created_by, query, status) VALUES (%(app_id)s::UUID, %(conversation_id)s::UUID, %(created_by)s::UUID, %(query)s, %(status)s) RETURNING message.id, message.invoke_from, message.message, message.message_token_count, message.message_unit_price, message.message_price_unit, message.answer, message.answer_token_count, message.answer_unit_price, message.answer_price_unit, message.latency, message.is_deleted, message.error, message.total_token_count, message.total_price, message.updated_at, message.created_at
[2025-05-24 18:44:39,056.056] base.py -> _exec_single_context line:1901 [INFO]: [cached since 352s ago] {'app_id': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'conversation_id': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'created_by': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'query': '淄博天气怎么样?', 'status': <MessageStatus.NORMAL: 'normal'>}
[2025-05-24 18:44:39,069.069] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 18:44:39,194.194] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:44:39,196.196] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(pk_1)s::UUID
[2025-05-24 18:44:39,196.196] base.py -> _exec_single_context line:1901 [INFO]: [cached since 361.9s ago] {'pk_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7')}
[2025-05-24 18:44:39,198.198] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.conversation_id = %(conversation_id_1)s::UUID AND message.answer != %(answer_1)s AND message.is_deleted = false AND message.status IN (%(status_1_1)s, %(status_1_2)s) ORDER BY message.created_at DESC 
 LIMIT %(param_1)s
[2025-05-24 18:44:39,198.198] base.py -> _exec_single_context line:1901 [INFO]: [cached since 352s ago] {'conversation_id_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'answer_1': '', 'param_1': 10, 'status_1_1': <MessageStatus.STOP: 'stop'>, 'status_1_2': <MessageStatus.NORMAL: 'normal'>}
[2025-05-24 18:44:39,206.206] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:44:39,206.206] base.py -> _exec_single_context line:1901 [INFO]: [cached since 352s ago] {'pk_1': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f')}
[2025-05-24 18:44:47,450.450] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 18:44:47,497.497] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:44:47] "POST /apps/83040ed9-0795-43db-99da-b6eb2321a71b/conversations HTTP/1.1" 200 -
[2025-05-24 18:44:47,808.808] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:44:47] "OPTIONS /ai/suggested-questions HTTP/1.1" 200 -
[2025-05-24 18:44:47,811.811] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:44:47,813.813] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:44:47,813.813] base.py -> _exec_single_context line:1901 [INFO]: [cached since 411.2s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 18:44:47,815.815] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 18:44:47,815.815] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:44:47] "POST /ai/suggested-questions HTTP/1.1" 200 -
[2025-05-24 18:46:53,384.384] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:46:53] "OPTIONS /builtin-tools/categories HTTP/1.1" 200 -
[2025-05-24 18:46:53,388.388] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:46:53] "OPTIONS /datasets?current_page=1&page_size=20&search_word= HTTP/1.1" 200 -
[2025-05-24 18:46:53,391.391] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:46:53] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/conversations/messages?current_page=1&page_size=5&created_at=0 HTTP/1.1" 200 -
[2025-05-24 18:46:53,400.400] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:46:53] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-24 18:46:53,403.403] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:46:53] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-24 18:46:53,694.694] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:46:53] "GET /builtin-tools/categories HTTP/1.1" 200 -
[2025-05-24 18:46:53,716.716] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:46:53,721.721] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:46:53,723.723] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:46:53,724.724] base.py -> _exec_single_context line:1901 [INFO]: [cached since 537.2s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 18:46:53,726.726] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:46:53,726.726] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:46:53,728.728] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:46:53,728.728] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:46:53,729.729] base.py -> _exec_single_context line:1901 [INFO]: [cached since 537.2s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 18:46:53,729.729] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:46:53,730.730] base.py -> _exec_single_context line:1901 [INFO]: [cached since 537.2s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 18:46:53,731.731] base.py -> _exec_single_context line:1901 [INFO]: [cached since 537.2s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 18:46:53,749.749] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-24 18:46:53,750.750] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-24 18:46:53,755.755] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.account_id = %(account_id_1)s::UUID ORDER BY dataset.created_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2025-05-24 18:46:53,755.755] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-24 18:46:53,756.756] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.6s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-24 18:46:53,756.756] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.6s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-24 18:46:53,756.756] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.7s ago] {'account_id_1': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'param_1': 20, 'param_2': 0}
[2025-05-24 18:46:53,756.756] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.6s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-24 18:46:53,759.759] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(id_1)s::UUID AND conversation.invoke_from = %(invoke_from_1)s
[2025-05-24 18:46:53,762.762] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT dataset.id AS id, dataset.account_id AS account_id, dataset.name AS name, dataset.icon AS icon, dataset.description AS description, dataset.updated_at AS updated_at, dataset.created_at AS created_at 
FROM dataset 
WHERE dataset.account_id = %(account_id_1)s::UUID) AS anon_1
[2025-05-24 18:46:53,766.766] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-24 18:46:53,767.767] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-24 18:46:53,767.767] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.6s ago] {'id_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'invoke_from_1': <InvokeFrom.DEBUGGER: 'debugger'>}
[2025-05-24 18:46:53,767.767] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.7s ago] {'account_id_1': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f')}
[2025-05-24 18:46:53,767.767] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.6s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-24 18:46:53,771.771] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.6s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-24 18:46:53,773.773] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.conversation_id = %(conversation_id_1)s::UUID AND message.status IN (%(status_1_1)s, %(status_1_2)s) AND message.answer != %(answer_1)s ORDER BY message.created_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2025-05-24 18:46:53,776.776] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID)
[2025-05-24 18:46:53,777.777] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 18:46:53,778.778] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,779.779] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.6s ago] {'conversation_id_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'answer_1': '', 'param_1': 5, 'param_2': 0, 'status_1_1': <MessageStatus.STOP: 'stop'>, 'status_1_2': <MessageStatus.NORMAL: 'normal'>}
[2025-05-24 18:46:53,779.779] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.6s ago] {'id_1_1': '9af90c52-28b2-4a47-9c92-148c9f21b512'}
[2025-05-24 18:46:53,779.779] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.7s ago] {'dataset_id_1': UUID('e9315438-563c-44e2-99a0-a60e0ba4b76e')}
[2025-05-24 18:46:53,780.780] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:46:53] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-24 18:46:53,782.782] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 18:46:53,783.783] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,784.784] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT message.id AS id, message.app_id AS app_id, message.conversation_id AS conversation_id, message.invoke_from AS invoke_from, message.created_by AS created_by, message.query AS query, message.message AS message, message.message_token_count AS message_token_count, message.message_unit_price AS message_unit_price, message.message_price_unit AS message_price_unit, message.answer AS answer, message.answer_token_count AS answer_token_count, message.answer_unit_price AS answer_unit_price, message.answer_price_unit AS answer_price_unit, message.latency AS latency, message.is_deleted AS is_deleted, message.status AS status, message.error AS error, message.total_token_count AS total_token_count, message.total_price AS total_price, message.updated_at AS updated_at, message.created_at AS created_at 
FROM message 
WHERE message.conversation_id = %(conversation_id_1)s::UUID AND message.status IN (%(status_1_1)s, %(status_1_2)s) AND message.answer != %(answer_1)s) AS anon_1
[2025-05-24 18:46:53,784.784] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.7s ago] {'dataset_id_1': UUID('e9315438-563c-44e2-99a0-a60e0ba4b76e')}
[2025-05-24 18:46:53,784.784] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:46:53] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-24 18:46:53,785.785] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.6s ago] {'conversation_id_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'answer_1': '', 'status_1_1': <MessageStatus.STOP: 'stop'>, 'status_1_2': <MessageStatus.NORMAL: 'normal'>}
[2025-05-24 18:46:53,787.787] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,788.788] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.7s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('e9315438-563c-44e2-99a0-a60e0ba4b76e')}
[2025-05-24 18:46:53,789.789] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 18:46:53,790.790] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,792.792] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:46:53] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/conversations/messages?current_page=1&page_size=5&created_at=0 HTTP/1.1" 200 -
[2025-05-24 18:46:53,792.792] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.7s ago] {'dataset_id_1': UUID('e9af1e9e-fc18-4521-b222-79303a3a949f')}
[2025-05-24 18:46:53,793.793] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,793.793] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.7s ago] {'dataset_id_1': UUID('e9af1e9e-fc18-4521-b222-79303a3a949f')}
[2025-05-24 18:46:53,795.795] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,797.797] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.7s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('e9af1e9e-fc18-4521-b222-79303a3a949f')}
[2025-05-24 18:46:53,799.799] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,799.799] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.7s ago] {'dataset_id_1': UUID('c44c3229-35d5-4db8-b710-0e66089b5194')}
[2025-05-24 18:46:53,800.800] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,800.800] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.7s ago] {'dataset_id_1': UUID('c44c3229-35d5-4db8-b710-0e66089b5194')}
[2025-05-24 18:46:53,801.801] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,801.801] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.7s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('c44c3229-35d5-4db8-b710-0e66089b5194')}
[2025-05-24 18:46:53,801.801] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,801.801] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.7s ago] {'dataset_id_1': UUID('c4893bc6-7efb-45e4-8307-baf962a48b05')}
[2025-05-24 18:46:53,802.802] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,802.802] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.7s ago] {'dataset_id_1': UUID('c4893bc6-7efb-45e4-8307-baf962a48b05')}
[2025-05-24 18:46:53,803.803] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,803.803] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.7s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('c4893bc6-7efb-45e4-8307-baf962a48b05')}
[2025-05-24 18:46:53,804.804] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,804.804] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.7s ago] {'dataset_id_1': UUID('4cc5b531-8c8a-47b1-a641-bf75d7b7ac82')}
[2025-05-24 18:46:53,805.805] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,805.805] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.7s ago] {'dataset_id_1': UUID('4cc5b531-8c8a-47b1-a641-bf75d7b7ac82')}
[2025-05-24 18:46:53,806.806] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,807.807] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.7s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('4cc5b531-8c8a-47b1-a641-bf75d7b7ac82')}
[2025-05-24 18:46:53,807.807] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,808.808] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.7s ago] {'dataset_id_1': UUID('1ff78486-ddd5-45f0-a024-d63ecbeaa307')}
[2025-05-24 18:46:53,809.809] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,809.809] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.7s ago] {'dataset_id_1': UUID('1ff78486-ddd5-45f0-a024-d63ecbeaa307')}
[2025-05-24 18:46:53,809.809] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,811.811] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.7s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('1ff78486-ddd5-45f0-a024-d63ecbeaa307')}
[2025-05-24 18:46:53,812.812] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,812.812] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.7s ago] {'dataset_id_1': UUID('639052d1-06f1-4e89-a2d8-6eef01fcb5bd')}
[2025-05-24 18:46:53,813.813] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,813.813] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.7s ago] {'dataset_id_1': UUID('639052d1-06f1-4e89-a2d8-6eef01fcb5bd')}
[2025-05-24 18:46:53,814.814] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,814.814] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.7s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('639052d1-06f1-4e89-a2d8-6eef01fcb5bd')}
[2025-05-24 18:46:53,815.815] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,815.815] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.7s ago] {'dataset_id_1': UUID('7b5aca75-14ea-434c-8cbb-c3508eb3dc68')}
[2025-05-24 18:46:53,817.817] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,817.817] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.7s ago] {'dataset_id_1': UUID('7b5aca75-14ea-434c-8cbb-c3508eb3dc68')}
[2025-05-24 18:46:53,818.818] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,819.819] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.7s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('7b5aca75-14ea-434c-8cbb-c3508eb3dc68')}
[2025-05-24 18:46:53,820.820] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,820.820] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.7s ago] {'dataset_id_1': UUID('f932375a-8700-4d3b-ae2d-958b29fcae48')}
[2025-05-24 18:46:53,821.821] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,821.821] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.7s ago] {'dataset_id_1': UUID('f932375a-8700-4d3b-ae2d-958b29fcae48')}
[2025-05-24 18:46:53,821.821] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,822.822] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.7s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('f932375a-8700-4d3b-ae2d-958b29fcae48')}
[2025-05-24 18:46:53,822.822] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,823.823] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.7s ago] {'dataset_id_1': UUID('c6a2f8f1-e3b3-4555-a691-0fe457b2dded')}
[2025-05-24 18:46:53,823.823] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,824.824] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.7s ago] {'dataset_id_1': UUID('c6a2f8f1-e3b3-4555-a691-0fe457b2dded')}
[2025-05-24 18:46:53,825.825] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,825.825] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.7s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('c6a2f8f1-e3b3-4555-a691-0fe457b2dded')}
[2025-05-24 18:46:53,826.826] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,826.826] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.8s ago] {'dataset_id_1': UUID('9af90c52-28b2-4a47-9c92-148c9f21b512')}
[2025-05-24 18:46:53,827.827] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,827.827] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.7s ago] {'dataset_id_1': UUID('9af90c52-28b2-4a47-9c92-148c9f21b512')}
[2025-05-24 18:46:53,828.828] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,828.828] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.7s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('9af90c52-28b2-4a47-9c92-148c9f21b512')}
[2025-05-24 18:46:53,829.829] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,829.829] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.8s ago] {'dataset_id_1': UUID('9cf6cccc-1bf7-44db-9044-1d1638e4e142')}
[2025-05-24 18:46:53,829.829] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,829.829] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.7s ago] {'dataset_id_1': UUID('9cf6cccc-1bf7-44db-9044-1d1638e4e142')}
[2025-05-24 18:46:53,831.831] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,831.831] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.7s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('9cf6cccc-1bf7-44db-9044-1d1638e4e142')}
[2025-05-24 18:46:53,833.833] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,833.833] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.8s ago] {'dataset_id_1': UUID('37a9f300-a2f2-47d1-97ef-67da9b65193d')}
[2025-05-24 18:46:53,835.835] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,835.835] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.8s ago] {'dataset_id_1': UUID('37a9f300-a2f2-47d1-97ef-67da9b65193d')}
[2025-05-24 18:46:53,836.836] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,837.837] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.8s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('37a9f300-a2f2-47d1-97ef-67da9b65193d')}
[2025-05-24 18:46:53,838.838] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,838.838] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.8s ago] {'dataset_id_1': UUID('df56c578-0b13-4ac2-9cdb-cfb431dca264')}
[2025-05-24 18:46:53,839.839] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,839.839] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.8s ago] {'dataset_id_1': UUID('df56c578-0b13-4ac2-9cdb-cfb431dca264')}
[2025-05-24 18:46:53,841.841] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,841.841] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.8s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('df56c578-0b13-4ac2-9cdb-cfb431dca264')}
[2025-05-24 18:46:53,842.842] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,842.842] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.8s ago] {'dataset_id_1': UUID('17166c83-14ea-4ba3-ac67-1bcb1c5672bb')}
[2025-05-24 18:46:53,843.843] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,844.844] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.8s ago] {'dataset_id_1': UUID('17166c83-14ea-4ba3-ac67-1bcb1c5672bb')}
[2025-05-24 18:46:53,845.845] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,845.845] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.8s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('17166c83-14ea-4ba3-ac67-1bcb1c5672bb')}
[2025-05-24 18:46:53,846.846] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,847.847] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.8s ago] {'dataset_id_1': UUID('49908250-8e6e-4284-a6c6-204599c5b53d')}
[2025-05-24 18:46:53,847.847] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,848.848] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.8s ago] {'dataset_id_1': UUID('49908250-8e6e-4284-a6c6-204599c5b53d')}
[2025-05-24 18:46:53,848.848] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,848.848] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.8s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('49908250-8e6e-4284-a6c6-204599c5b53d')}
[2025-05-24 18:46:53,849.849] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,849.849] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.8s ago] {'dataset_id_1': UUID('8af6e64d-1128-427e-b4bf-8ef556836bfa')}
[2025-05-24 18:46:53,850.850] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,850.850] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.8s ago] {'dataset_id_1': UUID('8af6e64d-1128-427e-b4bf-8ef556836bfa')}
[2025-05-24 18:46:53,850.850] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,851.851] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.8s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('8af6e64d-1128-427e-b4bf-8ef556836bfa')}
[2025-05-24 18:46:53,851.851] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,852.852] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.8s ago] {'dataset_id_1': UUID('f1b9d5e9-bbdb-4b81-92a5-ce04bd27a82b')}
[2025-05-24 18:46:53,852.852] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,853.853] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.8s ago] {'dataset_id_1': UUID('f1b9d5e9-bbdb-4b81-92a5-ce04bd27a82b')}
[2025-05-24 18:46:53,853.853] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,854.854] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.8s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('f1b9d5e9-bbdb-4b81-92a5-ce04bd27a82b')}
[2025-05-24 18:46:53,855.855] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,855.855] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.8s ago] {'dataset_id_1': UUID('6bca0bd4-647c-456c-8b9c-00e2b06bd4a9')}
[2025-05-24 18:46:53,855.855] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,856.856] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.8s ago] {'dataset_id_1': UUID('6bca0bd4-647c-456c-8b9c-00e2b06bd4a9')}
[2025-05-24 18:46:53,856.856] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,856.856] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.8s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('6bca0bd4-647c-456c-8b9c-00e2b06bd4a9')}
[2025-05-24 18:46:53,857.857] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,857.857] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.8s ago] {'dataset_id_1': UUID('29d11e42-b1ac-4986-b595-dda47b75302a')}
[2025-05-24 18:46:53,858.858] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,858.858] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.8s ago] {'dataset_id_1': UUID('29d11e42-b1ac-4986-b595-dda47b75302a')}
[2025-05-24 18:46:53,858.858] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 18:46:53,858.858] base.py -> _exec_single_context line:1901 [INFO]: [cached since 508.8s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('29d11e42-b1ac-4986-b595-dda47b75302a')}
[2025-05-24 18:46:53,860.860] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 18:46:53,861.861] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:46:53] "GET /datasets?current_page=1&page_size=20&search_word= HTTP/1.1" 200 -
[2025-05-24 18:46:53,945.945] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:46:53] "GET /builtin-tools/google/icon HTTP/1.1" 200 -
[2025-05-24 18:46:54,115.115] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:46:54] "GET /builtin-tools/gaode/icon HTTP/1.1" 200 -
[2025-05-24 18:47:02,150.150] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:47:02] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/conversations HTTP/1.1" 200 -
[2025-05-24 18:47:02,155.155] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:47:02,156.156] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:47:02,156.156] base.py -> _exec_single_context line:1901 [INFO]: [cached since 545.6s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 18:47:02,159.159] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-24 18:47:02,159.159] base.py -> _exec_single_context line:1901 [INFO]: [cached since 517s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-24 18:47:02,160.160] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-24 18:47:02,162.162] base.py -> _exec_single_context line:1901 [INFO]: [cached since 517s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-24 18:47:02,164.164] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID)
[2025-05-24 18:47:02,164.164] base.py -> _exec_single_context line:1901 [INFO]: [cached since 517s ago] {'id_1_1': '9af90c52-28b2-4a47-9c92-148c9f21b512'}
[2025-05-24 18:47:02,165.165] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(id_1)s::UUID AND conversation.invoke_from = %(invoke_from_1)s
[2025-05-24 18:47:02,167.167] base.py -> _exec_single_context line:1901 [INFO]: [cached since 517s ago] {'id_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'invoke_from_1': <InvokeFrom.DEBUGGER: 'debugger'>}
[2025-05-24 18:47:02,173.173] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO message (app_id, conversation_id, created_by, query, status) VALUES (%(app_id)s::UUID, %(conversation_id)s::UUID, %(created_by)s::UUID, %(query)s, %(status)s) RETURNING message.id, message.invoke_from, message.message, message.message_token_count, message.message_unit_price, message.message_price_unit, message.answer, message.answer_token_count, message.answer_unit_price, message.answer_price_unit, message.latency, message.is_deleted, message.error, message.total_token_count, message.total_price, message.updated_at, message.created_at
[2025-05-24 18:47:02,174.174] base.py -> _exec_single_context line:1901 [INFO]: [cached since 495.1s ago] {'app_id': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'conversation_id': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'created_by': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'query': '淄博天气今天怎么样?', 'status': <MessageStatus.NORMAL: 'normal'>}
[2025-05-24 18:47:02,191.191] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 18:47:02,341.341] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:47:02,342.342] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(pk_1)s::UUID
[2025-05-24 18:47:02,342.342] base.py -> _exec_single_context line:1901 [INFO]: [cached since 505s ago] {'pk_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7')}
[2025-05-24 18:47:02,345.345] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.conversation_id = %(conversation_id_1)s::UUID AND message.answer != %(answer_1)s AND message.is_deleted = false AND message.status IN (%(status_1_1)s, %(status_1_2)s) ORDER BY message.created_at DESC 
 LIMIT %(param_1)s
[2025-05-24 18:47:02,345.345] base.py -> _exec_single_context line:1901 [INFO]: [cached since 495.2s ago] {'conversation_id_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'answer_1': '', 'param_1': 10, 'status_1_1': <MessageStatus.STOP: 'stop'>, 'status_1_2': <MessageStatus.NORMAL: 'normal'>}
[2025-05-24 18:47:02,350.350] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:47:02,351.351] base.py -> _exec_single_context line:1901 [INFO]: [cached since 495.2s ago] {'pk_1': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f')}
[2025-05-24 18:47:05,429.429] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.id = %(pk_1)s::UUID
[2025-05-24 18:47:05,433.433] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00432s] {'pk_1': UUID('028adad0-cce1-4e38-9cfe-562f98daa5c6')}
[2025-05-24 18:47:05,436.436] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:47:05] "POST /apps/83040ed9-0795-43db-99da-b6eb2321a71b/conversations HTTP/1.1" 200 -
[2025-05-24 18:47:08,522.522] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:47:08,522.522] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 18:47:08,523.523] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(pk_1)s::UUID
[2025-05-24 18:47:08,524.524] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00051s] {'pk_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7')}
[2025-05-24 18:47:08,526.526] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.id = %(pk_1)s::UUID
[2025-05-24 18:47:08,527.527] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00094s] {'pk_1': UUID('028adad0-cce1-4e38-9cfe-562f98daa5c6')}
[2025-05-24 18:47:08,535.535] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO message_agent_thought (app_id, conversation_id, message_id, invoke_from, created_by, position, event, thought, observation, tool, tool_input, message, answer, latency) VALUES (%(app_id)s::UUID, %(conversation_id)s::UUID, %(message_id)s::UUID, %(invoke_from)s, %(created_by)s::UUID, %(position)s, %(event)s, %(thought)s, %(observation)s, %(tool)s, %(tool_input)s::JSONB, %(message)s::JSONB, %(answer)s, %(latency)s) RETURNING message_agent_thought.id, message_agent_thought.message_token_count, message_agent_thought.message_unit_price, message_agent_thought.message_price_unit, message_agent_thought.answer_token_count, message_agent_thought.answer_unit_price, message_agent_thought.answer_price_unit, message_agent_thought.total_token_count, message_agent_thought.total_price, message_agent_thought.updated_at, message_agent_thought.created_at
[2025-05-24 18:47:08,535.535] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00110s] {'app_id': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'conversation_id': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'message_id': UUID('028adad0-cce1-4e38-9cfe-562f98daa5c6'), 'invoke_from': <InvokeFrom.DEBUGGER: 'debugger'>, 'created_by': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'position': 1, 'event': <QueueEvent.AGENT_THOUGHT: 'agent_thought'>, 'thought': '[{"name": "gaode_weather", "args": {"city": "\\u6dc4\\u535a"}, "id": "call_SQQrrXRb9IB3W4NwAttZw2pt", "type": "tool_call"}]', 'observation': '', 'tool': '', 'tool_input': '{}', 'message': '[{"type": "system", "data": {"content": "\\u4f60\\u662f\\u4e00\\u4e2a\\u9ad8\\u5ea6\\u5b9a\\u5236\\u7684\\u667a\\u80fd\\u4f53\\u5e94\\u7528\\uff0c\\u ... (2910 characters truncated) ... ", "additional_kwargs": {}, "response_metadata": {}, "type": "human", "name": null, "id": "85f84d9f-047e-4b43-8a43-789b5cb42d4d", "example": false}}]', 'answer': '', 'latency': 2.967357799999945}
[2025-05-24 18:47:08,544.544] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 18:47:08,546.546] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:47:08,546.546] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(pk_1)s::UUID
[2025-05-24 18:47:08,546.546] base.py -> _exec_single_context line:1901 [INFO]: [cached since 511.2s ago] {'pk_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7')}
[2025-05-24 18:47:08,548.548] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.id = %(pk_1)s::UUID
[2025-05-24 18:47:08,548.548] base.py -> _exec_single_context line:1901 [INFO]: [cached since 3.119s ago] {'pk_1': UUID('028adad0-cce1-4e38-9cfe-562f98daa5c6')}
[2025-05-24 18:47:08,551.551] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO message_agent_thought (app_id, conversation_id, message_id, invoke_from, created_by, position, event, thought, observation, tool, tool_input, message, answer, latency) VALUES (%(app_id)s::UUID, %(conversation_id)s::UUID, %(message_id)s::UUID, %(invoke_from)s, %(created_by)s::UUID, %(position)s, %(event)s, %(thought)s, %(observation)s, %(tool)s, %(tool_input)s::JSONB, %(message)s::JSONB, %(answer)s, %(latency)s) RETURNING message_agent_thought.id, message_agent_thought.message_token_count, message_agent_thought.message_unit_price, message_agent_thought.message_price_unit, message_agent_thought.answer_token_count, message_agent_thought.answer_unit_price, message_agent_thought.answer_price_unit, message_agent_thought.total_token_count, message_agent_thought.total_price, message_agent_thought.updated_at, message_agent_thought.created_at
[2025-05-24 18:47:08,551.551] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.01647s ago] {'app_id': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'conversation_id': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'message_id': UUID('028adad0-cce1-4e38-9cfe-562f98daa5c6'), 'invoke_from': <InvokeFrom.DEBUGGER: 'debugger'>, 'created_by': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'position': 2, 'event': <QueueEvent.AGENT_ACTION: 'agent_action'>, 'thought': '', 'observation': '"{\\"status\\": \\"1\\", \\"count\\": \\"1\\", \\"info\\": \\"OK\\", \\"infocode\\": \\"10000\\", \\"forecasts\\": [{\\"city\\": \\"\\\\u6dc4\\\\u535 ... (1484 characters truncated) ... \": \\"\\\\u5317\\", \\"daypower\\": \\"1-3\\", \\"nightpower\\": \\"1-3\\", \\"daytemp_float\\": \\"33.0\\", \\"nighttemp_float\\": \\"20.0\\"}]}]}"', 'tool': 'gaode_weather', 'tool_input': '{"city": "\\u6dc4\\u535a"}', 'message': '{}', 'answer': '', 'latency': 0.21207570000001397}
[2025-05-24 18:47:08,561.561] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 18:47:08,562.562] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:47:08,563.563] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(pk_1)s::UUID
[2025-05-24 18:47:08,563.563] base.py -> _exec_single_context line:1901 [INFO]: [cached since 511.2s ago] {'pk_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7')}
[2025-05-24 18:47:08,564.564] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.id = %(pk_1)s::UUID
[2025-05-24 18:47:08,565.565] base.py -> _exec_single_context line:1901 [INFO]: [cached since 3.136s ago] {'pk_1': UUID('028adad0-cce1-4e38-9cfe-562f98daa5c6')}
[2025-05-24 18:47:08,566.566] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO message_agent_thought (app_id, conversation_id, message_id, invoke_from, created_by, position, event, thought, observation, tool, tool_input, message, answer, latency) VALUES (%(app_id)s::UUID, %(conversation_id)s::UUID, %(message_id)s::UUID, %(invoke_from)s, %(created_by)s::UUID, %(position)s, %(event)s, %(thought)s, %(observation)s, %(tool)s, %(tool_input)s::JSONB, %(message)s::JSONB, %(answer)s, %(latency)s) RETURNING message_agent_thought.id, message_agent_thought.message_token_count, message_agent_thought.message_unit_price, message_agent_thought.message_price_unit, message_agent_thought.answer_token_count, message_agent_thought.answer_unit_price, message_agent_thought.answer_price_unit, message_agent_thought.total_token_count, message_agent_thought.total_price, message_agent_thought.updated_at, message_agent_thought.created_at
[2025-05-24 18:47:08,566.566] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.03242s ago] {'app_id': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'conversation_id': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'message_id': UUID('028adad0-cce1-4e38-9cfe-562f98daa5c6'), 'invoke_from': <InvokeFrom.DEBUGGER: 'debugger'>, 'created_by': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'position': 3, 'event': <QueueEvent.AGENT_MESSAGE: 'agent_message'>, 'thought': '今天淄博的天气情况如下：\n\n- **日期**：2025年5月24日（星期六）\n- **白天气温**：27°C，天气晴\n- **夜间气温**：14°C，天气晴\n- **风向**：北风，风力1-3级\n\n如果你还有其他问题或需要了解更多信息，请告诉我！', 'observation': '', 'tool': '', 'tool_input': '{}', 'message': '[{"type": "system", "data": {"content": "\\u4f60\\u662f\\u4e00\\u4e2a\\u9ad8\\u5ea6\\u5b9a\\u5236\\u7684\\u667a\\u80fd\\u4f53\\u5e94\\u7528\\uff0c\\u ... (6628 characters truncated) ... ode_weather", "id": "87753d52-7bf2-4552-b35e-e1946de41cc1", "tool_call_id": "call_SQQrrXRb9IB3W4NwAttZw2pt", "artifact": null, "status": "success"}}]', 'answer': '今天淄博的天气情况如下：\n\n- **日期**：2025年5月24日（星期六）\n- **白天气温**：27°C，天气晴\n- **夜间气温**：14°C，天气晴\n- **风向**：北风，风力1-3级\n\n如果你还有其他问题或需要了解更多信息，请告诉我！', 'latency': 2.8573506999999836}
[2025-05-24 18:47:08,572.572] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 18:47:08,573.573] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:47:08,573.573] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.id = %(pk_1)s::UUID
[2025-05-24 18:47:08,573.573] base.py -> _exec_single_context line:1901 [INFO]: [cached since 3.144s ago] {'pk_1': UUID('028adad0-cce1-4e38-9cfe-562f98daa5c6')}
[2025-05-24 18:47:08,575.575] base.py -> _exec_single_context line:1896 [INFO]: UPDATE message SET message=%(message)s::JSONB, answer=%(answer)s, latency=%(latency)s WHERE message.id = %(message_id)s::UUID
[2025-05-24 18:47:08,575.575] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00040s] {'message': '[{"type": "system", "data": {"content": "\\u4f60\\u662f\\u4e00\\u4e2a\\u9ad8\\u5ea6\\u5b9a\\u5236\\u7684\\u667a\\u80fd\\u4f53\\u5e94\\u7528\\uff0c\\u ... (6628 characters truncated) ... ode_weather", "id": "87753d52-7bf2-4552-b35e-e1946de41cc1", "tool_call_id": "call_SQQrrXRb9IB3W4NwAttZw2pt", "artifact": null, "status": "success"}}]', 'answer': '今天淄博的天气情况如下：\n\n- **日期**：2025年5月24日（星期六）\n- **白天气温**：27°C，天气晴\n- **夜间气温**：14°C，天气晴\n- **风向**：北风，风力1-3级\n\n如果你还有其他问题或需要了解更多信息，请告诉我！', 'latency': 6.036784199999943, 'message_id': UUID('028adad0-cce1-4e38-9cfe-562f98daa5c6')}
[2025-05-24 18:47:08,581.581] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 18:47:08,582.582] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:47:08,582.582] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.id = %(pk_1)s::UUID
[2025-05-24 18:47:08,583.583] base.py -> _exec_single_context line:1901 [INFO]: [cached since 3.154s ago] {'pk_1': UUID('028adad0-cce1-4e38-9cfe-562f98daa5c6')}
[2025-05-24 18:47:08,584.584] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(pk_1)s::UUID
[2025-05-24 18:47:08,584.584] base.py -> _exec_single_context line:1901 [INFO]: [cached since 511.2s ago] {'pk_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7')}
[2025-05-24 18:47:08,837.837] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:47:08] "OPTIONS /ai/suggested-questions HTTP/1.1" 200 -
[2025-05-24 18:47:09,151.151] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:47:09,151.151] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:47:09,152.152] base.py -> _exec_single_context line:1901 [INFO]: [cached since 552.6s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 18:47:09,154.154] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.id = %(pk_1)s::UUID
[2025-05-24 18:47:09,154.154] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.6284s ago] {'pk_1': '028adad0-cce1-4e38-9cfe-562f98daa5c6'}
[2025-05-24 18:47:13,076.076] base.py -> _exec_single_context line:1896 [INFO]: UPDATE conversation SET summary=%(summary)s WHERE conversation.id = %(conversation_id)s::UUID
[2025-05-24 18:47:13,076.076] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00048s] {'summary': '人类询问淄博今天的天气情况。AI提供了详细的天气预报，包括日期（2025年5月24日）、白天气温（27°C，晴）、夜间气温（14°C，晴）以及风向（北风，1-3级）。', 'conversation_id': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7')}
[2025-05-24 18:47:13,077.077] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 18:47:13,078.078] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:47:13,078.078] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(pk_1)s::UUID
[2025-05-24 18:47:13,078.078] base.py -> _exec_single_context line:1901 [INFO]: [cached since 515.7s ago] {'pk_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7')}
[2025-05-24 18:47:13,081.081] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(message.id) AS count_1 
FROM message 
WHERE message.conversation_id = %(conversation_id_1)s::UUID
[2025-05-24 18:47:13,082.082] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00050s] {'conversation_id_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7')}
[2025-05-24 18:47:13,083.083] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 18:47:13,214.214] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 18:47:13,215.215] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:47:13] "POST /ai/suggested-questions HTTP/1.1" 200 -
[2025-05-24 18:47:21,517.517] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:47:21] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/conversations HTTP/1.1" 200 -
[2025-05-24 18:47:21,521.521] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:47:21,522.522] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:47:21,523.523] base.py -> _exec_single_context line:1901 [INFO]: [cached since 565s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 18:47:21,525.525] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-24 18:47:21,526.526] base.py -> _exec_single_context line:1901 [INFO]: [cached since 536.4s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-24 18:47:21,527.527] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-24 18:47:21,527.527] base.py -> _exec_single_context line:1901 [INFO]: [cached since 536.4s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-24 18:47:21,528.528] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID)
[2025-05-24 18:47:21,529.529] base.py -> _exec_single_context line:1901 [INFO]: [cached since 536.4s ago] {'id_1_1': '9af90c52-28b2-4a47-9c92-148c9f21b512'}
[2025-05-24 18:47:21,530.530] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(id_1)s::UUID AND conversation.invoke_from = %(invoke_from_1)s
[2025-05-24 18:47:21,530.530] base.py -> _exec_single_context line:1901 [INFO]: [cached since 536.4s ago] {'id_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'invoke_from_1': <InvokeFrom.DEBUGGER: 'debugger'>}
[2025-05-24 18:47:21,531.531] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO message (app_id, conversation_id, created_by, query, status) VALUES (%(app_id)s::UUID, %(conversation_id)s::UUID, %(created_by)s::UUID, %(query)s, %(status)s) RETURNING message.id, message.invoke_from, message.message, message.message_token_count, message.message_unit_price, message.message_price_unit, message.answer, message.answer_token_count, message.answer_unit_price, message.answer_price_unit, message.latency, message.is_deleted, message.error, message.total_token_count, message.total_price, message.updated_at, message.created_at
[2025-05-24 18:47:21,531.531] base.py -> _exec_single_context line:1901 [INFO]: [cached since 514.4s ago] {'app_id': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'conversation_id': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'created_by': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'query': '人类是否能够实现可持续发展与经济增长的平衡？', 'status': <MessageStatus.NORMAL: 'normal'>}
[2025-05-24 18:47:21,545.545] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 18:47:21,600.600] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:47:21,601.601] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(pk_1)s::UUID
[2025-05-24 18:47:21,601.601] base.py -> _exec_single_context line:1901 [INFO]: [cached since 524.3s ago] {'pk_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7')}
[2025-05-24 18:47:21,602.602] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.conversation_id = %(conversation_id_1)s::UUID AND message.answer != %(answer_1)s AND message.is_deleted = false AND message.status IN (%(status_1_1)s, %(status_1_2)s) ORDER BY message.created_at DESC 
 LIMIT %(param_1)s
[2025-05-24 18:47:21,603.603] base.py -> _exec_single_context line:1901 [INFO]: [cached since 514.4s ago] {'conversation_id_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'answer_1': '', 'param_1': 10, 'status_1_1': <MessageStatus.STOP: 'stop'>, 'status_1_2': <MessageStatus.NORMAL: 'normal'>}
[2025-05-24 18:47:21,797.797] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:47:21,799.799] base.py -> _exec_single_context line:1901 [INFO]: [cached since 514.6s ago] {'pk_1': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f')}
[2025-05-24 18:47:22,820.820] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.id = %(pk_1)s::UUID
[2025-05-24 18:47:22,821.821] base.py -> _exec_single_context line:1901 [INFO]: [cached since 17.39s ago] {'pk_1': UUID('cba4fb88-f280-4fba-b66f-19be667ed08d')}
[2025-05-24 18:47:22,821.821] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:47:22] "POST /apps/83040ed9-0795-43db-99da-b6eb2321a71b/conversations HTTP/1.1" 200 -
[2025-05-24 18:47:28,691.691] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 18:47:28,691.691] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:47:28,692.692] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(pk_1)s::UUID
[2025-05-24 18:47:28,692.692] base.py -> _exec_single_context line:1901 [INFO]: [cached since 20.17s ago] {'pk_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7')}
[2025-05-24 18:47:28,693.693] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.id = %(pk_1)s::UUID
[2025-05-24 18:47:28,694.694] base.py -> _exec_single_context line:1901 [INFO]: [cached since 20.17s ago] {'pk_1': UUID('cba4fb88-f280-4fba-b66f-19be667ed08d')}
[2025-05-24 18:47:28,696.696] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO message_agent_thought (app_id, conversation_id, message_id, invoke_from, created_by, position, event, thought, observation, tool, tool_input, message, answer, latency) VALUES (%(app_id)s::UUID, %(conversation_id)s::UUID, %(message_id)s::UUID, %(invoke_from)s, %(created_by)s::UUID, %(position)s, %(event)s, %(thought)s, %(observation)s, %(tool)s, %(tool_input)s::JSONB, %(message)s::JSONB, %(answer)s, %(latency)s) RETURNING message_agent_thought.id, message_agent_thought.message_token_count, message_agent_thought.message_unit_price, message_agent_thought.message_price_unit, message_agent_thought.answer_token_count, message_agent_thought.answer_unit_price, message_agent_thought.answer_price_unit, message_agent_thought.total_token_count, message_agent_thought.total_price, message_agent_thought.updated_at, message_agent_thought.created_at
[2025-05-24 18:47:28,697.697] base.py -> _exec_single_context line:1901 [INFO]: [cached since 20.16s ago] {'app_id': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'conversation_id': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'message_id': UUID('cba4fb88-f280-4fba-b66f-19be667ed08d'), 'invoke_from': <InvokeFrom.DEBUGGER: 'debugger'>, 'created_by': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'position': 1, 'event': <QueueEvent.LONG_TERM_MEMORY_RECALL: 'long_term_memory_recall'>, 'thought': '', 'observation': '人类询问淄博今天的天气情况。AI提供了详细的天气预报，包括日期（2025年5月24日）、白天气温（27°C，晴）、夜间气温（14°C，晴）以及风向（北风，1-3级）。', 'tool': '', 'tool_input': '{}', 'message': '{}', 'answer': '', 'latency': 0}
[2025-05-24 18:47:28,699.699] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 18:47:28,700.700] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:47:28,701.701] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(pk_1)s::UUID
[2025-05-24 18:47:28,701.701] base.py -> _exec_single_context line:1901 [INFO]: [cached since 531.4s ago] {'pk_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7')}
[2025-05-24 18:47:28,702.702] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.id = %(pk_1)s::UUID
[2025-05-24 18:47:28,702.702] base.py -> _exec_single_context line:1901 [INFO]: [cached since 23.27s ago] {'pk_1': UUID('cba4fb88-f280-4fba-b66f-19be667ed08d')}
[2025-05-24 18:47:28,703.703] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO message_agent_thought (app_id, conversation_id, message_id, invoke_from, created_by, position, event, thought, observation, tool, tool_input, message, answer, latency) VALUES (%(app_id)s::UUID, %(conversation_id)s::UUID, %(message_id)s::UUID, %(invoke_from)s, %(created_by)s::UUID, %(position)s, %(event)s, %(thought)s, %(observation)s, %(tool)s, %(tool_input)s::JSONB, %(message)s::JSONB, %(answer)s, %(latency)s) RETURNING message_agent_thought.id, message_agent_thought.message_token_count, message_agent_thought.message_unit_price, message_agent_thought.message_price_unit, message_agent_thought.answer_token_count, message_agent_thought.answer_unit_price, message_agent_thought.answer_price_unit, message_agent_thought.total_token_count, message_agent_thought.total_price, message_agent_thought.updated_at, message_agent_thought.created_at
[2025-05-24 18:47:28,703.703] base.py -> _exec_single_context line:1901 [INFO]: [cached since 20.17s ago] {'app_id': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'conversation_id': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'message_id': UUID('cba4fb88-f280-4fba-b66f-19be667ed08d'), 'invoke_from': <InvokeFrom.DEBUGGER: 'debugger'>, 'created_by': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'position': 2, 'event': <QueueEvent.AGENT_MESSAGE: 'agent_message'>, 'thought': '实现可持续发展与经济增长的平衡是一个复杂且具有挑战性的目标，但许多研究和实践表明，这种平衡是可能的。以下是一些关键因素和观点：\n\n1. **可再生资源的利用**：通过开发和利用可再生能源（如太阳能、风能等），可以减少对化石燃料的依赖，从而实现经济增长与环境保护的双赢。\n\n2. **绿色技术 ... (202 characters truncated) ... 的认识，鼓励个人和企业采取更环保的行为，可以促进社会整体向可持续发展的转型。\n\n6. **多方合作**：政府、企业、非政府组织和社区之间的合作至关重要，共同制定并实施可持续发展战略。\n\n虽然面临许多挑战，如资源短缺、气候变化等，但通过综合施策与创新，平衡可持续发展与经济增长是有可能实现的。', 'observation': '', 'tool': '', 'tool_input': '{}', 'message': '[{"type": "system", "data": {"content": "\\u4f60\\u662f\\u4e00\\u4e2a\\u9ad8\\u5ea6\\u5b9a\\u5236\\u7684\\u667a\\u80fd\\u4f53\\u5e94\\u7528\\uff0c\\u ... (4570 characters truncated) ... ", "additional_kwargs": {}, "response_metadata": {}, "type": "human", "name": null, "id": "16f3e6cb-93b1-4058-b685-6151606940dc", "example": false}}]', 'answer': '实现可持续发展与经济增长的平衡是一个复杂且具有挑战性的目标，但许多研究和实践表明，这种平衡是可能的。以下是一些关键因素和观点：\n\n1. **可再生资源的利用**：通过开发和利用可再生能源（如太阳能、风能等），可以减少对化石燃料的依赖，从而实现经济增长与环境保护的双赢。\n\n2. **绿色技术 ... (202 characters truncated) ... 的认识，鼓励个人和企业采取更环保的行为，可以促进社会整体向可持续发展的转型。\n\n6. **多方合作**：政府、企业、非政府组织和社区之间的合作至关重要，共同制定并实施可持续发展战略。\n\n虽然面临许多挑战，如资源短缺、气候变化等，但通过综合施策与创新，平衡可持续发展与经济增长是有可能实现的。', 'latency': 6.82480750000002}
[2025-05-24 18:47:28,714.714] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 18:47:28,715.715] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:47:28,715.715] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.id = %(pk_1)s::UUID
[2025-05-24 18:47:28,715.715] base.py -> _exec_single_context line:1901 [INFO]: [cached since 23.29s ago] {'pk_1': UUID('cba4fb88-f280-4fba-b66f-19be667ed08d')}
[2025-05-24 18:47:28,717.717] base.py -> _exec_single_context line:1896 [INFO]: UPDATE message SET message=%(message)s::JSONB, answer=%(answer)s, latency=%(latency)s WHERE message.id = %(message_id)s::UUID
[2025-05-24 18:47:28,717.717] base.py -> _exec_single_context line:1901 [INFO]: [cached since 20.14s ago] {'message': '[{"type": "system", "data": {"content": "\\u4f60\\u662f\\u4e00\\u4e2a\\u9ad8\\u5ea6\\u5b9a\\u5236\\u7684\\u667a\\u80fd\\u4f53\\u5e94\\u7528\\uff0c\\u ... (4570 characters truncated) ... ", "additional_kwargs": {}, "response_metadata": {}, "type": "human", "name": null, "id": "16f3e6cb-93b1-4058-b685-6151606940dc", "example": false}}]', 'answer': '实现可持续发展与经济增长的平衡是一个复杂且具有挑战性的目标，但许多研究和实践表明，这种平衡是可能的。以下是一些关键因素和观点：\n\n1. **可再生资源的利用**：通过开发和利用可再生能源（如太阳能、风能等），可以减少对化石燃料的依赖，从而实现经济增长与环境保护的双赢。\n\n2. **绿色技术 ... (202 characters truncated) ... 的认识，鼓励个人和企业采取更环保的行为，可以促进社会整体向可持续发展的转型。\n\n6. **多方合作**：政府、企业、非政府组织和社区之间的合作至关重要，共同制定并实施可持续发展战略。\n\n虽然面临许多挑战，如资源短缺、气候变化等，但通过综合施策与创新，平衡可持续发展与经济增长是有可能实现的。', 'latency': 6.82480750000002, 'message_id': UUID('cba4fb88-f280-4fba-b66f-19be667ed08d')}
[2025-05-24 18:47:28,718.718] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 18:47:28,718.718] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:47:28,718.718] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.id = %(pk_1)s::UUID
[2025-05-24 18:47:28,719.719] base.py -> _exec_single_context line:1901 [INFO]: [cached since 23.29s ago] {'pk_1': UUID('cba4fb88-f280-4fba-b66f-19be667ed08d')}
[2025-05-24 18:47:28,720.720] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(pk_1)s::UUID
[2025-05-24 18:47:28,720.720] base.py -> _exec_single_context line:1901 [INFO]: [cached since 531.4s ago] {'pk_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7')}
[2025-05-24 18:47:29,003.003] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:47:29] "OPTIONS /ai/suggested-questions HTTP/1.1" 200 -
[2025-05-24 18:47:29,309.309] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:47:29,309.309] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:47:29,310.310] base.py -> _exec_single_context line:1901 [INFO]: [cached since 572.7s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 18:47:29,312.312] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.id = %(pk_1)s::UUID
[2025-05-24 18:47:29,312.312] base.py -> _exec_single_context line:1901 [INFO]: [cached since 20.79s ago] {'pk_1': 'cba4fb88-f280-4fba-b66f-19be667ed08d'}
[2025-05-24 18:47:30,074.074] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:47:30] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/summary HTTP/1.1" 200 -
[2025-05-24 18:47:30,077.077] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:47:30,078.078] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:47:30,078.078] base.py -> _exec_single_context line:1901 [INFO]: [cached since 573.5s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 18:47:30,079.079] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-24 18:47:30,079.079] base.py -> _exec_single_context line:1901 [INFO]: [cached since 544.9s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-24 18:47:30,081.081] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-24 18:47:30,081.081] base.py -> _exec_single_context line:1901 [INFO]: [cached since 544.9s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-24 18:47:30,082.082] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID)
[2025-05-24 18:47:30,082.082] base.py -> _exec_single_context line:1901 [INFO]: [cached since 544.9s ago] {'id_1_1': '9af90c52-28b2-4a47-9c92-148c9f21b512'}
[2025-05-24 18:47:30,083.083] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(id_1)s::UUID AND conversation.invoke_from = %(invoke_from_1)s
[2025-05-24 18:47:30,083.083] base.py -> _exec_single_context line:1901 [INFO]: [cached since 544.9s ago] {'id_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'invoke_from_1': <InvokeFrom.DEBUGGER: 'debugger'>}
[2025-05-24 18:47:30,084.084] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 18:47:30,085.085] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:47:30] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/summary HTTP/1.1" 200 -
[2025-05-24 18:47:32,946.946] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 18:47:32,948.948] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:47:32] "POST /ai/suggested-questions HTTP/1.1" 200 -
[2025-05-24 18:47:35,516.516] base.py -> _exec_single_context line:1896 [INFO]: UPDATE conversation SET summary=%(summary)s WHERE conversation.id = %(conversation_id)s::UUID
[2025-05-24 18:47:35,516.516] base.py -> _exec_single_context line:1901 [INFO]: [cached since 22.44s ago] {'summary': '人类询问淄博今天的天气情况。AI提供了详细的天气预报，包括日期（2025年5月24日）、白天气温（27°C，晴）、夜间气温（14°C，晴）以及风向（北风，1-3级）。随后，人类询问AI关于可持续发展与经济增长平衡的问题。AI认为这一平衡虽然复杂但可能实现，并列举了六个关键因素：可再生资源的利用、绿色技术和创新、循环经济模式、政策支持、公众意识与参与，以及多方合作。AI强调通过综合施策与创新可以克服资源短缺和气候变化等挑战，最终实现可持续发展与经济增长的平衡。', 'conversation_id': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7')}
[2025-05-24 18:47:35,518.518] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 18:47:35,519.519] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:47:35,521.521] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(pk_1)s::UUID
[2025-05-24 18:47:35,521.521] base.py -> _exec_single_context line:1901 [INFO]: [cached since 538.2s ago] {'pk_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7')}
[2025-05-24 18:47:35,522.522] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(message.id) AS count_1 
FROM message 
WHERE message.conversation_id = %(conversation_id_1)s::UUID
[2025-05-24 18:47:35,522.522] base.py -> _exec_single_context line:1901 [INFO]: [cached since 22.44s ago] {'conversation_id_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7')}
[2025-05-24 18:47:35,523.523] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 18:47:36,519.519] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:47:36] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/summary HTTP/1.1" 200 -
[2025-05-24 18:47:36,830.830] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:47:36,831.831] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:47:36,831.831] base.py -> _exec_single_context line:1901 [INFO]: [cached since 580.3s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 18:47:36,832.832] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-24 18:47:36,835.835] base.py -> _exec_single_context line:1901 [INFO]: [cached since 551.7s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-24 18:47:36,836.836] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-24 18:47:36,836.836] base.py -> _exec_single_context line:1901 [INFO]: [cached since 551.7s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-24 18:47:36,838.838] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID)
[2025-05-24 18:47:36,838.838] base.py -> _exec_single_context line:1901 [INFO]: [cached since 551.7s ago] {'id_1_1': '9af90c52-28b2-4a47-9c92-148c9f21b512'}
[2025-05-24 18:47:36,839.839] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(id_1)s::UUID AND conversation.invoke_from = %(invoke_from_1)s
[2025-05-24 18:47:36,839.839] base.py -> _exec_single_context line:1901 [INFO]: [cached since 551.7s ago] {'id_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'invoke_from_1': <InvokeFrom.DEBUGGER: 'debugger'>}
[2025-05-24 18:47:36,840.840] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 18:47:36,841.841] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:47:36] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/summary HTTP/1.1" 200 -
[2025-05-24 18:47:41,756.756] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:47:41] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/conversations HTTP/1.1" 200 -
[2025-05-24 18:47:41,761.761] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:47:41,761.761] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:47:41,761.761] base.py -> _exec_single_context line:1901 [INFO]: [cached since 585.2s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 18:47:41,764.764] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-24 18:47:41,764.764] base.py -> _exec_single_context line:1901 [INFO]: [cached since 556.6s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-24 18:47:41,766.766] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-24 18:47:41,766.766] base.py -> _exec_single_context line:1901 [INFO]: [cached since 556.6s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-24 18:47:41,767.767] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID)
[2025-05-24 18:47:41,769.769] base.py -> _exec_single_context line:1901 [INFO]: [cached since 556.6s ago] {'id_1_1': '9af90c52-28b2-4a47-9c92-148c9f21b512'}
[2025-05-24 18:47:41,770.770] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(id_1)s::UUID AND conversation.invoke_from = %(invoke_from_1)s
[2025-05-24 18:47:41,770.770] base.py -> _exec_single_context line:1901 [INFO]: [cached since 556.6s ago] {'id_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'invoke_from_1': <InvokeFrom.DEBUGGER: 'debugger'>}
[2025-05-24 18:47:41,771.771] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO message (app_id, conversation_id, created_by, query, status) VALUES (%(app_id)s::UUID, %(conversation_id)s::UUID, %(created_by)s::UUID, %(query)s, %(status)s) RETURNING message.id, message.invoke_from, message.message, message.message_token_count, message.message_unit_price, message.message_price_unit, message.answer, message.answer_token_count, message.answer_unit_price, message.answer_price_unit, message.latency, message.is_deleted, message.error, message.total_token_count, message.total_price, message.updated_at, message.created_at
[2025-05-24 18:47:41,771.771] base.py -> _exec_single_context line:1901 [INFO]: [cached since 534.7s ago] {'app_id': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'conversation_id': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'created_by': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'query': '我们应该如何评估和衡量可持续发展与经济增长之间的平衡？', 'status': <MessageStatus.NORMAL: 'normal'>}
[2025-05-24 18:47:41,774.774] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 18:47:41,835.835] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:47:41,836.836] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(pk_1)s::UUID
[2025-05-24 18:47:41,836.836] base.py -> _exec_single_context line:1901 [INFO]: [cached since 544.5s ago] {'pk_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7')}
[2025-05-24 18:47:41,838.838] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.conversation_id = %(conversation_id_1)s::UUID AND message.answer != %(answer_1)s AND message.is_deleted = false AND message.status IN (%(status_1_1)s, %(status_1_2)s) ORDER BY message.created_at DESC 
 LIMIT %(param_1)s
[2025-05-24 18:47:41,838.838] base.py -> _exec_single_context line:1901 [INFO]: [cached since 534.7s ago] {'conversation_id_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'answer_1': '', 'param_1': 10, 'status_1_1': <MessageStatus.STOP: 'stop'>, 'status_1_2': <MessageStatus.NORMAL: 'normal'>}
[2025-05-24 18:47:41,842.842] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:47:41,842.842] base.py -> _exec_single_context line:1901 [INFO]: [cached since 534.7s ago] {'pk_1': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f')}
[2025-05-24 18:47:42,869.869] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.id = %(pk_1)s::UUID
[2025-05-24 18:47:42,870.870] base.py -> _exec_single_context line:1901 [INFO]: [cached since 37.44s ago] {'pk_1': UUID('ef1e6a79-34d3-4456-87a6-c5c9e1b6ed07')}
[2025-05-24 18:47:42,871.871] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:47:42] "POST /apps/83040ed9-0795-43db-99da-b6eb2321a71b/conversations HTTP/1.1" 200 -
[2025-05-24 18:47:48,600.600] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 18:47:48,601.601] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:47:48,601.601] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(pk_1)s::UUID
[2025-05-24 18:47:48,601.601] base.py -> _exec_single_context line:1901 [INFO]: [cached since 40.08s ago] {'pk_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7')}
[2025-05-24 18:47:48,603.603] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.id = %(pk_1)s::UUID
[2025-05-24 18:47:48,604.604] base.py -> _exec_single_context line:1901 [INFO]: [cached since 40.08s ago] {'pk_1': UUID('ef1e6a79-34d3-4456-87a6-c5c9e1b6ed07')}
[2025-05-24 18:47:48,606.606] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO message_agent_thought (app_id, conversation_id, message_id, invoke_from, created_by, position, event, thought, observation, tool, tool_input, message, answer, latency) VALUES (%(app_id)s::UUID, %(conversation_id)s::UUID, %(message_id)s::UUID, %(invoke_from)s, %(created_by)s::UUID, %(position)s, %(event)s, %(thought)s, %(observation)s, %(tool)s, %(tool_input)s::JSONB, %(message)s::JSONB, %(answer)s, %(latency)s) RETURNING message_agent_thought.id, message_agent_thought.message_token_count, message_agent_thought.message_unit_price, message_agent_thought.message_price_unit, message_agent_thought.answer_token_count, message_agent_thought.answer_unit_price, message_agent_thought.answer_price_unit, message_agent_thought.total_token_count, message_agent_thought.total_price, message_agent_thought.updated_at, message_agent_thought.created_at
[2025-05-24 18:47:48,607.607] base.py -> _exec_single_context line:1901 [INFO]: [cached since 40.07s ago] {'app_id': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'conversation_id': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'message_id': UUID('ef1e6a79-34d3-4456-87a6-c5c9e1b6ed07'), 'invoke_from': <InvokeFrom.DEBUGGER: 'debugger'>, 'created_by': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'position': 1, 'event': <QueueEvent.LONG_TERM_MEMORY_RECALL: 'long_term_memory_recall'>, 'thought': '', 'observation': '人类询问淄博今天的天气情况。AI提供了详细的天气预报，包括日期（2025年5月24日）、白天气温（27°C，晴）、夜间气温（14°C，晴）以及风向（北风，1-3级）。随后，人类询问AI关于可持续发展与经济增长平衡的问题。AI认为这一平衡虽然复杂但可能实现，并列举了六个关键因素：可再生资源的利用、绿色技术和创新、循环经济模式、政策支持、公众意识与参与，以及多方合作。AI强调通过综合施策与创新可以克服资源短缺和气候变化等挑战，最终实现可持续发展与经济增长的平衡。', 'tool': '', 'tool_input': '{}', 'message': '{}', 'answer': '', 'latency': 0}
[2025-05-24 18:47:48,609.609] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 18:47:48,610.610] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:47:48,610.610] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(pk_1)s::UUID
[2025-05-24 18:47:48,610.610] base.py -> _exec_single_context line:1901 [INFO]: [cached since 551.3s ago] {'pk_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7')}
[2025-05-24 18:47:48,611.611] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.id = %(pk_1)s::UUID
[2025-05-24 18:47:48,611.611] base.py -> _exec_single_context line:1901 [INFO]: [cached since 43.18s ago] {'pk_1': UUID('ef1e6a79-34d3-4456-87a6-c5c9e1b6ed07')}
[2025-05-24 18:47:48,613.613] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO message_agent_thought (app_id, conversation_id, message_id, invoke_from, created_by, position, event, thought, observation, tool, tool_input, message, answer, latency) VALUES (%(app_id)s::UUID, %(conversation_id)s::UUID, %(message_id)s::UUID, %(invoke_from)s, %(created_by)s::UUID, %(position)s, %(event)s, %(thought)s, %(observation)s, %(tool)s, %(tool_input)s::JSONB, %(message)s::JSONB, %(answer)s, %(latency)s) RETURNING message_agent_thought.id, message_agent_thought.message_token_count, message_agent_thought.message_unit_price, message_agent_thought.message_price_unit, message_agent_thought.answer_token_count, message_agent_thought.answer_unit_price, message_agent_thought.answer_price_unit, message_agent_thought.total_token_count, message_agent_thought.total_price, message_agent_thought.updated_at, message_agent_thought.created_at
[2025-05-24 18:47:48,613.613] base.py -> _exec_single_context line:1901 [INFO]: [cached since 40.08s ago] {'app_id': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'conversation_id': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'message_id': UUID('ef1e6a79-34d3-4456-87a6-c5c9e1b6ed07'), 'invoke_from': <InvokeFrom.DEBUGGER: 'debugger'>, 'created_by': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'position': 2, 'event': <QueueEvent.AGENT_MESSAGE: 'agent_message'>, 'thought': '评估和衡量可持续发展与经济增长之间的平衡可以通过以下几个方面进行：\n\n1. **指标体系建立**：\n   - 制定综合性指标体系，包括经济指标（如GDP增长率）、社会指标（如就业率、收入分配）和环境指标（如碳排放、资源消耗）。\n   - 采用可持续发展目标（SDGs）作为评估框架，涵盖环境 ... (381 characters truncated) ... 和建议，确保评估过程的全面性和透明性。\n\n7. **长期监测与报告**：\n   - 建立长期监测机制，定期发布可持续发展与经济增长的报告，跟踪进展并及时识别问题。\n\n通过以上方法，可以更全面地评估和衡量可持续发展与经济增长之间的平衡，确保在追求经济发展的同时，也兼顾社会和环境的可持续性。', 'observation': '', 'tool': '', 'tool_input': '{}', 'message': '[{"type": "system", "data": {"content": "\\u4f60\\u662f\\u4e00\\u4e2a\\u9ad8\\u5ea6\\u5b9a\\u5236\\u7684\\u667a\\u80fd\\u4f53\\u5e94\\u7528\\uff0c\\u ... (9293 characters truncated) ... ", "additional_kwargs": {}, "response_metadata": {}, "type": "human", "name": null, "id": "ae1c9620-a0eb-4358-af2c-c60301fd2c34", "example": false}}]', 'answer': '评估和衡量可持续发展与经济增长之间的平衡可以通过以下几个方面进行：\n\n1. **指标体系建立**：\n   - 制定综合性指标体系，包括经济指标（如GDP增长率）、社会指标（如就业率、收入分配）和环境指标（如碳排放、资源消耗）。\n   - 采用可持续发展目标（SDGs）作为评估框架，涵盖环境 ... (381 characters truncated) ... 和建议，确保评估过程的全面性和透明性。\n\n7. **长期监测与报告**：\n   - 建立长期监测机制，定期发布可持续发展与经济增长的报告，跟踪进展并及时识别问题。\n\n通过以上方法，可以更全面地评估和衡量可持续发展与经济增长之间的平衡，确保在追求经济发展的同时，也兼顾社会和环境的可持续性。', 'latency': 6.6959157000000005}
[2025-05-24 18:47:48,615.615] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 18:47:48,616.616] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:47:48,616.616] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.id = %(pk_1)s::UUID
[2025-05-24 18:47:48,619.619] base.py -> _exec_single_context line:1901 [INFO]: [cached since 43.19s ago] {'pk_1': UUID('ef1e6a79-34d3-4456-87a6-c5c9e1b6ed07')}
[2025-05-24 18:47:48,620.620] base.py -> _exec_single_context line:1896 [INFO]: UPDATE message SET message=%(message)s::JSONB, answer=%(answer)s, latency=%(latency)s WHERE message.id = %(message_id)s::UUID
[2025-05-24 18:47:48,620.620] base.py -> _exec_single_context line:1901 [INFO]: [cached since 40.05s ago] {'message': '[{"type": "system", "data": {"content": "\\u4f60\\u662f\\u4e00\\u4e2a\\u9ad8\\u5ea6\\u5b9a\\u5236\\u7684\\u667a\\u80fd\\u4f53\\u5e94\\u7528\\uff0c\\u ... (9293 characters truncated) ... ", "additional_kwargs": {}, "response_metadata": {}, "type": "human", "name": null, "id": "ae1c9620-a0eb-4358-af2c-c60301fd2c34", "example": false}}]', 'answer': '评估和衡量可持续发展与经济增长之间的平衡可以通过以下几个方面进行：\n\n1. **指标体系建立**：\n   - 制定综合性指标体系，包括经济指标（如GDP增长率）、社会指标（如就业率、收入分配）和环境指标（如碳排放、资源消耗）。\n   - 采用可持续发展目标（SDGs）作为评估框架，涵盖环境 ... (381 characters truncated) ... 和建议，确保评估过程的全面性和透明性。\n\n7. **长期监测与报告**：\n   - 建立长期监测机制，定期发布可持续发展与经济增长的报告，跟踪进展并及时识别问题。\n\n通过以上方法，可以更全面地评估和衡量可持续发展与经济增长之间的平衡，确保在追求经济发展的同时，也兼顾社会和环境的可持续性。', 'latency': 6.6959157000000005, 'message_id': UUID('ef1e6a79-34d3-4456-87a6-c5c9e1b6ed07')}
[2025-05-24 18:47:48,623.623] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 18:47:48,624.624] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:47:48,625.625] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.id = %(pk_1)s::UUID
[2025-05-24 18:47:48,625.625] base.py -> _exec_single_context line:1901 [INFO]: [cached since 43.2s ago] {'pk_1': UUID('ef1e6a79-34d3-4456-87a6-c5c9e1b6ed07')}
[2025-05-24 18:47:48,626.626] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(pk_1)s::UUID
[2025-05-24 18:47:48,626.626] base.py -> _exec_single_context line:1901 [INFO]: [cached since 551.3s ago] {'pk_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7')}
[2025-05-24 18:47:48,919.919] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:47:48] "OPTIONS /ai/suggested-questions HTTP/1.1" 200 -
[2025-05-24 18:47:49,231.231] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:47:49,231.231] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:47:49,231.231] base.py -> _exec_single_context line:1901 [INFO]: [cached since 592.7s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 18:47:49,233.233] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.id = %(pk_1)s::UUID
[2025-05-24 18:47:49,233.233] base.py -> _exec_single_context line:1901 [INFO]: [cached since 40.71s ago] {'pk_1': 'ef1e6a79-34d3-4456-87a6-c5c9e1b6ed07'}
[2025-05-24 18:47:54,375.375] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 18:47:54,376.376] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:47:54] "POST /ai/suggested-questions HTTP/1.1" 200 -
[2025-05-24 18:47:58,012.012] base.py -> _exec_single_context line:1896 [INFO]: UPDATE conversation SET summary=%(summary)s WHERE conversation.id = %(conversation_id)s::UUID
[2025-05-24 18:47:58,012.012] base.py -> _exec_single_context line:1901 [INFO]: [cached since 44.94s ago] {'summary': '人类询问淄博今天的天气情况。AI提供了详细的天气预报，包括日期（2025年5月24日）、白天气温（27°C，晴）、夜间气温（14°C，晴）以及风向（北风，1-3级）。随后，人类询问AI关于可持续发展与经济增长平衡的问题。AI认为这一平衡虽然复杂但可能实现，并列举了六个关键因素：可再生资源的利用、绿 ... (254 characters truncated) ... 量）；  \n5. **政策效果评估**（定期审查政策对经济与环境的影响）；  \n6. **多方利益相关者参与**（确保评估的全面性和透明性）；  \n7. **长期监测与报告**（跟踪进展并识别问题）。  \n\nAI指出，通过这些方法可以系统性地评估平衡，确保经济发展兼顾社会公平与环境保护。', 'conversation_id': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7')}
[2025-05-24 18:47:58,016.016] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 18:47:58,017.017] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:47:58,018.018] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(pk_1)s::UUID
[2025-05-24 18:47:58,018.018] base.py -> _exec_single_context line:1901 [INFO]: [cached since 560.7s ago] {'pk_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7')}
[2025-05-24 18:47:58,019.019] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(message.id) AS count_1 
FROM message 
WHERE message.conversation_id = %(conversation_id_1)s::UUID
[2025-05-24 18:47:58,019.019] base.py -> _exec_single_context line:1901 [INFO]: [cached since 44.94s ago] {'conversation_id_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7')}
[2025-05-24 18:47:58,021.021] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 18:48:06,037.037] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:48:06] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/conversations HTTP/1.1" 200 -
[2025-05-24 18:48:06,041.041] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:48:06,041.041] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:48:06,042.042] base.py -> _exec_single_context line:1901 [INFO]: [cached since 609.5s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 18:48:06,043.043] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-24 18:48:06,043.043] base.py -> _exec_single_context line:1901 [INFO]: [cached since 580.9s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-24 18:48:06,046.046] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-24 18:48:06,046.046] base.py -> _exec_single_context line:1901 [INFO]: [cached since 580.9s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-24 18:48:06,047.047] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID)
[2025-05-24 18:48:06,047.047] base.py -> _exec_single_context line:1901 [INFO]: [cached since 580.9s ago] {'id_1_1': '9af90c52-28b2-4a47-9c92-148c9f21b512'}
[2025-05-24 18:48:06,048.048] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(id_1)s::UUID AND conversation.invoke_from = %(invoke_from_1)s
[2025-05-24 18:48:06,048.048] base.py -> _exec_single_context line:1901 [INFO]: [cached since 580.9s ago] {'id_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'invoke_from_1': <InvokeFrom.DEBUGGER: 'debugger'>}
[2025-05-24 18:48:06,049.049] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO message (app_id, conversation_id, created_by, query, status) VALUES (%(app_id)s::UUID, %(conversation_id)s::UUID, %(created_by)s::UUID, %(query)s, %(status)s) RETURNING message.id, message.invoke_from, message.message, message.message_token_count, message.message_unit_price, message.message_price_unit, message.answer, message.answer_token_count, message.answer_unit_price, message.answer_price_unit, message.latency, message.is_deleted, message.error, message.total_token_count, message.total_price, message.updated_at, message.created_at
[2025-05-24 18:48:06,049.049] base.py -> _exec_single_context line:1901 [INFO]: [cached since 558.9s ago] {'app_id': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'conversation_id': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'created_by': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'query': '你好我是好好', 'status': <MessageStatus.NORMAL: 'normal'>}
[2025-05-24 18:48:06,051.051] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 18:48:06,097.097] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:48:06,098.098] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(pk_1)s::UUID
[2025-05-24 18:48:06,098.098] base.py -> _exec_single_context line:1901 [INFO]: [cached since 568.8s ago] {'pk_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7')}
[2025-05-24 18:48:06,100.100] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.conversation_id = %(conversation_id_1)s::UUID AND message.answer != %(answer_1)s AND message.is_deleted = false AND message.status IN (%(status_1_1)s, %(status_1_2)s) ORDER BY message.created_at DESC 
 LIMIT %(param_1)s
[2025-05-24 18:48:06,100.100] base.py -> _exec_single_context line:1901 [INFO]: [cached since 558.9s ago] {'conversation_id_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'answer_1': '', 'param_1': 10, 'status_1_1': <MessageStatus.STOP: 'stop'>, 'status_1_2': <MessageStatus.NORMAL: 'normal'>}
[2025-05-24 18:48:06,104.104] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:48:06,104.104] base.py -> _exec_single_context line:1901 [INFO]: [cached since 558.9s ago] {'pk_1': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f')}
[2025-05-24 18:48:07,132.132] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.id = %(pk_1)s::UUID
[2025-05-24 18:48:07,133.133] base.py -> _exec_single_context line:1901 [INFO]: [cached since 61.7s ago] {'pk_1': UUID('e027ab26-3f2c-4dfd-baaa-411aa889cfaf')}
[2025-05-24 18:48:07,134.134] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:48:07] "POST /apps/83040ed9-0795-43db-99da-b6eb2321a71b/conversations HTTP/1.1" 200 -
[2025-05-24 18:48:11,843.843] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:48:11,844.844] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 18:48:11,844.844] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(pk_1)s::UUID
[2025-05-24 18:48:11,845.845] base.py -> _exec_single_context line:1901 [INFO]: [cached since 63.32s ago] {'pk_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7')}
[2025-05-24 18:48:11,847.847] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.id = %(pk_1)s::UUID
[2025-05-24 18:48:11,847.847] base.py -> _exec_single_context line:1901 [INFO]: [cached since 63.32s ago] {'pk_1': UUID('e027ab26-3f2c-4dfd-baaa-411aa889cfaf')}
[2025-05-24 18:48:11,849.849] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO message_agent_thought (app_id, conversation_id, message_id, invoke_from, created_by, position, event, thought, observation, tool, tool_input, message, answer, latency) VALUES (%(app_id)s::UUID, %(conversation_id)s::UUID, %(message_id)s::UUID, %(invoke_from)s, %(created_by)s::UUID, %(position)s, %(event)s, %(thought)s, %(observation)s, %(tool)s, %(tool_input)s::JSONB, %(message)s::JSONB, %(answer)s, %(latency)s) RETURNING message_agent_thought.id, message_agent_thought.message_token_count, message_agent_thought.message_unit_price, message_agent_thought.message_price_unit, message_agent_thought.answer_token_count, message_agent_thought.answer_unit_price, message_agent_thought.answer_price_unit, message_agent_thought.total_token_count, message_agent_thought.total_price, message_agent_thought.updated_at, message_agent_thought.created_at
[2025-05-24 18:48:11,850.850] base.py -> _exec_single_context line:1901 [INFO]: [cached since 63.32s ago] {'app_id': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'conversation_id': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'message_id': UUID('e027ab26-3f2c-4dfd-baaa-411aa889cfaf'), 'invoke_from': <InvokeFrom.DEBUGGER: 'debugger'>, 'created_by': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'position': 1, 'event': <QueueEvent.LONG_TERM_MEMORY_RECALL: 'long_term_memory_recall'>, 'thought': '', 'observation': '人类询问淄博今天的天气情况。AI提供了详细的天气预报，包括日期（2025年5月24日）、白天气温（27°C，晴）、夜间气温（14°C，晴）以及风向（北风，1-3级）。随后，人类询问AI关于可持续发展与经济增长平衡的问题。AI认为这一平衡虽然复杂但可能实现，并列举了六个关键因素：可再生资源的利用、绿 ... (254 characters truncated) ... 量）；  \n5. **政策效果评估**（定期审查政策对经济与环境的影响）；  \n6. **多方利益相关者参与**（确保评估的全面性和透明性）；  \n7. **长期监测与报告**（跟踪进展并识别问题）。  \n\nAI指出，通过这些方法可以系统性地评估平衡，确保经济发展兼顾社会公平与环境保护。', 'tool': '', 'tool_input': '{}', 'message': '{}', 'answer': '', 'latency': 0}
[2025-05-24 18:48:11,852.852] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 18:48:11,853.853] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:48:11,853.853] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(pk_1)s::UUID
[2025-05-24 18:48:11,854.854] base.py -> _exec_single_context line:1901 [INFO]: [cached since 574.5s ago] {'pk_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7')}
[2025-05-24 18:48:11,854.854] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.id = %(pk_1)s::UUID
[2025-05-24 18:48:11,856.856] base.py -> _exec_single_context line:1901 [INFO]: [cached since 66.43s ago] {'pk_1': UUID('e027ab26-3f2c-4dfd-baaa-411aa889cfaf')}
[2025-05-24 18:48:11,857.857] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO message_agent_thought (app_id, conversation_id, message_id, invoke_from, created_by, position, event, thought, observation, tool, tool_input, message, answer, latency) VALUES (%(app_id)s::UUID, %(conversation_id)s::UUID, %(message_id)s::UUID, %(invoke_from)s, %(created_by)s::UUID, %(position)s, %(event)s, %(thought)s, %(observation)s, %(tool)s, %(tool_input)s::JSONB, %(message)s::JSONB, %(answer)s, %(latency)s) RETURNING message_agent_thought.id, message_agent_thought.message_token_count, message_agent_thought.message_unit_price, message_agent_thought.message_price_unit, message_agent_thought.answer_token_count, message_agent_thought.answer_unit_price, message_agent_thought.answer_price_unit, message_agent_thought.total_token_count, message_agent_thought.total_price, message_agent_thought.updated_at, message_agent_thought.created_at
[2025-05-24 18:48:11,857.857] base.py -> _exec_single_context line:1901 [INFO]: [cached since 63.32s ago] {'app_id': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'conversation_id': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'message_id': UUID('e027ab26-3f2c-4dfd-baaa-411aa889cfaf'), 'invoke_from': <InvokeFrom.DEBUGGER: 'debugger'>, 'created_by': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'position': 2, 'event': <QueueEvent.AGENT_MESSAGE: 'agent_message'>, 'thought': '你好，好好！很高兴见到你！有什么我可以帮助你的吗？', 'observation': '', 'tool': '', 'tool_input': '{}', 'message': '[{"type": "system", "data": {"content": "\\u4f60\\u662f\\u4e00\\u4e2a\\u9ad8\\u5ea6\\u5b9a\\u5236\\u7684\\u667a\\u80fd\\u4f53\\u5e94\\u7528\\uff0c\\u ... (15328 characters truncated) ... ", "additional_kwargs": {}, "response_metadata": {}, "type": "human", "name": null, "id": "29ed06a4-305b-48ef-a108-678095dac0a7", "example": false}}]', 'answer': '你好，好好！很高兴见到你！有什么我可以帮助你的吗？', 'latency': 5.692830200000003}
[2025-05-24 18:48:11,859.859] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 18:48:11,860.860] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:48:11,861.861] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.id = %(pk_1)s::UUID
[2025-05-24 18:48:11,861.861] base.py -> _exec_single_context line:1901 [INFO]: [cached since 66.43s ago] {'pk_1': UUID('e027ab26-3f2c-4dfd-baaa-411aa889cfaf')}
[2025-05-24 18:48:11,862.862] base.py -> _exec_single_context line:1896 [INFO]: UPDATE message SET message=%(message)s::JSONB, answer=%(answer)s, latency=%(latency)s WHERE message.id = %(message_id)s::UUID
[2025-05-24 18:48:11,862.862] base.py -> _exec_single_context line:1901 [INFO]: [cached since 63.29s ago] {'message': '[{"type": "system", "data": {"content": "\\u4f60\\u662f\\u4e00\\u4e2a\\u9ad8\\u5ea6\\u5b9a\\u5236\\u7684\\u667a\\u80fd\\u4f53\\u5e94\\u7528\\uff0c\\u ... (15328 characters truncated) ... ", "additional_kwargs": {}, "response_metadata": {}, "type": "human", "name": null, "id": "29ed06a4-305b-48ef-a108-678095dac0a7", "example": false}}]', 'answer': '你好，好好！很高兴见到你！有什么我可以帮助你的吗？', 'latency': 5.692830200000003, 'message_id': UUID('e027ab26-3f2c-4dfd-baaa-411aa889cfaf')}
[2025-05-24 18:48:11,864.864] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 18:48:11,865.865] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:48:11,865.865] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.id = %(pk_1)s::UUID
[2025-05-24 18:48:11,865.865] base.py -> _exec_single_context line:1901 [INFO]: [cached since 66.44s ago] {'pk_1': UUID('e027ab26-3f2c-4dfd-baaa-411aa889cfaf')}
[2025-05-24 18:48:11,866.866] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(pk_1)s::UUID
[2025-05-24 18:48:11,867.867] base.py -> _exec_single_context line:1901 [INFO]: [cached since 574.5s ago] {'pk_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7')}
[2025-05-24 18:48:12,156.156] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:48:12] "OPTIONS /ai/suggested-questions HTTP/1.1" 200 -
[2025-05-24 18:48:12,467.467] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:48:12,468.468] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:48:12,468.468] base.py -> _exec_single_context line:1901 [INFO]: [cached since 615.9s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 18:48:12,469.469] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.id = %(pk_1)s::UUID
[2025-05-24 18:48:12,470.470] base.py -> _exec_single_context line:1901 [INFO]: [cached since 63.94s ago] {'pk_1': 'e027ab26-3f2c-4dfd-baaa-411aa889cfaf'}
[2025-05-24 18:48:15,995.995] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 18:48:15,996.996] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:48:15] "POST /ai/suggested-questions HTTP/1.1" 200 -
[2025-05-24 18:48:19,350.350] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:48:19] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/conversations HTTP/1.1" 200 -
[2025-05-24 18:48:19,355.355] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:48:19,356.356] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:48:19,356.356] base.py -> _exec_single_context line:1901 [INFO]: [cached since 622.8s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 18:48:19,359.359] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-24 18:48:19,359.359] base.py -> _exec_single_context line:1901 [INFO]: [cached since 594.2s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-24 18:48:19,360.360] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-24 18:48:19,360.360] base.py -> _exec_single_context line:1901 [INFO]: [cached since 594.2s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-24 18:48:19,362.362] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID)
[2025-05-24 18:48:19,362.362] base.py -> _exec_single_context line:1901 [INFO]: [cached since 594.2s ago] {'id_1_1': '9af90c52-28b2-4a47-9c92-148c9f21b512'}
[2025-05-24 18:48:19,363.363] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(id_1)s::UUID AND conversation.invoke_from = %(invoke_from_1)s
[2025-05-24 18:48:19,363.363] base.py -> _exec_single_context line:1901 [INFO]: [cached since 594.2s ago] {'id_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'invoke_from_1': <InvokeFrom.DEBUGGER: 'debugger'>}
[2025-05-24 18:48:19,365.365] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO message (app_id, conversation_id, created_by, query, status) VALUES (%(app_id)s::UUID, %(conversation_id)s::UUID, %(created_by)s::UUID, %(query)s, %(status)s) RETURNING message.id, message.invoke_from, message.message, message.message_token_count, message.message_unit_price, message.message_price_unit, message.answer, message.answer_token_count, message.answer_unit_price, message.answer_price_unit, message.latency, message.is_deleted, message.error, message.total_token_count, message.total_price, message.updated_at, message.created_at
[2025-05-24 18:48:19,365.365] base.py -> _exec_single_context line:1901 [INFO]: [cached since 572.3s ago] {'app_id': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'conversation_id': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'created_by': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'query': '你知道我是谁么?', 'status': <MessageStatus.NORMAL: 'normal'>}
[2025-05-24 18:48:19,366.366] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 18:48:19,424.424] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:48:19,424.424] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(pk_1)s::UUID
[2025-05-24 18:48:19,424.424] base.py -> _exec_single_context line:1901 [INFO]: [cached since 582.1s ago] {'pk_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7')}
[2025-05-24 18:48:19,426.426] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.conversation_id = %(conversation_id_1)s::UUID AND message.answer != %(answer_1)s AND message.is_deleted = false AND message.status IN (%(status_1_1)s, %(status_1_2)s) ORDER BY message.created_at DESC 
 LIMIT %(param_1)s
[2025-05-24 18:48:19,426.426] base.py -> _exec_single_context line:1901 [INFO]: [cached since 572.3s ago] {'conversation_id_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'answer_1': '', 'param_1': 10, 'status_1_1': <MessageStatus.STOP: 'stop'>, 'status_1_2': <MessageStatus.NORMAL: 'normal'>}
[2025-05-24 18:48:19,431.431] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:48:19,432.432] base.py -> _exec_single_context line:1901 [INFO]: [cached since 572.3s ago] {'pk_1': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f')}
[2025-05-24 18:48:20,447.447] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.id = %(pk_1)s::UUID
[2025-05-24 18:48:20,448.448] base.py -> _exec_single_context line:1901 [INFO]: [cached since 75.02s ago] {'pk_1': UUID('8b02a33b-8787-447f-861b-b432bbbb56bc')}
[2025-05-24 18:48:20,449.449] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:48:20] "POST /apps/83040ed9-0795-43db-99da-b6eb2321a71b/conversations HTTP/1.1" 200 -
[2025-05-24 18:48:21,856.856] base.py -> _exec_single_context line:1896 [INFO]: UPDATE conversation SET summary=%(summary)s WHERE conversation.id = %(conversation_id)s::UUID
[2025-05-24 18:48:21,856.856] base.py -> _exec_single_context line:1901 [INFO]: [cached since 68.78s ago] {'summary': '当前总结:  \n人类询问淄博今天的天气情况。AI提供了详细的天气预报，包括日期（2025年5月24日）、白天气温（27°C，晴）、夜间气温（14°C，晴）以及风向（北风，1-3级）。随后，人类询问AI关于可持续发展与经济增长平衡的问题。AI认为这一平衡虽然复杂但可能实现，并列举了六个关键因素：可 ... (313 characters truncated) ... 益相关者参与**（确保评估的全面性和透明性）；  \n7. **长期监测与报告**（跟踪进展并识别问题）。  \n\nAI指出，通过这些方法可以系统性地评估平衡，确保经济发展兼顾社会公平与环境保护。  \n\n随后，一位名为“好好”的用户向AI打招呼，AI回应表示很高兴见到对方并询问是否需要帮助。', 'conversation_id': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7')}
[2025-05-24 18:48:21,859.859] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 18:48:21,860.860] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:48:21,861.861] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(pk_1)s::UUID
[2025-05-24 18:48:21,861.861] base.py -> _exec_single_context line:1901 [INFO]: [cached since 584.5s ago] {'pk_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7')}
[2025-05-24 18:48:21,863.863] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(message.id) AS count_1 
FROM message 
WHERE message.conversation_id = %(conversation_id_1)s::UUID
[2025-05-24 18:48:21,863.863] base.py -> _exec_single_context line:1901 [INFO]: [cached since 68.78s ago] {'conversation_id_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7')}
[2025-05-24 18:48:21,864.864] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 18:48:24,263.263] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 18:48:24,264.264] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:48:24,264.264] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(pk_1)s::UUID
[2025-05-24 18:48:24,265.265] base.py -> _exec_single_context line:1901 [INFO]: [cached since 75.74s ago] {'pk_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7')}
[2025-05-24 18:48:24,266.266] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.id = %(pk_1)s::UUID
[2025-05-24 18:48:24,268.268] base.py -> _exec_single_context line:1901 [INFO]: [cached since 75.74s ago] {'pk_1': UUID('8b02a33b-8787-447f-861b-b432bbbb56bc')}
[2025-05-24 18:48:24,269.269] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO message_agent_thought (app_id, conversation_id, message_id, invoke_from, created_by, position, event, thought, observation, tool, tool_input, message, answer, latency) VALUES (%(app_id)s::UUID, %(conversation_id)s::UUID, %(message_id)s::UUID, %(invoke_from)s, %(created_by)s::UUID, %(position)s, %(event)s, %(thought)s, %(observation)s, %(tool)s, %(tool_input)s::JSONB, %(message)s::JSONB, %(answer)s, %(latency)s) RETURNING message_agent_thought.id, message_agent_thought.message_token_count, message_agent_thought.message_unit_price, message_agent_thought.message_price_unit, message_agent_thought.answer_token_count, message_agent_thought.answer_unit_price, message_agent_thought.answer_price_unit, message_agent_thought.total_token_count, message_agent_thought.total_price, message_agent_thought.updated_at, message_agent_thought.created_at
[2025-05-24 18:48:24,270.270] base.py -> _exec_single_context line:1901 [INFO]: [cached since 75.74s ago] {'app_id': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'conversation_id': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'message_id': UUID('8b02a33b-8787-447f-861b-b432bbbb56bc'), 'invoke_from': <InvokeFrom.DEBUGGER: 'debugger'>, 'created_by': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'position': 1, 'event': <QueueEvent.LONG_TERM_MEMORY_RECALL: 'long_term_memory_recall'>, 'thought': '', 'observation': '人类询问淄博今天的天气情况。AI提供了详细的天气预报，包括日期（2025年5月24日）、白天气温（27°C，晴）、夜间气温（14°C，晴）以及风向（北风，1-3级）。随后，人类询问AI关于可持续发展与经济增长平衡的问题。AI认为这一平衡虽然复杂但可能实现，并列举了六个关键因素：可再生资源的利用、绿 ... (254 characters truncated) ... 量）；  \n5. **政策效果评估**（定期审查政策对经济与环境的影响）；  \n6. **多方利益相关者参与**（确保评估的全面性和透明性）；  \n7. **长期监测与报告**（跟踪进展并识别问题）。  \n\nAI指出，通过这些方法可以系统性地评估平衡，确保经济发展兼顾社会公平与环境保护。', 'tool': '', 'tool_input': '{}', 'message': '{}', 'answer': '', 'latency': 0}
[2025-05-24 18:48:24,272.272] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 18:48:24,273.273] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:48:24,273.273] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(pk_1)s::UUID
[2025-05-24 18:48:24,274.274] base.py -> _exec_single_context line:1901 [INFO]: [cached since 586.9s ago] {'pk_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7')}
[2025-05-24 18:48:24,275.275] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.id = %(pk_1)s::UUID
[2025-05-24 18:48:24,275.275] base.py -> _exec_single_context line:1901 [INFO]: [cached since 78.85s ago] {'pk_1': UUID('8b02a33b-8787-447f-861b-b432bbbb56bc')}
[2025-05-24 18:48:24,276.276] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO message_agent_thought (app_id, conversation_id, message_id, invoke_from, created_by, position, event, thought, observation, tool, tool_input, message, answer, latency) VALUES (%(app_id)s::UUID, %(conversation_id)s::UUID, %(message_id)s::UUID, %(invoke_from)s, %(created_by)s::UUID, %(position)s, %(event)s, %(thought)s, %(observation)s, %(tool)s, %(tool_input)s::JSONB, %(message)s::JSONB, %(answer)s, %(latency)s) RETURNING message_agent_thought.id, message_agent_thought.message_token_count, message_agent_thought.message_unit_price, message_agent_thought.message_price_unit, message_agent_thought.answer_token_count, message_agent_thought.answer_unit_price, message_agent_thought.answer_price_unit, message_agent_thought.total_token_count, message_agent_thought.total_price, message_agent_thought.updated_at, message_agent_thought.created_at
[2025-05-24 18:48:24,276.276] base.py -> _exec_single_context line:1901 [INFO]: [cached since 75.74s ago] {'app_id': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'conversation_id': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'message_id': UUID('8b02a33b-8787-447f-861b-b432bbbb56bc'), 'invoke_from': <InvokeFrom.DEBUGGER: 'debugger'>, 'created_by': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'position': 2, 'event': <QueueEvent.AGENT_MESSAGE: 'agent_message'>, 'thought': '根据我们的对话记录，你自称为好好。如果你有其他想要分享的信息或者需要我了解的内容，请告诉我！', 'observation': '', 'tool': '', 'tool_input': '{}', 'message': '[{"type": "system", "data": {"content": "\\u4f60\\u662f\\u4e00\\u4e2a\\u9ad8\\u5ea6\\u5b9a\\u5236\\u7684\\u667a\\u80fd\\u4f53\\u5e94\\u7528\\uff0c\\u ... (15993 characters truncated) ... ", "additional_kwargs": {}, "response_metadata": {}, "type": "human", "name": null, "id": "67f115e3-6cc6-41d7-b948-c43c544e9c50", "example": false}}]', 'answer': '根据我们的对话记录，你自称为好好。如果你有其他想要分享的信息或者需要我了解的内容，请告诉我！', 'latency': 4.787887700000056}
[2025-05-24 18:48:24,279.279] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 18:48:24,281.281] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:48:24,281.281] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.id = %(pk_1)s::UUID
[2025-05-24 18:48:24,282.282] base.py -> _exec_single_context line:1901 [INFO]: [cached since 78.85s ago] {'pk_1': UUID('8b02a33b-8787-447f-861b-b432bbbb56bc')}
[2025-05-24 18:48:24,282.282] base.py -> _exec_single_context line:1896 [INFO]: UPDATE message SET message=%(message)s::JSONB, answer=%(answer)s, latency=%(latency)s WHERE message.id = %(message_id)s::UUID
[2025-05-24 18:48:24,283.283] base.py -> _exec_single_context line:1901 [INFO]: [cached since 75.71s ago] {'message': '[{"type": "system", "data": {"content": "\\u4f60\\u662f\\u4e00\\u4e2a\\u9ad8\\u5ea6\\u5b9a\\u5236\\u7684\\u667a\\u80fd\\u4f53\\u5e94\\u7528\\uff0c\\u ... (15993 characters truncated) ... ", "additional_kwargs": {}, "response_metadata": {}, "type": "human", "name": null, "id": "67f115e3-6cc6-41d7-b948-c43c544e9c50", "example": false}}]', 'answer': '根据我们的对话记录，你自称为好好。如果你有其他想要分享的信息或者需要我了解的内容，请告诉我！', 'latency': 4.787887700000056, 'message_id': UUID('8b02a33b-8787-447f-861b-b432bbbb56bc')}
[2025-05-24 18:48:24,285.285] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 18:48:24,285.285] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:48:24,286.286] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.id = %(pk_1)s::UUID
[2025-05-24 18:48:24,286.286] base.py -> _exec_single_context line:1901 [INFO]: [cached since 78.86s ago] {'pk_1': UUID('8b02a33b-8787-447f-861b-b432bbbb56bc')}
[2025-05-24 18:48:24,288.288] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(pk_1)s::UUID
[2025-05-24 18:48:24,288.288] base.py -> _exec_single_context line:1901 [INFO]: [cached since 586.9s ago] {'pk_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7')}
[2025-05-24 18:48:24,584.584] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:48:24] "OPTIONS /ai/suggested-questions HTTP/1.1" 200 -
[2025-05-24 18:48:24,900.900] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:48:24,901.901] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:48:24,901.901] base.py -> _exec_single_context line:1901 [INFO]: [cached since 628.3s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 18:48:24,902.902] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.id = %(pk_1)s::UUID
[2025-05-24 18:48:24,903.903] base.py -> _exec_single_context line:1901 [INFO]: [cached since 76.38s ago] {'pk_1': '8b02a33b-8787-447f-861b-b432bbbb56bc'}
[2025-05-24 18:48:27,729.729] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 18:48:27,730.730] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:48:27] "POST /ai/suggested-questions HTTP/1.1" 200 -
[2025-05-24 18:48:38,345.345] base.py -> _exec_single_context line:1896 [INFO]: UPDATE conversation SET summary=%(summary)s WHERE conversation.id = %(conversation_id)s::UUID
[2025-05-24 18:48:38,346.346] base.py -> _exec_single_context line:1901 [INFO]: [cached since 85.27s ago] {'summary': '当前总结:  \n人类询问淄博今天的天气情况。AI提供了详细的天气预报，包括日期（2025年5月24日）、白天气温（27°C，晴）、夜间气温（14°C，晴）以及风向（北风，1-3级）。随后，人类询问AI关于可持续发展与经济增长平衡的问题。AI认为这一平衡虽然复杂但可能实现，并列举了六个关键因素：可 ... (371 characters truncated) ... nAI指出，通过这些方法可以系统性地评估平衡，确保经济发展兼顾社会公平与环境保护。  \n\n随后，一位名为“好好”的用户向AI打招呼，AI回应表示很高兴见到对方并询问是否需要帮助。当人类询问AI是否知道自己的身份时，AI根据对话记录确认用户自称为“好好”，并询问是否需要进一步了解或分享其他信息。', 'conversation_id': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7')}
[2025-05-24 18:48:38,347.347] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 18:48:38,348.348] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:48:38,348.348] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(pk_1)s::UUID
[2025-05-24 18:48:38,348.348] base.py -> _exec_single_context line:1901 [INFO]: [cached since 601s ago] {'pk_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7')}
[2025-05-24 18:48:38,349.349] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(message.id) AS count_1 
FROM message 
WHERE message.conversation_id = %(conversation_id_1)s::UUID
[2025-05-24 18:48:38,349.349] base.py -> _exec_single_context line:1901 [INFO]: [cached since 85.27s ago] {'conversation_id_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7')}
[2025-05-24 18:48:38,350.350] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 18:51:29,779.779] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:51:29] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/conversations HTTP/1.1" 200 -
[2025-05-24 18:51:30,093.093] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:51:30,095.095] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:51:30,095.095] base.py -> _exec_single_context line:1901 [INFO]: [cached since 813.5s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 18:51:30,098.098] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-24 18:51:30,098.098] base.py -> _exec_single_context line:1901 [INFO]: [cached since 785s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-24 18:51:30,100.100] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-24 18:51:30,100.100] base.py -> _exec_single_context line:1901 [INFO]: [cached since 784.9s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-24 18:51:30,101.101] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID)
[2025-05-24 18:51:30,102.102] base.py -> _exec_single_context line:1901 [INFO]: [cached since 784.9s ago] {'id_1_1': '9af90c52-28b2-4a47-9c92-148c9f21b512'}
[2025-05-24 18:51:30,103.103] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(id_1)s::UUID AND conversation.invoke_from = %(invoke_from_1)s
[2025-05-24 18:51:30,103.103] base.py -> _exec_single_context line:1901 [INFO]: [cached since 785s ago] {'id_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'invoke_from_1': <InvokeFrom.DEBUGGER: 'debugger'>}
[2025-05-24 18:51:30,105.105] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO message (app_id, conversation_id, created_by, query, status) VALUES (%(app_id)s::UUID, %(conversation_id)s::UUID, %(created_by)s::UUID, %(query)s, %(status)s) RETURNING message.id, message.invoke_from, message.message, message.message_token_count, message.message_unit_price, message.message_price_unit, message.answer, message.answer_token_count, message.answer_unit_price, message.answer_price_unit, message.latency, message.is_deleted, message.error, message.total_token_count, message.total_price, message.updated_at, message.created_at
[2025-05-24 18:51:30,105.105] base.py -> _exec_single_context line:1901 [INFO]: [cached since 763s ago] {'app_id': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'conversation_id': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'created_by': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'query': '激活函数是什么?', 'status': <MessageStatus.NORMAL: 'normal'>}
[2025-05-24 18:51:30,107.107] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 18:51:30,163.163] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:51:30,163.163] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(pk_1)s::UUID
[2025-05-24 18:51:30,164.164] base.py -> _exec_single_context line:1901 [INFO]: [cached since 772.8s ago] {'pk_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7')}
[2025-05-24 18:51:30,165.165] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.conversation_id = %(conversation_id_1)s::UUID AND message.answer != %(answer_1)s AND message.is_deleted = false AND message.status IN (%(status_1_1)s, %(status_1_2)s) ORDER BY message.created_at DESC 
 LIMIT %(param_1)s
[2025-05-24 18:51:30,166.166] base.py -> _exec_single_context line:1901 [INFO]: [cached since 763s ago] {'conversation_id_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'answer_1': '', 'param_1': 10, 'status_1_1': <MessageStatus.STOP: 'stop'>, 'status_1_2': <MessageStatus.NORMAL: 'normal'>}
[2025-05-24 18:51:30,170.170] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:51:30,170.170] base.py -> _exec_single_context line:1901 [INFO]: [cached since 763s ago] {'pk_1': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f')}
[2025-05-24 18:51:31,197.197] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.id = %(pk_1)s::UUID
[2025-05-24 18:51:31,198.198] base.py -> _exec_single_context line:1901 [INFO]: [cached since 265.8s ago] {'pk_1': UUID('e71342e0-0b10-4e69-8995-9c44ed145643')}
[2025-05-24 18:51:31,199.199] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:51:31] "POST /apps/83040ed9-0795-43db-99da-b6eb2321a71b/conversations HTTP/1.1" 200 -
[2025-05-24 18:51:40,184.184] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 18:51:40,185.185] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:51:40,186.186] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(pk_1)s::UUID
[2025-05-24 18:51:40,186.186] base.py -> _exec_single_context line:1901 [INFO]: [cached since 271.7s ago] {'pk_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7')}
[2025-05-24 18:51:40,187.187] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.id = %(pk_1)s::UUID
[2025-05-24 18:51:40,187.187] base.py -> _exec_single_context line:1901 [INFO]: [cached since 271.7s ago] {'pk_1': UUID('e71342e0-0b10-4e69-8995-9c44ed145643')}
[2025-05-24 18:51:40,188.188] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO message_agent_thought (app_id, conversation_id, message_id, invoke_from, created_by, position, event, thought, observation, tool, tool_input, message, answer, latency) VALUES (%(app_id)s::UUID, %(conversation_id)s::UUID, %(message_id)s::UUID, %(invoke_from)s, %(created_by)s::UUID, %(position)s, %(event)s, %(thought)s, %(observation)s, %(tool)s, %(tool_input)s::JSONB, %(message)s::JSONB, %(answer)s, %(latency)s) RETURNING message_agent_thought.id, message_agent_thought.message_token_count, message_agent_thought.message_unit_price, message_agent_thought.message_price_unit, message_agent_thought.answer_token_count, message_agent_thought.answer_unit_price, message_agent_thought.answer_price_unit, message_agent_thought.total_token_count, message_agent_thought.total_price, message_agent_thought.updated_at, message_agent_thought.created_at
[2025-05-24 18:51:40,188.188] base.py -> _exec_single_context line:1901 [INFO]: [cached since 271.7s ago] {'app_id': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'conversation_id': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'message_id': UUID('e71342e0-0b10-4e69-8995-9c44ed145643'), 'invoke_from': <InvokeFrom.DEBUGGER: 'debugger'>, 'created_by': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'position': 1, 'event': <QueueEvent.LONG_TERM_MEMORY_RECALL: 'long_term_memory_recall'>, 'thought': '', 'observation': '当前总结:  \n人类询问淄博今天的天气情况。AI提供了详细的天气预报，包括日期（2025年5月24日）、白天气温（27°C，晴）、夜间气温（14°C，晴）以及风向（北风，1-3级）。随后，人类询问AI关于可持续发展与经济增长平衡的问题。AI认为这一平衡虽然复杂但可能实现，并列举了六个关键因素：可 ... (371 characters truncated) ... nAI指出，通过这些方法可以系统性地评估平衡，确保经济发展兼顾社会公平与环境保护。  \n\n随后，一位名为“好好”的用户向AI打招呼，AI回应表示很高兴见到对方并询问是否需要帮助。当人类询问AI是否知道自己的身份时，AI根据对话记录确认用户自称为“好好”，并询问是否需要进一步了解或分享其他信息。', 'tool': '', 'tool_input': '{}', 'message': '{}', 'answer': '', 'latency': 0}
[2025-05-24 18:51:40,190.190] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:51:40] "OPTIONS /ai/suggested-questions HTTP/1.1" 200 -
[2025-05-24 18:51:40,190.190] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 18:51:40,193.193] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:51:40,195.195] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:51:40,195.195] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(pk_1)s::UUID
[2025-05-24 18:51:40,196.196] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 18:51:40,196.196] base.py -> _exec_single_context line:1901 [INFO]: [cached since 782.9s ago] {'pk_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7')}
[2025-05-24 18:51:40,196.196] base.py -> _exec_single_context line:1901 [INFO]: [cached since 823.6s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 18:51:40,197.197] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.id = %(pk_1)s::UUID
[2025-05-24 18:51:40,198.198] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.id = %(pk_1)s::UUID
[2025-05-24 18:51:40,198.198] base.py -> _exec_single_context line:1901 [INFO]: [cached since 271.7s ago] {'pk_1': 'e71342e0-0b10-4e69-8995-9c44ed145643'}
[2025-05-24 18:51:40,198.198] base.py -> _exec_single_context line:1901 [INFO]: [cached since 274.8s ago] {'pk_1': UUID('e71342e0-0b10-4e69-8995-9c44ed145643')}
[2025-05-24 18:51:40,201.201] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO message_agent_thought (app_id, conversation_id, message_id, invoke_from, created_by, position, event, thought, observation, tool, tool_input, message, answer, latency) VALUES (%(app_id)s::UUID, %(conversation_id)s::UUID, %(message_id)s::UUID, %(invoke_from)s, %(created_by)s::UUID, %(position)s, %(event)s, %(thought)s, %(observation)s, %(tool)s, %(tool_input)s::JSONB, %(message)s::JSONB, %(answer)s, %(latency)s) RETURNING message_agent_thought.id, message_agent_thought.message_token_count, message_agent_thought.message_unit_price, message_agent_thought.message_price_unit, message_agent_thought.answer_token_count, message_agent_thought.answer_unit_price, message_agent_thought.answer_price_unit, message_agent_thought.total_token_count, message_agent_thought.total_price, message_agent_thought.updated_at, message_agent_thought.created_at
[2025-05-24 18:51:40,201.201] base.py -> _exec_single_context line:1901 [INFO]: [cached since 271.7s ago] {'app_id': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'conversation_id': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'message_id': UUID('e71342e0-0b10-4e69-8995-9c44ed145643'), 'invoke_from': <InvokeFrom.DEBUGGER: 'debugger'>, 'created_by': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'position': 2, 'event': <QueueEvent.AGENT_MESSAGE: 'agent_message'>, 'thought': '激活函数是神经网络中一个重要的组成部分，用于引入非线性因素，使得神经网络能够学习和拟合复杂的函数。激活函数的主要作用是决定一个神经元的输出，基于其输入信号。以下是一些常见的激活函数及其特点：\n\n1. **Sigmoid函数**：\n   - 公式：\\( f(x) = \\frac{1}{1  ... (511 characters truncated) ... 问题，输出一组概率值，表示每个类的预测概率。\n   - 公式：\\( f(x_i) = \\frac{e^{x_i}}{\\sum_{j} e^{x_j}} \\)\n\n选择适当的激活函数对于神经网络的性能至关重要，它会影响模型的收敛速度和学习能力。不同的任务和网络结构可能需要不同的激活函数。', 'observation': '', 'tool': '', 'tool_input': '{}', 'message': '[{"type": "system", "data": {"content": "\\u4f60\\u662f\\u4e00\\u4e2a\\u9ad8\\u5ea6\\u5b9a\\u5236\\u7684\\u667a\\u80fd\\u4f53\\u5e94\\u7528\\uff0c\\u ... (17513 characters truncated) ... ", "additional_kwargs": {}, "response_metadata": {}, "type": "human", "name": null, "id": "8c5343c7-d4f2-47be-ae9c-ed10a9e1d1a9", "example": false}}]', 'answer': '激活函数是神经网络中一个重要的组成部分，用于引入非线性因素，使得神经网络能够学习和拟合复杂的函数。激活函数的主要作用是决定一个神经元的输出，基于其输入信号。以下是一些常见的激活函数及其特点：\n\n1. **Sigmoid函数**：\n   - 公式：\\( f(x) = \\frac{1}{1  ... (511 characters truncated) ... 问题，输出一组概率值，表示每个类的预测概率。\n   - 公式：\\( f(x_i) = \\frac{e^{x_i}}{\\sum_{j} e^{x_j}} \\)\n\n选择适当的激活函数对于神经网络的性能至关重要，它会影响模型的收敛速度和学习能力。不同的任务和网络结构可能需要不同的激活函数。', 'latency': 9.980303400000025}
[2025-05-24 18:51:40,203.203] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 18:51:40,204.204] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:51:40,205.205] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.id = %(pk_1)s::UUID
[2025-05-24 18:51:40,205.205] base.py -> _exec_single_context line:1901 [INFO]: [cached since 274.8s ago] {'pk_1': UUID('e71342e0-0b10-4e69-8995-9c44ed145643')}
[2025-05-24 18:51:40,206.206] base.py -> _exec_single_context line:1896 [INFO]: UPDATE message SET message=%(message)s::JSONB, answer=%(answer)s, latency=%(latency)s WHERE message.id = %(message_id)s::UUID
[2025-05-24 18:51:40,206.206] base.py -> _exec_single_context line:1901 [INFO]: [cached since 271.6s ago] {'message': '[{"type": "system", "data": {"content": "\\u4f60\\u662f\\u4e00\\u4e2a\\u9ad8\\u5ea6\\u5b9a\\u5236\\u7684\\u667a\\u80fd\\u4f53\\u5e94\\u7528\\uff0c\\u ... (17513 characters truncated) ... ", "additional_kwargs": {}, "response_metadata": {}, "type": "human", "name": null, "id": "8c5343c7-d4f2-47be-ae9c-ed10a9e1d1a9", "example": false}}]', 'answer': '激活函数是神经网络中一个重要的组成部分，用于引入非线性因素，使得神经网络能够学习和拟合复杂的函数。激活函数的主要作用是决定一个神经元的输出，基于其输入信号。以下是一些常见的激活函数及其特点：\n\n1. **Sigmoid函数**：\n   - 公式：\\( f(x) = \\frac{1}{1  ... (511 characters truncated) ... 问题，输出一组概率值，表示每个类的预测概率。\n   - 公式：\\( f(x_i) = \\frac{e^{x_i}}{\\sum_{j} e^{x_j}} \\)\n\n选择适当的激活函数对于神经网络的性能至关重要，它会影响模型的收敛速度和学习能力。不同的任务和网络结构可能需要不同的激活函数。', 'latency': 9.980303400000025, 'message_id': UUID('e71342e0-0b10-4e69-8995-9c44ed145643')}
[2025-05-24 18:51:40,209.209] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 18:51:40,210.210] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:51:40,210.210] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.id = %(pk_1)s::UUID
[2025-05-24 18:51:40,210.210] base.py -> _exec_single_context line:1901 [INFO]: [cached since 274.8s ago] {'pk_1': UUID('e71342e0-0b10-4e69-8995-9c44ed145643')}
[2025-05-24 18:51:40,212.212] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(pk_1)s::UUID
[2025-05-24 18:51:40,212.212] base.py -> _exec_single_context line:1901 [INFO]: [cached since 782.9s ago] {'pk_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7')}
[2025-05-24 18:51:42,713.713] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 18:51:42,714.714] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 18:51:42] "POST /ai/suggested-questions HTTP/1.1" 200 -
[2025-05-24 18:52:00,589.589] base.py -> _exec_single_context line:1896 [INFO]: UPDATE conversation SET summary=%(summary)s WHERE conversation.id = %(conversation_id)s::UUID
[2025-05-24 18:52:00,589.589] base.py -> _exec_single_context line:1901 [INFO]: [cached since 287.5s ago] {'summary': '当前总结:  \n人类询问淄博今天的天气情况。AI提供了详细的天气预报，包括日期（2025年5月24日）、白天气温（27°C，晴）、夜间气温（14°C，晴）以及风向（北风，1-3级）。随后，人类询问AI关于可持续发展与经济增长平衡的问题。AI认为这一平衡虽然复杂但可能实现，并列举了六个关键因素：可 ... (672 characters truncated) ... 度消失）；  \n3. **ReLU**（计算高效但可能导致“死亡神经元”）；  \n4. **Leaky ReLU**（解决ReLU的负区间问题）；  \n5. **Softmax**（适用于多分类，输出概率分布）。  \nAI强调激活函数的选择对神经网络性能至关重要，需根据任务和结构灵活调整。', 'conversation_id': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7')}
[2025-05-24 18:52:00,594.594] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 18:52:00,595.595] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 18:52:00,595.595] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(pk_1)s::UUID
[2025-05-24 18:52:00,596.596] base.py -> _exec_single_context line:1901 [INFO]: [cached since 803.3s ago] {'pk_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7')}
[2025-05-24 18:52:00,597.597] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(message.id) AS count_1 
FROM message 
WHERE message.conversation_id = %(conversation_id_1)s::UUID
[2025-05-24 18:52:00,597.597] base.py -> _exec_single_context line:1901 [INFO]: [cached since 287.5s ago] {'conversation_id_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7')}
[2025-05-24 18:52:00,598.598] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 19:07:55,953.953] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 19:07:55] "OPTIONS /datasets?current_page=1&page_size=20&search_word= HTTP/1.1" 200 -
[2025-05-24 19:07:56,268.268] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 19:07:56,268.268] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 19:07:56,268.268] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1800s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 19:07:56,271.271] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.account_id = %(account_id_1)s::UUID ORDER BY dataset.created_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2025-05-24 19:07:56,271.271] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'account_id_1': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'param_1': 20, 'param_2': 0}
[2025-05-24 19:07:56,272.272] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT dataset.id AS id, dataset.account_id AS account_id, dataset.name AS name, dataset.icon AS icon, dataset.description AS description, dataset.updated_at AS updated_at, dataset.created_at AS created_at 
FROM dataset 
WHERE dataset.account_id = %(account_id_1)s::UUID) AS anon_1
[2025-05-24 19:07:56,272.272] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'account_id_1': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f')}
[2025-05-24 19:07:56,274.274] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,274.274] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'dataset_id_1': UUID('e9315438-563c-44e2-99a0-a60e0ba4b76e')}
[2025-05-24 19:07:56,275.275] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,275.275] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'dataset_id_1': UUID('e9315438-563c-44e2-99a0-a60e0ba4b76e')}
[2025-05-24 19:07:56,276.276] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,276.276] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('e9315438-563c-44e2-99a0-a60e0ba4b76e')}
[2025-05-24 19:07:56,277.277] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,277.277] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'dataset_id_1': UUID('e9af1e9e-fc18-4521-b222-79303a3a949f')}
[2025-05-24 19:07:56,278.278] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,278.278] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'dataset_id_1': UUID('e9af1e9e-fc18-4521-b222-79303a3a949f')}
[2025-05-24 19:07:56,279.279] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,279.279] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('e9af1e9e-fc18-4521-b222-79303a3a949f')}
[2025-05-24 19:07:56,280.280] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,280.280] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'dataset_id_1': UUID('c44c3229-35d5-4db8-b710-0e66089b5194')}
[2025-05-24 19:07:56,281.281] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,281.281] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'dataset_id_1': UUID('c44c3229-35d5-4db8-b710-0e66089b5194')}
[2025-05-24 19:07:56,282.282] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,282.282] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('c44c3229-35d5-4db8-b710-0e66089b5194')}
[2025-05-24 19:07:56,283.283] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,283.283] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'dataset_id_1': UUID('c4893bc6-7efb-45e4-8307-baf962a48b05')}
[2025-05-24 19:07:56,284.284] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,284.284] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'dataset_id_1': UUID('c4893bc6-7efb-45e4-8307-baf962a48b05')}
[2025-05-24 19:07:56,285.285] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,285.285] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('c4893bc6-7efb-45e4-8307-baf962a48b05')}
[2025-05-24 19:07:56,285.285] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,286.286] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'dataset_id_1': UUID('4cc5b531-8c8a-47b1-a641-bf75d7b7ac82')}
[2025-05-24 19:07:56,286.286] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,286.286] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'dataset_id_1': UUID('4cc5b531-8c8a-47b1-a641-bf75d7b7ac82')}
[2025-05-24 19:07:56,287.287] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,287.287] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('4cc5b531-8c8a-47b1-a641-bf75d7b7ac82')}
[2025-05-24 19:07:56,288.288] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,288.288] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'dataset_id_1': UUID('1ff78486-ddd5-45f0-a024-d63ecbeaa307')}
[2025-05-24 19:07:56,289.289] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,289.289] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'dataset_id_1': UUID('1ff78486-ddd5-45f0-a024-d63ecbeaa307')}
[2025-05-24 19:07:56,290.290] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,290.290] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('1ff78486-ddd5-45f0-a024-d63ecbeaa307')}
[2025-05-24 19:07:56,291.291] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,291.291] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'dataset_id_1': UUID('639052d1-06f1-4e89-a2d8-6eef01fcb5bd')}
[2025-05-24 19:07:56,292.292] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,293.293] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'dataset_id_1': UUID('639052d1-06f1-4e89-a2d8-6eef01fcb5bd')}
[2025-05-24 19:07:56,293.293] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,294.294] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('639052d1-06f1-4e89-a2d8-6eef01fcb5bd')}
[2025-05-24 19:07:56,294.294] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,295.295] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'dataset_id_1': UUID('7b5aca75-14ea-434c-8cbb-c3508eb3dc68')}
[2025-05-24 19:07:56,295.295] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,295.295] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'dataset_id_1': UUID('7b5aca75-14ea-434c-8cbb-c3508eb3dc68')}
[2025-05-24 19:07:56,297.297] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,297.297] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('7b5aca75-14ea-434c-8cbb-c3508eb3dc68')}
[2025-05-24 19:07:56,298.298] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,299.299] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'dataset_id_1': UUID('f932375a-8700-4d3b-ae2d-958b29fcae48')}
[2025-05-24 19:07:56,299.299] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,299.299] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'dataset_id_1': UUID('f932375a-8700-4d3b-ae2d-958b29fcae48')}
[2025-05-24 19:07:56,300.300] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,300.300] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('f932375a-8700-4d3b-ae2d-958b29fcae48')}
[2025-05-24 19:07:56,301.301] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,301.301] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'dataset_id_1': UUID('c6a2f8f1-e3b3-4555-a691-0fe457b2dded')}
[2025-05-24 19:07:56,302.302] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,302.302] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'dataset_id_1': UUID('c6a2f8f1-e3b3-4555-a691-0fe457b2dded')}
[2025-05-24 19:07:56,303.303] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,303.303] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('c6a2f8f1-e3b3-4555-a691-0fe457b2dded')}
[2025-05-24 19:07:56,303.303] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,304.304] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'dataset_id_1': UUID('9af90c52-28b2-4a47-9c92-148c9f21b512')}
[2025-05-24 19:07:56,304.304] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,304.304] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'dataset_id_1': UUID('9af90c52-28b2-4a47-9c92-148c9f21b512')}
[2025-05-24 19:07:56,305.305] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,306.306] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('9af90c52-28b2-4a47-9c92-148c9f21b512')}
[2025-05-24 19:07:56,306.306] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,307.307] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'dataset_id_1': UUID('9cf6cccc-1bf7-44db-9044-1d1638e4e142')}
[2025-05-24 19:07:56,309.309] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,309.309] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'dataset_id_1': UUID('9cf6cccc-1bf7-44db-9044-1d1638e4e142')}
[2025-05-24 19:07:56,311.311] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,311.311] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('9cf6cccc-1bf7-44db-9044-1d1638e4e142')}
[2025-05-24 19:07:56,312.312] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,312.312] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'dataset_id_1': UUID('37a9f300-a2f2-47d1-97ef-67da9b65193d')}
[2025-05-24 19:07:56,313.313] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,313.313] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'dataset_id_1': UUID('37a9f300-a2f2-47d1-97ef-67da9b65193d')}
[2025-05-24 19:07:56,314.314] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,314.314] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('37a9f300-a2f2-47d1-97ef-67da9b65193d')}
[2025-05-24 19:07:56,316.316] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,316.316] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'dataset_id_1': UUID('df56c578-0b13-4ac2-9cdb-cfb431dca264')}
[2025-05-24 19:07:56,316.316] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,317.317] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'dataset_id_1': UUID('df56c578-0b13-4ac2-9cdb-cfb431dca264')}
[2025-05-24 19:07:56,317.317] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,318.318] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('df56c578-0b13-4ac2-9cdb-cfb431dca264')}
[2025-05-24 19:07:56,319.319] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,320.320] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'dataset_id_1': UUID('17166c83-14ea-4ba3-ac67-1bcb1c5672bb')}
[2025-05-24 19:07:56,321.321] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,321.321] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'dataset_id_1': UUID('17166c83-14ea-4ba3-ac67-1bcb1c5672bb')}
[2025-05-24 19:07:56,322.322] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,322.322] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('17166c83-14ea-4ba3-ac67-1bcb1c5672bb')}
[2025-05-24 19:07:56,323.323] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,323.323] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'dataset_id_1': UUID('49908250-8e6e-4284-a6c6-204599c5b53d')}
[2025-05-24 19:07:56,324.324] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,324.324] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'dataset_id_1': UUID('49908250-8e6e-4284-a6c6-204599c5b53d')}
[2025-05-24 19:07:56,325.325] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,325.325] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('49908250-8e6e-4284-a6c6-204599c5b53d')}
[2025-05-24 19:07:56,327.327] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,327.327] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'dataset_id_1': UUID('8af6e64d-1128-427e-b4bf-8ef556836bfa')}
[2025-05-24 19:07:56,328.328] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,329.329] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'dataset_id_1': UUID('8af6e64d-1128-427e-b4bf-8ef556836bfa')}
[2025-05-24 19:07:56,330.330] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,330.330] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('8af6e64d-1128-427e-b4bf-8ef556836bfa')}
[2025-05-24 19:07:56,331.331] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,331.331] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'dataset_id_1': UUID('f1b9d5e9-bbdb-4b81-92a5-ce04bd27a82b')}
[2025-05-24 19:07:56,332.332] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,333.333] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'dataset_id_1': UUID('f1b9d5e9-bbdb-4b81-92a5-ce04bd27a82b')}
[2025-05-24 19:07:56,334.334] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,334.334] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('f1b9d5e9-bbdb-4b81-92a5-ce04bd27a82b')}
[2025-05-24 19:07:56,336.336] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,336.336] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'dataset_id_1': UUID('6bca0bd4-647c-456c-8b9c-00e2b06bd4a9')}
[2025-05-24 19:07:56,337.337] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,338.338] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'dataset_id_1': UUID('6bca0bd4-647c-456c-8b9c-00e2b06bd4a9')}
[2025-05-24 19:07:56,339.339] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,339.339] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('6bca0bd4-647c-456c-8b9c-00e2b06bd4a9')}
[2025-05-24 19:07:56,341.341] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,341.341] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'dataset_id_1': UUID('29d11e42-b1ac-4986-b595-dda47b75302a')}
[2025-05-24 19:07:56,343.343] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,343.343] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'dataset_id_1': UUID('29d11e42-b1ac-4986-b595-dda47b75302a')}
[2025-05-24 19:07:56,345.345] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:56,345.345] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1771s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('29d11e42-b1ac-4986-b595-dda47b75302a')}
[2025-05-24 19:07:56,348.348] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 19:07:56,348.348] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 19:07:56] "GET /datasets?current_page=1&page_size=20&search_word= HTTP/1.1" 200 -
[2025-05-24 19:07:58,400.400] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 19:07:58] "OPTIONS /datasets?current_page=2&page_size=20&search_word= HTTP/1.1" 200 -
[2025-05-24 19:07:58,403.403] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 19:07:58,404.404] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 19:07:58,404.404] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1802s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 19:07:58,406.406] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.account_id = %(account_id_1)s::UUID ORDER BY dataset.created_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2025-05-24 19:07:58,406.406] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1773s ago] {'account_id_1': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'param_1': 20, 'param_2': 20}
[2025-05-24 19:07:58,408.408] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT dataset.id AS id, dataset.account_id AS account_id, dataset.name AS name, dataset.icon AS icon, dataset.description AS description, dataset.updated_at AS updated_at, dataset.created_at AS created_at 
FROM dataset 
WHERE dataset.account_id = %(account_id_1)s::UUID) AS anon_1
[2025-05-24 19:07:58,408.408] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1773s ago] {'account_id_1': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f')}
[2025-05-24 19:07:58,409.409] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:58,409.409] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1773s ago] {'dataset_id_1': UUID('2754e340-5fae-46ab-944d-db72e0563338')}
[2025-05-24 19:07:58,411.411] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:58,411.411] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1773s ago] {'dataset_id_1': UUID('2754e340-5fae-46ab-944d-db72e0563338')}
[2025-05-24 19:07:58,412.412] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:58,412.412] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1773s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('2754e340-5fae-46ab-944d-db72e0563338')}
[2025-05-24 19:07:58,414.414] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:58,414.414] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1773s ago] {'dataset_id_1': UUID('b96efe68-8945-4c2b-b9cf-228609113049')}
[2025-05-24 19:07:58,415.415] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:58,415.415] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1773s ago] {'dataset_id_1': UUID('b96efe68-8945-4c2b-b9cf-228609113049')}
[2025-05-24 19:07:58,415.415] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:58,416.416] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1773s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('b96efe68-8945-4c2b-b9cf-228609113049')}
[2025-05-24 19:07:58,416.416] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:58,416.416] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1773s ago] {'dataset_id_1': UUID('69bac32a-eb58-45b9-86ff-7e1ac93a0a88')}
[2025-05-24 19:07:58,417.417] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:58,417.417] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1773s ago] {'dataset_id_1': UUID('69bac32a-eb58-45b9-86ff-7e1ac93a0a88')}
[2025-05-24 19:07:58,418.418] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:58,418.418] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1773s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('69bac32a-eb58-45b9-86ff-7e1ac93a0a88')}
[2025-05-24 19:07:58,418.418] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:58,420.420] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1773s ago] {'dataset_id_1': UUID('059c1cbc-5230-4056-a44a-4537779922cd')}
[2025-05-24 19:07:58,420.420] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:58,420.420] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1773s ago] {'dataset_id_1': UUID('059c1cbc-5230-4056-a44a-4537779922cd')}
[2025-05-24 19:07:58,421.421] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:07:58,421.421] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1773s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('059c1cbc-5230-4056-a44a-4537779922cd')}
[2025-05-24 19:07:58,422.422] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 19:07:58,422.422] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 19:07:58] "GET /datasets?current_page=2&page_size=20&search_word= HTTP/1.1" 200 -
[2025-05-24 19:09:07,484.484] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 19:09:07] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-24 19:09:07,795.795] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 19:09:07,797.797] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 19:09:07,797.797] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1871s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 19:09:07,800.800] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-24 19:09:07,801.801] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-24 19:09:07,804.804] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (NULL) AND (1 != 1) AND dataset.account_id = %(account_id_1)s::UUID
[2025-05-24 19:09:07,804.804] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00029s] {'account_id_1': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f')}
[2025-05-24 19:09:07,805.805] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-24 19:09:07,805.805] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-24 19:09:07,806.806] base.py -> _exec_single_context line:1896 [INFO]: UPDATE app_config_version SET datasets=%(datasets)s::JSONB, updated_at=%(updated_at)s WHERE app_config_version.id = %(app_config_version_id)s::UUID
[2025-05-24 19:09:07,807.807] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00028s] {'datasets': '[]', 'updated_at': datetime.datetime(2025, 5, 24, 19, 9, 7, 805408), 'app_config_version_id': UUID('8338bcb2-ae18-40fc-bdf3-5f8cb8315ac5')}
[2025-05-24 19:09:07,808.808] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 19:09:07,809.809] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 19:09:07] "POST /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-24 19:09:08,364.364] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 19:09:08] "OPTIONS /datasets?current_page=1&page_size=20&search_word= HTTP/1.1" 200 -
[2025-05-24 19:09:08,367.367] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 19:09:08,369.369] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 19:09:08,369.369] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1872s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 19:09:08,371.371] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.account_id = %(account_id_1)s::UUID ORDER BY dataset.created_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2025-05-24 19:09:08,372.372] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'account_id_1': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'param_1': 20, 'param_2': 0}
[2025-05-24 19:09:08,373.373] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT dataset.id AS id, dataset.account_id AS account_id, dataset.name AS name, dataset.icon AS icon, dataset.description AS description, dataset.updated_at AS updated_at, dataset.created_at AS created_at 
FROM dataset 
WHERE dataset.account_id = %(account_id_1)s::UUID) AS anon_1
[2025-05-24 19:09:08,374.374] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'account_id_1': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f')}
[2025-05-24 19:09:08,375.375] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,375.375] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'dataset_id_1': UUID('e9315438-563c-44e2-99a0-a60e0ba4b76e')}
[2025-05-24 19:09:08,377.377] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,378.378] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'dataset_id_1': UUID('e9315438-563c-44e2-99a0-a60e0ba4b76e')}
[2025-05-24 19:09:08,380.380] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,381.381] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('e9315438-563c-44e2-99a0-a60e0ba4b76e')}
[2025-05-24 19:09:08,382.382] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,382.382] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'dataset_id_1': UUID('e9af1e9e-fc18-4521-b222-79303a3a949f')}
[2025-05-24 19:09:08,383.383] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,383.383] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'dataset_id_1': UUID('e9af1e9e-fc18-4521-b222-79303a3a949f')}
[2025-05-24 19:09:08,383.383] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,384.384] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('e9af1e9e-fc18-4521-b222-79303a3a949f')}
[2025-05-24 19:09:08,384.384] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,384.384] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'dataset_id_1': UUID('c44c3229-35d5-4db8-b710-0e66089b5194')}
[2025-05-24 19:09:08,385.385] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,386.386] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'dataset_id_1': UUID('c44c3229-35d5-4db8-b710-0e66089b5194')}
[2025-05-24 19:09:08,386.386] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,386.386] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('c44c3229-35d5-4db8-b710-0e66089b5194')}
[2025-05-24 19:09:08,387.387] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,387.387] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'dataset_id_1': UUID('c4893bc6-7efb-45e4-8307-baf962a48b05')}
[2025-05-24 19:09:08,388.388] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,388.388] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'dataset_id_1': UUID('c4893bc6-7efb-45e4-8307-baf962a48b05')}
[2025-05-24 19:09:08,389.389] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,389.389] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('c4893bc6-7efb-45e4-8307-baf962a48b05')}
[2025-05-24 19:09:08,390.390] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,390.390] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'dataset_id_1': UUID('4cc5b531-8c8a-47b1-a641-bf75d7b7ac82')}
[2025-05-24 19:09:08,390.390] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,390.390] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'dataset_id_1': UUID('4cc5b531-8c8a-47b1-a641-bf75d7b7ac82')}
[2025-05-24 19:09:08,391.391] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,391.391] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('4cc5b531-8c8a-47b1-a641-bf75d7b7ac82')}
[2025-05-24 19:09:08,392.392] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,392.392] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'dataset_id_1': UUID('1ff78486-ddd5-45f0-a024-d63ecbeaa307')}
[2025-05-24 19:09:08,393.393] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,393.393] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'dataset_id_1': UUID('1ff78486-ddd5-45f0-a024-d63ecbeaa307')}
[2025-05-24 19:09:08,394.394] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,394.394] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('1ff78486-ddd5-45f0-a024-d63ecbeaa307')}
[2025-05-24 19:09:08,395.395] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,395.395] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'dataset_id_1': UUID('639052d1-06f1-4e89-a2d8-6eef01fcb5bd')}
[2025-05-24 19:09:08,396.396] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,396.396] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'dataset_id_1': UUID('639052d1-06f1-4e89-a2d8-6eef01fcb5bd')}
[2025-05-24 19:09:08,397.397] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,397.397] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('639052d1-06f1-4e89-a2d8-6eef01fcb5bd')}
[2025-05-24 19:09:08,398.398] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,398.398] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'dataset_id_1': UUID('7b5aca75-14ea-434c-8cbb-c3508eb3dc68')}
[2025-05-24 19:09:08,399.399] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,399.399] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'dataset_id_1': UUID('7b5aca75-14ea-434c-8cbb-c3508eb3dc68')}
[2025-05-24 19:09:08,400.400] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,400.400] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('7b5aca75-14ea-434c-8cbb-c3508eb3dc68')}
[2025-05-24 19:09:08,401.401] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,401.401] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'dataset_id_1': UUID('f932375a-8700-4d3b-ae2d-958b29fcae48')}
[2025-05-24 19:09:08,402.402] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,402.402] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'dataset_id_1': UUID('f932375a-8700-4d3b-ae2d-958b29fcae48')}
[2025-05-24 19:09:08,403.403] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,403.403] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('f932375a-8700-4d3b-ae2d-958b29fcae48')}
[2025-05-24 19:09:08,404.404] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,404.404] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'dataset_id_1': UUID('c6a2f8f1-e3b3-4555-a691-0fe457b2dded')}
[2025-05-24 19:09:08,405.405] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,405.405] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'dataset_id_1': UUID('c6a2f8f1-e3b3-4555-a691-0fe457b2dded')}
[2025-05-24 19:09:08,406.406] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,406.406] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('c6a2f8f1-e3b3-4555-a691-0fe457b2dded')}
[2025-05-24 19:09:08,407.407] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,407.407] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'dataset_id_1': UUID('9af90c52-28b2-4a47-9c92-148c9f21b512')}
[2025-05-24 19:09:08,408.408] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,408.408] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'dataset_id_1': UUID('9af90c52-28b2-4a47-9c92-148c9f21b512')}
[2025-05-24 19:09:08,408.408] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,409.409] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('9af90c52-28b2-4a47-9c92-148c9f21b512')}
[2025-05-24 19:09:08,409.409] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,410.410] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'dataset_id_1': UUID('9cf6cccc-1bf7-44db-9044-1d1638e4e142')}
[2025-05-24 19:09:08,410.410] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,411.411] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'dataset_id_1': UUID('9cf6cccc-1bf7-44db-9044-1d1638e4e142')}
[2025-05-24 19:09:08,412.412] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,412.412] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('9cf6cccc-1bf7-44db-9044-1d1638e4e142')}
[2025-05-24 19:09:08,413.413] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,413.413] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'dataset_id_1': UUID('37a9f300-a2f2-47d1-97ef-67da9b65193d')}
[2025-05-24 19:09:08,414.414] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,414.414] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'dataset_id_1': UUID('37a9f300-a2f2-47d1-97ef-67da9b65193d')}
[2025-05-24 19:09:08,415.415] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,415.415] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('37a9f300-a2f2-47d1-97ef-67da9b65193d')}
[2025-05-24 19:09:08,416.416] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,416.416] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'dataset_id_1': UUID('df56c578-0b13-4ac2-9cdb-cfb431dca264')}
[2025-05-24 19:09:08,417.417] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,417.417] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'dataset_id_1': UUID('df56c578-0b13-4ac2-9cdb-cfb431dca264')}
[2025-05-24 19:09:08,417.417] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,418.418] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('df56c578-0b13-4ac2-9cdb-cfb431dca264')}
[2025-05-24 19:09:08,419.419] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,419.419] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'dataset_id_1': UUID('17166c83-14ea-4ba3-ac67-1bcb1c5672bb')}
[2025-05-24 19:09:08,420.420] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,420.420] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'dataset_id_1': UUID('17166c83-14ea-4ba3-ac67-1bcb1c5672bb')}
[2025-05-24 19:09:08,421.421] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,421.421] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('17166c83-14ea-4ba3-ac67-1bcb1c5672bb')}
[2025-05-24 19:09:08,422.422] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,422.422] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'dataset_id_1': UUID('49908250-8e6e-4284-a6c6-204599c5b53d')}
[2025-05-24 19:09:08,423.423] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,423.423] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'dataset_id_1': UUID('49908250-8e6e-4284-a6c6-204599c5b53d')}
[2025-05-24 19:09:08,424.424] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,424.424] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('49908250-8e6e-4284-a6c6-204599c5b53d')}
[2025-05-24 19:09:08,425.425] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,425.425] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'dataset_id_1': UUID('8af6e64d-1128-427e-b4bf-8ef556836bfa')}
[2025-05-24 19:09:08,425.425] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,426.426] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'dataset_id_1': UUID('8af6e64d-1128-427e-b4bf-8ef556836bfa')}
[2025-05-24 19:09:08,426.426] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,427.427] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('8af6e64d-1128-427e-b4bf-8ef556836bfa')}
[2025-05-24 19:09:08,427.427] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,428.428] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'dataset_id_1': UUID('f1b9d5e9-bbdb-4b81-92a5-ce04bd27a82b')}
[2025-05-24 19:09:08,428.428] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,429.429] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'dataset_id_1': UUID('f1b9d5e9-bbdb-4b81-92a5-ce04bd27a82b')}
[2025-05-24 19:09:08,430.430] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,430.430] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('f1b9d5e9-bbdb-4b81-92a5-ce04bd27a82b')}
[2025-05-24 19:09:08,430.430] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,430.430] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'dataset_id_1': UUID('6bca0bd4-647c-456c-8b9c-00e2b06bd4a9')}
[2025-05-24 19:09:08,432.432] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,432.432] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'dataset_id_1': UUID('6bca0bd4-647c-456c-8b9c-00e2b06bd4a9')}
[2025-05-24 19:09:08,433.433] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,434.434] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('6bca0bd4-647c-456c-8b9c-00e2b06bd4a9')}
[2025-05-24 19:09:08,434.434] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,434.434] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'dataset_id_1': UUID('29d11e42-b1ac-4986-b595-dda47b75302a')}
[2025-05-24 19:09:08,435.435] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,435.435] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'dataset_id_1': UUID('29d11e42-b1ac-4986-b595-dda47b75302a')}
[2025-05-24 19:09:08,435.435] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:08,436.436] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1843s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('29d11e42-b1ac-4986-b595-dda47b75302a')}
[2025-05-24 19:09:08,437.437] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 19:09:08,438.438] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 19:09:08] "GET /datasets?current_page=1&page_size=20&search_word= HTTP/1.1" 200 -
[2025-05-24 19:09:11,120.120] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 19:09:11] "OPTIONS /datasets?current_page=2&page_size=20&search_word= HTTP/1.1" 200 -
[2025-05-24 19:09:11,432.432] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 19:09:11,433.433] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 19:09:11,433.433] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1875s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 19:09:11,434.434] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.account_id = %(account_id_1)s::UUID ORDER BY dataset.created_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2025-05-24 19:09:11,435.435] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1846s ago] {'account_id_1': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'param_1': 20, 'param_2': 20}
[2025-05-24 19:09:11,436.436] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT dataset.id AS id, dataset.account_id AS account_id, dataset.name AS name, dataset.icon AS icon, dataset.description AS description, dataset.updated_at AS updated_at, dataset.created_at AS created_at 
FROM dataset 
WHERE dataset.account_id = %(account_id_1)s::UUID) AS anon_1
[2025-05-24 19:09:11,436.436] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1846s ago] {'account_id_1': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f')}
[2025-05-24 19:09:11,437.437] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:11,437.437] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1846s ago] {'dataset_id_1': UUID('2754e340-5fae-46ab-944d-db72e0563338')}
[2025-05-24 19:09:11,437.437] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:11,438.438] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1846s ago] {'dataset_id_1': UUID('2754e340-5fae-46ab-944d-db72e0563338')}
[2025-05-24 19:09:11,438.438] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:11,438.438] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1846s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('2754e340-5fae-46ab-944d-db72e0563338')}
[2025-05-24 19:09:11,439.439] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:11,439.439] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1846s ago] {'dataset_id_1': UUID('b96efe68-8945-4c2b-b9cf-228609113049')}
[2025-05-24 19:09:11,440.440] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:11,440.440] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1846s ago] {'dataset_id_1': UUID('b96efe68-8945-4c2b-b9cf-228609113049')}
[2025-05-24 19:09:11,440.440] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:11,441.441] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1846s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('b96efe68-8945-4c2b-b9cf-228609113049')}
[2025-05-24 19:09:11,441.441] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:11,441.441] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1846s ago] {'dataset_id_1': UUID('69bac32a-eb58-45b9-86ff-7e1ac93a0a88')}
[2025-05-24 19:09:11,442.442] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:11,442.442] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1846s ago] {'dataset_id_1': UUID('69bac32a-eb58-45b9-86ff-7e1ac93a0a88')}
[2025-05-24 19:09:11,442.442] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:11,443.443] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1846s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('69bac32a-eb58-45b9-86ff-7e1ac93a0a88')}
[2025-05-24 19:09:11,443.443] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:11,443.443] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1846s ago] {'dataset_id_1': UUID('059c1cbc-5230-4056-a44a-4537779922cd')}
[2025-05-24 19:09:11,444.444] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:11,444.444] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1846s ago] {'dataset_id_1': UUID('059c1cbc-5230-4056-a44a-4537779922cd')}
[2025-05-24 19:09:11,445.445] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:11,445.445] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1846s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('059c1cbc-5230-4056-a44a-4537779922cd')}
[2025-05-24 19:09:11,446.446] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 19:09:11,446.446] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 19:09:11] "GET /datasets?current_page=2&page_size=20&search_word= HTTP/1.1" 200 -
[2025-05-24 19:09:17,537.537] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 19:09:17] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-24 19:09:17,540.540] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 19:09:17,540.540] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 19:09:17,542.542] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1881s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 19:09:17,552.552] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-24 19:09:17,553.553] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1852s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-24 19:09:17,554.554] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2025-05-24 19:09:17,554.554] base.py -> _exec_single_context line:1901 [INFO]: [cached since 9.75s ago] {'account_id_1': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'id_1_1': '9af90c52-28b2-4a47-9c92-148c9f21b512', 'id_1_2': '059c1cbc-5230-4056-a44a-4537779922cd'}
[2025-05-24 19:09:17,556.556] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-24 19:09:17,556.556] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1852s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-24 19:09:17,557.557] base.py -> _exec_single_context line:1896 [INFO]: UPDATE app_config_version SET datasets=%(datasets)s::JSONB, updated_at=%(updated_at)s WHERE app_config_version.id = %(app_config_version_id)s::UUID
[2025-05-24 19:09:17,558.558] base.py -> _exec_single_context line:1901 [INFO]: [cached since 9.75s ago] {'datasets': '["9af90c52-28b2-4a47-9c92-148c9f21b512", "059c1cbc-5230-4056-a44a-4537779922cd"]', 'updated_at': datetime.datetime(2025, 5, 24, 19, 9, 17, 557352), 'app_config_version_id': UUID('8338bcb2-ae18-40fc-bdf3-5f8cb8315ac5')}
[2025-05-24 19:09:17,559.559] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 19:09:17,560.560] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 19:09:17] "POST /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-24 19:09:20,109.109] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 19:09:20,109.109] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 19:09:20,110.110] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1883s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 19:09:20,111.111] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-24 19:09:20,112.112] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1855s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-24 19:09:20,113.113] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2025-05-24 19:09:20,113.113] base.py -> _exec_single_context line:1901 [INFO]: [cached since 12.31s ago] {'account_id_1': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'id_1_1': '059c1cbc-5230-4056-a44a-4537779922cd'}
[2025-05-24 19:09:20,114.114] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-24 19:09:20,115.115] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1855s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-24 19:09:20,115.115] base.py -> _exec_single_context line:1896 [INFO]: UPDATE app_config_version SET datasets=%(datasets)s::JSONB, updated_at=%(updated_at)s WHERE app_config_version.id = %(app_config_version_id)s::UUID
[2025-05-24 19:09:20,116.116] base.py -> _exec_single_context line:1901 [INFO]: [cached since 12.31s ago] {'datasets': '["059c1cbc-5230-4056-a44a-4537779922cd"]', 'updated_at': datetime.datetime(2025, 5, 24, 19, 9, 20, 115921), 'app_config_version_id': UUID('8338bcb2-ae18-40fc-bdf3-5f8cb8315ac5')}
[2025-05-24 19:09:20,116.116] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 19:09:20,126.126] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 19:09:20] "POST /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-24 19:09:27,557.557] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 19:09:27] "OPTIONS /builtin-tools/categories HTTP/1.1" 200 -
[2025-05-24 19:09:27,558.558] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 19:09:27] "OPTIONS /datasets?current_page=1&page_size=20&search_word= HTTP/1.1" 200 -
[2025-05-24 19:09:27,559.559] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 19:09:27] "GET /builtin-tools/categories HTTP/1.1" 200 -
[2025-05-24 19:09:27,561.561] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 19:09:27] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/conversations/messages?current_page=1&page_size=5&created_at=0 HTTP/1.1" 200 -
[2025-05-24 19:09:27,564.564] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 19:09:27] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-24 19:09:27,567.567] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 19:09:27] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-24 19:09:27,868.868] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 19:09:27,869.869] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 19:09:27,869.869] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 19:09:27,870.870] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1891s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 19:09:27,870.870] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 19:09:27,870.870] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1891s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 19:09:27,871.871] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.account_id = %(account_id_1)s::UUID ORDER BY dataset.created_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2025-05-24 19:09:27,872.872] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-24 19:09:27,873.873] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'account_id_1': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'param_1': 20, 'param_2': 0}
[2025-05-24 19:09:27,873.873] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-24 19:09:27,874.874] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT dataset.id AS id, dataset.account_id AS account_id, dataset.name AS name, dataset.icon AS icon, dataset.description AS description, dataset.updated_at AS updated_at, dataset.created_at AS created_at 
FROM dataset 
WHERE dataset.account_id = %(account_id_1)s::UUID) AS anon_1
[2025-05-24 19:09:27,875.875] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(id_1)s::UUID AND conversation.invoke_from = %(invoke_from_1)s
[2025-05-24 19:09:27,875.875] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'account_id_1': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f')}
[2025-05-24 19:09:27,875.875] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'id_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'invoke_from_1': <InvokeFrom.DEBUGGER: 'debugger'>}
[2025-05-24 19:09:27,876.876] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,877.877] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.conversation_id = %(conversation_id_1)s::UUID AND message.status IN (%(status_1_1)s, %(status_1_2)s) AND message.answer != %(answer_1)s ORDER BY message.created_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2025-05-24 19:09:27,877.877] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'dataset_id_1': UUID('e9315438-563c-44e2-99a0-a60e0ba4b76e')}
[2025-05-24 19:09:27,878.878] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'conversation_id_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'answer_1': '', 'param_1': 5, 'param_2': 0, 'status_1_1': <MessageStatus.STOP: 'stop'>, 'status_1_2': <MessageStatus.NORMAL: 'normal'>}
[2025-05-24 19:09:27,879.879] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,879.879] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'dataset_id_1': UUID('e9315438-563c-44e2-99a0-a60e0ba4b76e')}
[2025-05-24 19:09:27,881.881] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT message.id AS id, message.app_id AS app_id, message.conversation_id AS conversation_id, message.invoke_from AS invoke_from, message.created_by AS created_by, message.query AS query, message.message AS message, message.message_token_count AS message_token_count, message.message_unit_price AS message_unit_price, message.message_price_unit AS message_price_unit, message.answer AS answer, message.answer_token_count AS answer_token_count, message.answer_unit_price AS answer_unit_price, message.answer_price_unit AS answer_price_unit, message.latency AS latency, message.is_deleted AS is_deleted, message.status AS status, message.error AS error, message.total_token_count AS total_token_count, message.total_price AS total_price, message.updated_at AS updated_at, message.created_at AS created_at 
FROM message 
WHERE message.conversation_id = %(conversation_id_1)s::UUID AND message.status IN (%(status_1_1)s, %(status_1_2)s) AND message.answer != %(answer_1)s) AS anon_1
[2025-05-24 19:09:27,881.881] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,881.881] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'conversation_id_1': UUID('a4cfa6e8-0f11-4f56-b544-28de2c12f8c7'), 'answer_1': '', 'status_1_1': <MessageStatus.STOP: 'stop'>, 'status_1_2': <MessageStatus.NORMAL: 'normal'>}
[2025-05-24 19:09:27,882.882] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('e9315438-563c-44e2-99a0-a60e0ba4b76e')}
[2025-05-24 19:09:27,885.885] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 19:09:27,886.886] base.py -> _exec_single_context line:1896 [INFO]: SELECT message_agent_thought.id AS message_agent_thought_id, message_agent_thought.app_id AS message_agent_thought_app_id, message_agent_thought.conversation_id AS message_agent_thought_conversation_id, message_agent_thought.message_id AS message_agent_thought_message_id, message_agent_thought.invoke_from AS message_agent_thought_invoke_from, message_agent_thought.created_by AS message_agent_thought_created_by, message_agent_thought.position AS message_agent_thought_position, message_agent_thought.event AS message_agent_thought_event, message_agent_thought.thought AS message_agent_thought_thought, message_agent_thought.observation AS message_agent_thought_observation, message_agent_thought.tool AS message_agent_thought_tool, message_agent_thought.tool_input AS message_agent_thought_tool_input, message_agent_thought.message AS message_agent_thought_message, message_agent_thought.message_token_count AS message_agent_thought_message_token_count, message_agent_thought.message_unit_price AS message_agent_thought_message_unit_price, message_agent_thought.message_price_unit AS message_agent_thought_message_price_unit, message_agent_thought.answer AS message_agent_thought_answer, message_agent_thought.answer_token_count AS message_agent_thought_answer_token_count, message_agent_thought.answer_unit_price AS message_agent_thought_answer_unit_price, message_agent_thought.answer_price_unit AS message_agent_thought_answer_price_unit, message_agent_thought.total_token_count AS message_agent_thought_total_token_count, message_agent_thought.total_price AS message_agent_thought_total_price, message_agent_thought.latency AS message_agent_thought_latency, message_agent_thought.updated_at AS message_agent_thought_updated_at, message_agent_thought.created_at AS message_agent_thought_created_at 
FROM message_agent_thought 
WHERE message_agent_thought.message_id = %(message_id_1)s::UUID ORDER BY message_agent_thought.position ASC
[2025-05-24 19:09:27,887.887] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 19:09:27,888.888] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 19:09:27,888.888] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,888.888] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'message_id_1': UUID('e71342e0-0b10-4e69-8995-9c44ed145643')}
[2025-05-24 19:09:27,889.889] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1891s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 19:09:27,889.889] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 19:09:27,889.889] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'dataset_id_1': UUID('e9af1e9e-fc18-4521-b222-79303a3a949f')}
[2025-05-24 19:09:27,890.890] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1891s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 19:09:27,891.891] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-24 19:09:27,891.891] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,892.892] base.py -> _exec_single_context line:1896 [INFO]: SELECT message_agent_thought.id AS message_agent_thought_id, message_agent_thought.app_id AS message_agent_thought_app_id, message_agent_thought.conversation_id AS message_agent_thought_conversation_id, message_agent_thought.message_id AS message_agent_thought_message_id, message_agent_thought.invoke_from AS message_agent_thought_invoke_from, message_agent_thought.created_by AS message_agent_thought_created_by, message_agent_thought.position AS message_agent_thought_position, message_agent_thought.event AS message_agent_thought_event, message_agent_thought.thought AS message_agent_thought_thought, message_agent_thought.observation AS message_agent_thought_observation, message_agent_thought.tool AS message_agent_thought_tool, message_agent_thought.tool_input AS message_agent_thought_tool_input, message_agent_thought.message AS message_agent_thought_message, message_agent_thought.message_token_count AS message_agent_thought_message_token_count, message_agent_thought.message_unit_price AS message_agent_thought_message_unit_price, message_agent_thought.message_price_unit AS message_agent_thought_message_price_unit, message_agent_thought.answer AS message_agent_thought_answer, message_agent_thought.answer_token_count AS message_agent_thought_answer_token_count, message_agent_thought.answer_unit_price AS message_agent_thought_answer_unit_price, message_agent_thought.answer_price_unit AS message_agent_thought_answer_price_unit, message_agent_thought.total_token_count AS message_agent_thought_total_token_count, message_agent_thought.total_price AS message_agent_thought_total_price, message_agent_thought.latency AS message_agent_thought_latency, message_agent_thought.updated_at AS message_agent_thought_updated_at, message_agent_thought.created_at AS message_agent_thought_created_at 
FROM message_agent_thought 
WHERE message_agent_thought.message_id = %(message_id_1)s::UUID ORDER BY message_agent_thought.position ASC
[2025-05-24 19:09:27,892.892] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-24 19:09:27,892.892] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'dataset_id_1': UUID('e9af1e9e-fc18-4521-b222-79303a3a949f')}
[2025-05-24 19:09:27,893.893] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-24 19:09:27,893.893] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'message_id_1': UUID('8b02a33b-8787-447f-861b-b432bbbb56bc')}
[2025-05-24 19:09:27,893.893] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-24 19:09:27,894.894] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,894.894] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-24 19:09:27,894.894] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-24 19:09:27,894.894] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('e9af1e9e-fc18-4521-b222-79303a3a949f')}
[2025-05-24 19:09:27,896.896] base.py -> _exec_single_context line:1896 [INFO]: SELECT message_agent_thought.id AS message_agent_thought_id, message_agent_thought.app_id AS message_agent_thought_app_id, message_agent_thought.conversation_id AS message_agent_thought_conversation_id, message_agent_thought.message_id AS message_agent_thought_message_id, message_agent_thought.invoke_from AS message_agent_thought_invoke_from, message_agent_thought.created_by AS message_agent_thought_created_by, message_agent_thought.position AS message_agent_thought_position, message_agent_thought.event AS message_agent_thought_event, message_agent_thought.thought AS message_agent_thought_thought, message_agent_thought.observation AS message_agent_thought_observation, message_agent_thought.tool AS message_agent_thought_tool, message_agent_thought.tool_input AS message_agent_thought_tool_input, message_agent_thought.message AS message_agent_thought_message, message_agent_thought.message_token_count AS message_agent_thought_message_token_count, message_agent_thought.message_unit_price AS message_agent_thought_message_unit_price, message_agent_thought.message_price_unit AS message_agent_thought_message_price_unit, message_agent_thought.answer AS message_agent_thought_answer, message_agent_thought.answer_token_count AS message_agent_thought_answer_token_count, message_agent_thought.answer_unit_price AS message_agent_thought_answer_unit_price, message_agent_thought.answer_price_unit AS message_agent_thought_answer_price_unit, message_agent_thought.total_token_count AS message_agent_thought_total_token_count, message_agent_thought.total_price AS message_agent_thought_total_price, message_agent_thought.latency AS message_agent_thought_latency, message_agent_thought.updated_at AS message_agent_thought_updated_at, message_agent_thought.created_at AS message_agent_thought_created_at 
FROM message_agent_thought 
WHERE message_agent_thought.message_id = %(message_id_1)s::UUID ORDER BY message_agent_thought.position ASC
[2025-05-24 19:09:27,897.897] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-24 19:09:27,897.897] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID)
[2025-05-24 19:09:27,898.898] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'message_id_1': UUID('e027ab26-3f2c-4dfd-baaa-411aa889cfaf')}
[2025-05-24 19:09:27,898.898] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-24 19:09:27,898.898] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,899.899] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'id_1_1': '059c1cbc-5230-4056-a44a-4537779922cd'}
[2025-05-24 19:09:27,899.899] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'dataset_id_1': UUID('c44c3229-35d5-4db8-b710-0e66089b5194')}
[2025-05-24 19:09:27,900.900] base.py -> _exec_single_context line:1896 [INFO]: SELECT message_agent_thought.id AS message_agent_thought_id, message_agent_thought.app_id AS message_agent_thought_app_id, message_agent_thought.conversation_id AS message_agent_thought_conversation_id, message_agent_thought.message_id AS message_agent_thought_message_id, message_agent_thought.invoke_from AS message_agent_thought_invoke_from, message_agent_thought.created_by AS message_agent_thought_created_by, message_agent_thought.position AS message_agent_thought_position, message_agent_thought.event AS message_agent_thought_event, message_agent_thought.thought AS message_agent_thought_thought, message_agent_thought.observation AS message_agent_thought_observation, message_agent_thought.tool AS message_agent_thought_tool, message_agent_thought.tool_input AS message_agent_thought_tool_input, message_agent_thought.message AS message_agent_thought_message, message_agent_thought.message_token_count AS message_agent_thought_message_token_count, message_agent_thought.message_unit_price AS message_agent_thought_message_unit_price, message_agent_thought.message_price_unit AS message_agent_thought_message_price_unit, message_agent_thought.answer AS message_agent_thought_answer, message_agent_thought.answer_token_count AS message_agent_thought_answer_token_count, message_agent_thought.answer_unit_price AS message_agent_thought_answer_unit_price, message_agent_thought.answer_price_unit AS message_agent_thought_answer_price_unit, message_agent_thought.total_token_count AS message_agent_thought_total_token_count, message_agent_thought.total_price AS message_agent_thought_total_price, message_agent_thought.latency AS message_agent_thought_latency, message_agent_thought.updated_at AS message_agent_thought_updated_at, message_agent_thought.created_at AS message_agent_thought_created_at 
FROM message_agent_thought 
WHERE message_agent_thought.message_id = %(message_id_1)s::UUID ORDER BY message_agent_thought.position ASC
[2025-05-24 19:09:27,901.901] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 19:09:27,901.901] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 19:09:27,902.902] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,902.902] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'message_id_1': UUID('ef1e6a79-34d3-4456-87a6-c5c9e1b6ed07')}
[2025-05-24 19:09:27,903.903] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 19:09:27] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-24 19:09:27,903.903] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 19:09:27] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-24 19:09:27,903.903] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'dataset_id_1': UUID('c44c3229-35d5-4db8-b710-0e66089b5194')}
[2025-05-24 19:09:27,904.904] base.py -> _exec_single_context line:1896 [INFO]: SELECT message_agent_thought.id AS message_agent_thought_id, message_agent_thought.app_id AS message_agent_thought_app_id, message_agent_thought.conversation_id AS message_agent_thought_conversation_id, message_agent_thought.message_id AS message_agent_thought_message_id, message_agent_thought.invoke_from AS message_agent_thought_invoke_from, message_agent_thought.created_by AS message_agent_thought_created_by, message_agent_thought.position AS message_agent_thought_position, message_agent_thought.event AS message_agent_thought_event, message_agent_thought.thought AS message_agent_thought_thought, message_agent_thought.observation AS message_agent_thought_observation, message_agent_thought.tool AS message_agent_thought_tool, message_agent_thought.tool_input AS message_agent_thought_tool_input, message_agent_thought.message AS message_agent_thought_message, message_agent_thought.message_token_count AS message_agent_thought_message_token_count, message_agent_thought.message_unit_price AS message_agent_thought_message_unit_price, message_agent_thought.message_price_unit AS message_agent_thought_message_price_unit, message_agent_thought.answer AS message_agent_thought_answer, message_agent_thought.answer_token_count AS message_agent_thought_answer_token_count, message_agent_thought.answer_unit_price AS message_agent_thought_answer_unit_price, message_agent_thought.answer_price_unit AS message_agent_thought_answer_price_unit, message_agent_thought.total_token_count AS message_agent_thought_total_token_count, message_agent_thought.total_price AS message_agent_thought_total_price, message_agent_thought.latency AS message_agent_thought_latency, message_agent_thought.updated_at AS message_agent_thought_updated_at, message_agent_thought.created_at AS message_agent_thought_created_at 
FROM message_agent_thought 
WHERE message_agent_thought.message_id = %(message_id_1)s::UUID ORDER BY message_agent_thought.position ASC
[2025-05-24 19:09:27,905.905] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,905.905] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'message_id_1': UUID('cba4fb88-f280-4fba-b66f-19be667ed08d')}
[2025-05-24 19:09:27,906.906] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('c44c3229-35d5-4db8-b710-0e66089b5194')}
[2025-05-24 19:09:27,908.908] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 19:09:27,909.909] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,910.910] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 19:09:27] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/conversations/messages?current_page=1&page_size=5&created_at=0 HTTP/1.1" 200 -
[2025-05-24 19:09:27,910.910] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'dataset_id_1': UUID('c4893bc6-7efb-45e4-8307-baf962a48b05')}
[2025-05-24 19:09:27,911.911] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,912.912] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'dataset_id_1': UUID('c4893bc6-7efb-45e4-8307-baf962a48b05')}
[2025-05-24 19:09:27,913.913] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,913.913] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('c4893bc6-7efb-45e4-8307-baf962a48b05')}
[2025-05-24 19:09:27,916.916] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,916.916] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'dataset_id_1': UUID('4cc5b531-8c8a-47b1-a641-bf75d7b7ac82')}
[2025-05-24 19:09:27,917.917] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,918.918] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'dataset_id_1': UUID('4cc5b531-8c8a-47b1-a641-bf75d7b7ac82')}
[2025-05-24 19:09:27,919.919] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,919.919] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('4cc5b531-8c8a-47b1-a641-bf75d7b7ac82')}
[2025-05-24 19:09:27,920.920] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,920.920] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'dataset_id_1': UUID('1ff78486-ddd5-45f0-a024-d63ecbeaa307')}
[2025-05-24 19:09:27,921.921] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,921.921] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'dataset_id_1': UUID('1ff78486-ddd5-45f0-a024-d63ecbeaa307')}
[2025-05-24 19:09:27,923.923] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,923.923] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('1ff78486-ddd5-45f0-a024-d63ecbeaa307')}
[2025-05-24 19:09:27,925.925] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,925.925] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'dataset_id_1': UUID('639052d1-06f1-4e89-a2d8-6eef01fcb5bd')}
[2025-05-24 19:09:27,926.926] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,927.927] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'dataset_id_1': UUID('639052d1-06f1-4e89-a2d8-6eef01fcb5bd')}
[2025-05-24 19:09:27,928.928] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,929.929] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('639052d1-06f1-4e89-a2d8-6eef01fcb5bd')}
[2025-05-24 19:09:27,930.930] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,931.931] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'dataset_id_1': UUID('7b5aca75-14ea-434c-8cbb-c3508eb3dc68')}
[2025-05-24 19:09:27,932.932] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,932.932] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'dataset_id_1': UUID('7b5aca75-14ea-434c-8cbb-c3508eb3dc68')}
[2025-05-24 19:09:27,933.933] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,934.934] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('7b5aca75-14ea-434c-8cbb-c3508eb3dc68')}
[2025-05-24 19:09:27,935.935] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,935.935] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'dataset_id_1': UUID('f932375a-8700-4d3b-ae2d-958b29fcae48')}
[2025-05-24 19:09:27,936.936] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,936.936] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'dataset_id_1': UUID('f932375a-8700-4d3b-ae2d-958b29fcae48')}
[2025-05-24 19:09:27,937.937] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,938.938] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('f932375a-8700-4d3b-ae2d-958b29fcae48')}
[2025-05-24 19:09:27,939.939] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,939.939] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'dataset_id_1': UUID('c6a2f8f1-e3b3-4555-a691-0fe457b2dded')}
[2025-05-24 19:09:27,941.941] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,941.941] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'dataset_id_1': UUID('c6a2f8f1-e3b3-4555-a691-0fe457b2dded')}
[2025-05-24 19:09:27,942.942] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,942.942] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('c6a2f8f1-e3b3-4555-a691-0fe457b2dded')}
[2025-05-24 19:09:27,943.943] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,944.944] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'dataset_id_1': UUID('9af90c52-28b2-4a47-9c92-148c9f21b512')}
[2025-05-24 19:09:27,946.946] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,946.946] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'dataset_id_1': UUID('9af90c52-28b2-4a47-9c92-148c9f21b512')}
[2025-05-24 19:09:27,948.948] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,949.949] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('9af90c52-28b2-4a47-9c92-148c9f21b512')}
[2025-05-24 19:09:27,951.951] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,951.951] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'dataset_id_1': UUID('9cf6cccc-1bf7-44db-9044-1d1638e4e142')}
[2025-05-24 19:09:27,954.954] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,954.954] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'dataset_id_1': UUID('9cf6cccc-1bf7-44db-9044-1d1638e4e142')}
[2025-05-24 19:09:27,956.956] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,957.957] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('9cf6cccc-1bf7-44db-9044-1d1638e4e142')}
[2025-05-24 19:09:27,958.958] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,958.958] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'dataset_id_1': UUID('37a9f300-a2f2-47d1-97ef-67da9b65193d')}
[2025-05-24 19:09:27,960.960] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,960.960] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'dataset_id_1': UUID('37a9f300-a2f2-47d1-97ef-67da9b65193d')}
[2025-05-24 19:09:27,962.962] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,962.962] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('37a9f300-a2f2-47d1-97ef-67da9b65193d')}
[2025-05-24 19:09:27,964.964] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,964.964] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'dataset_id_1': UUID('df56c578-0b13-4ac2-9cdb-cfb431dca264')}
[2025-05-24 19:09:27,967.967] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,967.967] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'dataset_id_1': UUID('df56c578-0b13-4ac2-9cdb-cfb431dca264')}
[2025-05-24 19:09:27,968.968] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,969.969] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('df56c578-0b13-4ac2-9cdb-cfb431dca264')}
[2025-05-24 19:09:27,970.970] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,970.970] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'dataset_id_1': UUID('17166c83-14ea-4ba3-ac67-1bcb1c5672bb')}
[2025-05-24 19:09:27,971.971] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,972.972] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'dataset_id_1': UUID('17166c83-14ea-4ba3-ac67-1bcb1c5672bb')}
[2025-05-24 19:09:27,973.973] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,974.974] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('17166c83-14ea-4ba3-ac67-1bcb1c5672bb')}
[2025-05-24 19:09:27,975.975] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,975.975] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'dataset_id_1': UUID('49908250-8e6e-4284-a6c6-204599c5b53d')}
[2025-05-24 19:09:27,977.977] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,977.977] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'dataset_id_1': UUID('49908250-8e6e-4284-a6c6-204599c5b53d')}
[2025-05-24 19:09:27,979.979] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,979.979] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('49908250-8e6e-4284-a6c6-204599c5b53d')}
[2025-05-24 19:09:27,981.981] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,981.981] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'dataset_id_1': UUID('8af6e64d-1128-427e-b4bf-8ef556836bfa')}
[2025-05-24 19:09:27,982.982] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,983.983] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'dataset_id_1': UUID('8af6e64d-1128-427e-b4bf-8ef556836bfa')}
[2025-05-24 19:09:27,985.985] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,986.986] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('8af6e64d-1128-427e-b4bf-8ef556836bfa')}
[2025-05-24 19:09:27,988.988] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,988.988] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'dataset_id_1': UUID('f1b9d5e9-bbdb-4b81-92a5-ce04bd27a82b')}
[2025-05-24 19:09:27,990.990] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,990.990] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'dataset_id_1': UUID('f1b9d5e9-bbdb-4b81-92a5-ce04bd27a82b')}
[2025-05-24 19:09:27,991.991] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,992.992] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('f1b9d5e9-bbdb-4b81-92a5-ce04bd27a82b')}
[2025-05-24 19:09:27,993.993] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,993.993] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'dataset_id_1': UUID('6bca0bd4-647c-456c-8b9c-00e2b06bd4a9')}
[2025-05-24 19:09:27,994.994] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,995.995] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'dataset_id_1': UUID('6bca0bd4-647c-456c-8b9c-00e2b06bd4a9')}
[2025-05-24 19:09:27,996.996] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,996.996] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('6bca0bd4-647c-456c-8b9c-00e2b06bd4a9')}
[2025-05-24 19:09:27,998.998] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,998.998] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'dataset_id_1': UUID('29d11e42-b1ac-4986-b595-dda47b75302a')}
[2025-05-24 19:09:27,999.999] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:27,999.999] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'dataset_id_1': UUID('29d11e42-b1ac-4986-b595-dda47b75302a')}
[2025-05-24 19:09:28,001.001] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2025-05-24 19:09:28,001.001] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1863s ago] {'coalesce_2': 0, 'dataset_id_1': UUID('29d11e42-b1ac-4986-b595-dda47b75302a')}
[2025-05-24 19:09:28,002.002] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 19:09:28,003.003] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 19:09:28] "GET /datasets?current_page=1&page_size=20&search_word= HTTP/1.1" 200 -
[2025-05-24 19:09:28,241.241] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 19:09:28] "GET /builtin-tools/google/icon HTTP/1.1" 200 -
[2025-05-24 19:09:28,243.243] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 19:09:28] "GET /builtin-tools/gaode/icon HTTP/1.1" 200 -
[2025-05-24 19:09:30,862.862] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 19:09:30] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/conversations/delete-debug-conversation HTTP/1.1" 200 -
[2025-05-24 19:09:31,172.172] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 19:09:31,172.172] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 19:09:31,173.173] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1895s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 19:09:31,174.174] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-24 19:09:31,174.174] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1866s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-24 19:09:31,175.175] base.py -> _exec_single_context line:1896 [INFO]: UPDATE app SET debug_conversation_id=%(debug_conversation_id)s::UUID WHERE app.id = %(app_id)s::UUID
[2025-05-24 19:09:31,175.175] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1854s ago] {'debug_conversation_id': None, 'app_id': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-24 19:09:31,175.175] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 19:09:31,185.185] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 19:09:31] "POST /apps/83040ed9-0795-43db-99da-b6eb2321a71b/conversations/delete-debug-conversation HTTP/1.1" 200 -
[2025-05-24 19:09:31,438.438] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 19:09:31,438.438] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 19:09:31,439.439] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1895s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 19:09:31,440.440] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-24 19:09:31,440.440] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1866s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-24 19:09:31,443.443] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO conversation (app_id, name, invoke_from, created_by) VALUES (%(app_id)s::UUID, %(name)s, %(invoke_from)s, %(created_by)s::UUID) RETURNING conversation.id, conversation.summary, conversation.is_pinned, conversation.is_deleted, conversation.updated_at, conversation.created_at
[2025-05-24 19:09:31,443.443] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1854s ago] {'app_id': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'name': 'New Conversation', 'invoke_from': <InvokeFrom.DEBUGGER: 'debugger'>, 'created_by': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f')}
[2025-05-24 19:09:31,445.445] base.py -> _exec_single_context line:1896 [INFO]: UPDATE app SET debug_conversation_id=%(debug_conversation_id)s::UUID WHERE app.id = %(app_id)s::UUID
[2025-05-24 19:09:31,445.445] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1854s ago] {'debug_conversation_id': UUID('66a5ac38-aa1e-469e-b80b-2494d64bb2df'), 'app_id': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-24 19:09:31,446.446] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 19:09:31,446.446] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 19:09:31,447.447] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(pk_1)s::UUID
[2025-05-24 19:09:31,447.447] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1854s ago] {'pk_1': UUID('66a5ac38-aa1e-469e-b80b-2494d64bb2df')}
[2025-05-24 19:09:31,448.448] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.conversation_id = %(conversation_id_1)s::UUID AND message.status IN (%(status_1_1)s, %(status_1_2)s) AND message.answer != %(answer_1)s ORDER BY message.created_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2025-05-24 19:09:31,448.448] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1866s ago] {'conversation_id_1': UUID('66a5ac38-aa1e-469e-b80b-2494d64bb2df'), 'answer_1': '', 'param_1': 5, 'param_2': 0, 'status_1_1': <MessageStatus.STOP: 'stop'>, 'status_1_2': <MessageStatus.NORMAL: 'normal'>}
[2025-05-24 19:09:31,449.449] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT message.id AS id, message.app_id AS app_id, message.conversation_id AS conversation_id, message.invoke_from AS invoke_from, message.created_by AS created_by, message.query AS query, message.message AS message, message.message_token_count AS message_token_count, message.message_unit_price AS message_unit_price, message.message_price_unit AS message_price_unit, message.answer AS answer, message.answer_token_count AS answer_token_count, message.answer_unit_price AS answer_unit_price, message.answer_price_unit AS answer_price_unit, message.latency AS latency, message.is_deleted AS is_deleted, message.status AS status, message.error AS error, message.total_token_count AS total_token_count, message.total_price AS total_price, message.updated_at AS updated_at, message.created_at AS created_at 
FROM message 
WHERE message.conversation_id = %(conversation_id_1)s::UUID AND message.status IN (%(status_1_1)s, %(status_1_2)s) AND message.answer != %(answer_1)s) AS anon_1
[2025-05-24 19:09:31,450.450] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1866s ago] {'conversation_id_1': UUID('66a5ac38-aa1e-469e-b80b-2494d64bb2df'), 'answer_1': '', 'status_1_1': <MessageStatus.STOP: 'stop'>, 'status_1_2': <MessageStatus.NORMAL: 'normal'>}
[2025-05-24 19:09:31,451.451] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 19:09:31,451.451] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 19:09:31] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/conversations/messages?current_page=1&page_size=5&created_at=0 HTTP/1.1" 200 -
[2025-05-24 19:09:36,224.224] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 19:09:36] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/conversations HTTP/1.1" 200 -
[2025-05-24 19:09:36,226.226] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 19:09:36,227.227] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 19:09:36,227.227] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1900s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 19:09:36,230.230] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-24 19:09:36,230.230] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1871s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-24 19:09:36,231.231] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-24 19:09:36,231.231] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1871s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-24 19:09:36,232.232] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID)
[2025-05-24 19:09:36,232.232] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1871s ago] {'id_1_1': '059c1cbc-5230-4056-a44a-4537779922cd'}
[2025-05-24 19:09:36,233.233] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(id_1)s::UUID AND conversation.invoke_from = %(invoke_from_1)s
[2025-05-24 19:09:36,233.233] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1871s ago] {'id_1': UUID('66a5ac38-aa1e-469e-b80b-2494d64bb2df'), 'invoke_from_1': <InvokeFrom.DEBUGGER: 'debugger'>}
[2025-05-24 19:09:36,234.234] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO message (app_id, conversation_id, created_by, query, status) VALUES (%(app_id)s::UUID, %(conversation_id)s::UUID, %(created_by)s::UUID, %(query)s, %(status)s) RETURNING message.id, message.invoke_from, message.message, message.message_token_count, message.message_unit_price, message.message_price_unit, message.answer, message.answer_token_count, message.answer_unit_price, message.answer_price_unit, message.latency, message.is_deleted, message.error, message.total_token_count, message.total_price, message.updated_at, message.created_at
[2025-05-24 19:09:36,234.234] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1849s ago] {'app_id': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'conversation_id': UUID('66a5ac38-aa1e-469e-b80b-2494d64bb2df'), 'created_by': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'query': '激活函数', 'status': <MessageStatus.NORMAL: 'normal'>}
[2025-05-24 19:09:36,236.236] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 19:09:36,286.286] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 19:09:36,286.286] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(pk_1)s::UUID
[2025-05-24 19:09:36,286.286] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1859s ago] {'pk_1': UUID('66a5ac38-aa1e-469e-b80b-2494d64bb2df')}
[2025-05-24 19:09:36,288.288] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.conversation_id = %(conversation_id_1)s::UUID AND message.answer != %(answer_1)s AND message.is_deleted = false AND message.status IN (%(status_1_1)s, %(status_1_2)s) ORDER BY message.created_at DESC 
 LIMIT %(param_1)s
[2025-05-24 19:09:36,288.288] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1849s ago] {'conversation_id_1': UUID('66a5ac38-aa1e-469e-b80b-2494d64bb2df'), 'answer_1': '', 'param_1': 10, 'status_1_1': <MessageStatus.STOP: 'stop'>, 'status_1_2': <MessageStatus.NORMAL: 'normal'>}
[2025-05-24 19:09:36,289.289] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 19:09:36,289.289] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1849s ago] {'pk_1': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f')}
[2025-05-24 19:09:37,307.307] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.id = %(pk_1)s::UUID
[2025-05-24 19:09:37,308.308] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1352s ago] {'pk_1': UUID('735f6a9d-43ce-4d50-84d6-2731508b6548')}
[2025-05-24 19:09:37,309.309] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 19:09:37] "POST /apps/83040ed9-0795-43db-99da-b6eb2321a71b/conversations HTTP/1.1" 200 -
[2025-05-24 19:09:47,046.046] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 19:09:47,046.046] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 19:09:47,047.047] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(pk_1)s::UUID
[2025-05-24 19:09:47,048.048] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1358s ago] {'pk_1': UUID('66a5ac38-aa1e-469e-b80b-2494d64bb2df')}
[2025-05-24 19:09:47,050.050] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.id = %(pk_1)s::UUID
[2025-05-24 19:09:47,050.050] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1358s ago] {'pk_1': UUID('735f6a9d-43ce-4d50-84d6-2731508b6548')}
[2025-05-24 19:09:47,053.053] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 19:09:47] "OPTIONS /ai/suggested-questions HTTP/1.1" 200 -
[2025-05-24 19:09:47,052.052] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO message_agent_thought (app_id, conversation_id, message_id, invoke_from, created_by, position, event, thought, observation, tool, tool_input, message, answer, latency) VALUES (%(app_id)s::UUID, %(conversation_id)s::UUID, %(message_id)s::UUID, %(invoke_from)s, %(created_by)s::UUID, %(position)s, %(event)s, %(thought)s, %(observation)s, %(tool)s, %(tool_input)s::JSONB, %(message)s::JSONB, %(answer)s, %(latency)s) RETURNING message_agent_thought.id, message_agent_thought.message_token_count, message_agent_thought.message_unit_price, message_agent_thought.message_price_unit, message_agent_thought.answer_token_count, message_agent_thought.answer_unit_price, message_agent_thought.answer_price_unit, message_agent_thought.total_token_count, message_agent_thought.total_price, message_agent_thought.updated_at, message_agent_thought.created_at
[2025-05-24 19:09:47,053.053] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1358s ago] {'app_id': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'conversation_id': UUID('66a5ac38-aa1e-469e-b80b-2494d64bb2df'), 'message_id': UUID('735f6a9d-43ce-4d50-84d6-2731508b6548'), 'invoke_from': <InvokeFrom.DEBUGGER: 'debugger'>, 'created_by': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'position': 1, 'event': <QueueEvent.LONG_TERM_MEMORY_RECALL: 'long_term_memory_recall'>, 'thought': '', 'observation': '', 'tool': '', 'tool_input': '{}', 'message': '{}', 'answer': '', 'latency': 0}
[2025-05-24 19:09:47,054.054] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 19:09:47,056.056] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 19:09:47,056.056] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(pk_1)s::UUID
[2025-05-24 19:09:47,056.056] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1870s ago] {'pk_1': UUID('66a5ac38-aa1e-469e-b80b-2494d64bb2df')}
[2025-05-24 19:09:47,058.058] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.id = %(pk_1)s::UUID
[2025-05-24 19:09:47,058.058] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1362s ago] {'pk_1': UUID('735f6a9d-43ce-4d50-84d6-2731508b6548')}
[2025-05-24 19:09:47,059.059] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO message_agent_thought (app_id, conversation_id, message_id, invoke_from, created_by, position, event, thought, observation, tool, tool_input, message, answer, latency) VALUES (%(app_id)s::UUID, %(conversation_id)s::UUID, %(message_id)s::UUID, %(invoke_from)s, %(created_by)s::UUID, %(position)s, %(event)s, %(thought)s, %(observation)s, %(tool)s, %(tool_input)s::JSONB, %(message)s::JSONB, %(answer)s, %(latency)s) RETURNING message_agent_thought.id, message_agent_thought.message_token_count, message_agent_thought.message_unit_price, message_agent_thought.message_price_unit, message_agent_thought.answer_token_count, message_agent_thought.answer_unit_price, message_agent_thought.answer_price_unit, message_agent_thought.total_token_count, message_agent_thought.total_price, message_agent_thought.updated_at, message_agent_thought.created_at
[2025-05-24 19:09:47,059.059] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1358s ago] {'app_id': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'conversation_id': UUID('66a5ac38-aa1e-469e-b80b-2494d64bb2df'), 'message_id': UUID('735f6a9d-43ce-4d50-84d6-2731508b6548'), 'invoke_from': <InvokeFrom.DEBUGGER: 'debugger'>, 'created_by': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'position': 2, 'event': <QueueEvent.AGENT_MESSAGE: 'agent_message'>, 'thought': '激活函数是神经网络中用于引入非线性的数学函数。它的作用是决定一个神经元的输出，从而影响整个网络的学习和性能。常见的激活函数有：\n\n1. **Sigmoid 函数**：\n   - 公式：\\( f(x) = \\frac{1}{1 + e^{-x}} \\)\n   - 输出范围在 (0, 1 ... (380 characters truncated) ... *Softmax 函数**：\n   - 公式：\\( f(x_i) = \\frac{e^{x_i}}{\\sum_{j} e^{x_j}} \\)\n   - 常用于多分类问题的输出层，将输出转换为概率分布。\n\n这些激活函数各有优缺点，选择合适的激活函数对网络的性能和训练速度有着重要影响。', 'observation': '', 'tool': '', 'tool_input': '{}', 'message': '[{"type": "system", "data": {"content": "\\u4f60\\u662f\\u4e00\\u4e2a\\u9ad8\\u5ea6\\u5b9a\\u5236\\u7684\\u667a\\u80fd\\u4f53\\u5e94\\u7528\\uff0c\\u ... (2874 characters truncated) ... ", "additional_kwargs": {}, "response_metadata": {}, "type": "human", "name": null, "id": "04d10579-8feb-4148-a9e6-3d4db44aa919", "example": false}}]', 'answer': '激活函数是神经网络中用于引入非线性的数学函数。它的作用是决定一个神经元的输出，从而影响整个网络的学习和性能。常见的激活函数有：\n\n1. **Sigmoid 函数**：\n   - 公式：\\( f(x) = \\frac{1}{1 + e^{-x}} \\)\n   - 输出范围在 (0, 1 ... (380 characters truncated) ... *Softmax 函数**：\n   - 公式：\\( f(x_i) = \\frac{e^{x_i}}{\\sum_{j} e^{x_j}} \\)\n   - 常用于多分类问题的输出层，将输出转换为概率分布。\n\n这些激活函数各有优缺点，选择合适的激活函数对网络的性能和训练速度有着重要影响。', 'latency': 10.727708499999835}
[2025-05-24 19:09:47,061.061] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 19:09:47,061.061] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 19:09:47,062.062] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.id = %(pk_1)s::UUID
[2025-05-24 19:09:47,062.062] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1362s ago] {'pk_1': UUID('735f6a9d-43ce-4d50-84d6-2731508b6548')}
[2025-05-24 19:09:47,063.063] base.py -> _exec_single_context line:1896 [INFO]: UPDATE message SET message=%(message)s::JSONB, answer=%(answer)s, latency=%(latency)s WHERE message.id = %(message_id)s::UUID
[2025-05-24 19:09:47,063.063] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1358s ago] {'message': '[{"type": "system", "data": {"content": "\\u4f60\\u662f\\u4e00\\u4e2a\\u9ad8\\u5ea6\\u5b9a\\u5236\\u7684\\u667a\\u80fd\\u4f53\\u5e94\\u7528\\uff0c\\u ... (2874 characters truncated) ... ", "additional_kwargs": {}, "response_metadata": {}, "type": "human", "name": null, "id": "04d10579-8feb-4148-a9e6-3d4db44aa919", "example": false}}]', 'answer': '激活函数是神经网络中用于引入非线性的数学函数。它的作用是决定一个神经元的输出，从而影响整个网络的学习和性能。常见的激活函数有：\n\n1. **Sigmoid 函数**：\n   - 公式：\\( f(x) = \\frac{1}{1 + e^{-x}} \\)\n   - 输出范围在 (0, 1 ... (380 characters truncated) ... *Softmax 函数**：\n   - 公式：\\( f(x_i) = \\frac{e^{x_i}}{\\sum_{j} e^{x_j}} \\)\n   - 常用于多分类问题的输出层，将输出转换为概率分布。\n\n这些激活函数各有优缺点，选择合适的激活函数对网络的性能和训练速度有着重要影响。', 'latency': 10.727708499999835, 'message_id': UUID('735f6a9d-43ce-4d50-84d6-2731508b6548')}
[2025-05-24 19:09:47,064.064] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 19:09:47,064.064] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 19:09:47,065.065] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.id = %(pk_1)s::UUID
[2025-05-24 19:09:47,065.065] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1362s ago] {'pk_1': UUID('735f6a9d-43ce-4d50-84d6-2731508b6548')}
[2025-05-24 19:09:47,068.068] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(pk_1)s::UUID
[2025-05-24 19:09:47,069.069] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1870s ago] {'pk_1': UUID('66a5ac38-aa1e-469e-b80b-2494d64bb2df')}
[2025-05-24 19:09:47,360.360] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 19:09:47,360.360] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 19:09:47,360.360] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1911s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 19:09:47,362.362] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.id = %(pk_1)s::UUID
[2025-05-24 19:09:47,362.362] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1359s ago] {'pk_1': '735f6a9d-43ce-4d50-84d6-2731508b6548'}
[2025-05-24 19:09:50,173.173] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 19:09:50,174.174] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 19:09:50] "POST /ai/suggested-questions HTTP/1.1" 200 -
[2025-05-24 19:09:52,354.354] base.py -> _exec_single_context line:1896 [INFO]: UPDATE conversation SET summary=%(summary)s WHERE conversation.id = %(conversation_id)s::UUID
[2025-05-24 19:09:52,354.354] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1359s ago] {'summary': '人类询问关于激活函数的信息。AI解释了激活函数是神经网络中引入非线性的数学函数，并详细介绍了五种常见激活函数：\n1. Sigmoid函数（适合二分类问题）\n2. Tanh函数（零中心化输出）\n3. ReLU（缓解梯度消失但可能产生死亡神经元）\n4. Leaky ReLU（解决死亡神经元问题）\n5. Softmax函数（用于多分类输出层）\nAI强调选择合适的激活函数对网络性能和训练速度至关重要。', 'conversation_id': UUID('66a5ac38-aa1e-469e-b80b-2494d64bb2df')}
[2025-05-24 19:09:52,355.355] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 19:09:52,356.356] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 19:09:52,356.356] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(pk_1)s::UUID
[2025-05-24 19:09:52,356.356] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1875s ago] {'pk_1': UUID('66a5ac38-aa1e-469e-b80b-2494d64bb2df')}
[2025-05-24 19:09:52,357.357] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(message.id) AS count_1 
FROM message 
WHERE message.conversation_id = %(conversation_id_1)s::UUID
[2025-05-24 19:09:52,357.357] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1359s ago] {'conversation_id_1': UUID('66a5ac38-aa1e-469e-b80b-2494d64bb2df')}
[2025-05-24 19:09:52,358.358] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.id = %(pk_1)s::UUID
[2025-05-24 19:09:52,358.358] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1367s ago] {'pk_1': UUID('735f6a9d-43ce-4d50-84d6-2731508b6548')}
[2025-05-24 19:09:56,066.066] base.py -> _exec_single_context line:1896 [INFO]: UPDATE conversation SET name=%(name)s WHERE conversation.id = %(conversation_id)s::UUID
[2025-05-24 19:09:56,066.066] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00048s] {'name': '激活函数', 'conversation_id': UUID('66a5ac38-aa1e-469e-b80b-2494d64bb2df')}
[2025-05-24 19:09:56,067.067] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 22:55:23,590.590] _internal.py -> _log line:97 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2025-05-24 22:55:23,592.592] _internal.py -> _log line:97 [INFO]: [33mPress CTRL+C to quit[0m
[2025-05-24 22:55:23,597.597] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-05-24 22:56:11,063.063] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-05-24 22:56:11,081.081] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 674-688-502
[2025-05-24 22:57:08,364.364] base.py -> _exec_single_context line:1896 [INFO]: select pg_catalog.version()
[2025-05-24 22:57:08,365.365] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-05-24 22:57:08,370.370] base.py -> _exec_single_context line:1896 [INFO]: select current_schema()
[2025-05-24 22:57:08,370.370] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-05-24 22:57:08,372.372] base.py -> _exec_single_context line:1896 [INFO]: show standard_conforming_strings
[2025-05-24 22:57:08,372.372] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-05-24 22:57:08,373.373] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 22:57:08,378.378] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 22:57:08,379.379] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00076s] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 22:57:08,395.395] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO api_key (account_id, api_key, is_active, remark) VALUES (%(account_id)s::UUID, %(api_key)s, %(is_active)s, %(remark)s) RETURNING api_key.id, api_key.updated_at, api_key.created_at
[2025-05-24 22:57:08,396.396] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00042s] {'account_id': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'api_key': 'llmops-v1/B8xXE87kWPuNdJn-H2y8ef2gw2fSwjSnfE77Z-l--O39zpRZNYBT8j2lE-FLPrnd', 'is_active': True, 'remark': '密码'}
[2025-05-24 22:57:08,410.410] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 22:57:08,415.415] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 22:57:08] "POST /openapi/api-keys HTTP/1.1" 200 -
[2025-05-24 22:57:13,048.048] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 22:57:13,048.048] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 22:57:13,048.048] base.py -> _exec_single_context line:1901 [INFO]: [cached since 4.67s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 22:57:13,059.059] base.py -> _exec_single_context line:1896 [INFO]: SELECT api_key.id AS api_key_id, api_key.account_id AS api_key_account_id, api_key.api_key AS api_key_api_key, api_key.is_active AS api_key_is_active, api_key.remark AS api_key_remark, api_key.updated_at AS api_key_updated_at, api_key.created_at AS api_key_created_at 
FROM api_key 
WHERE api_key.account_id = %(account_id_1)s::UUID ORDER BY api_key.created_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2025-05-24 22:57:13,059.059] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00059s] {'account_id_1': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'param_1': 20, 'param_2': 0}
[2025-05-24 22:57:13,071.071] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT api_key.id AS id, api_key.account_id AS account_id, api_key.api_key AS api_key, api_key.is_active AS is_active, api_key.remark AS remark, api_key.updated_at AS updated_at, api_key.created_at AS created_at 
FROM api_key 
WHERE api_key.account_id = %(account_id_1)s::UUID) AS anon_1
[2025-05-24 22:57:13,071.071] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00058s] {'account_id_1': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f')}
[2025-05-24 22:57:13,076.076] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 22:57:13,078.078] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 22:57:13] "GET /openapi/api-keys HTTP/1.1" 200 -
[2025-05-24 22:58:17,463.463] _internal.py -> _log line:97 [INFO]:  * Detected change in 'C:\\Users\\Lenovo\\Desktop\\llmops-api\\internal\\service\\api_key_service.py', reloading
[2025-05-24 22:58:19,831.831] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-05-24 22:59:09,032.032] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-05-24 22:59:09,042.042] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 674-688-502
[2025-05-24 22:59:10,647.647] base.py -> _exec_single_context line:1896 [INFO]: select pg_catalog.version()
[2025-05-24 22:59:10,649.649] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-05-24 22:59:10,655.655] base.py -> _exec_single_context line:1896 [INFO]: select current_schema()
[2025-05-24 22:59:10,656.656] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-05-24 22:59:10,658.658] base.py -> _exec_single_context line:1896 [INFO]: show standard_conforming_strings
[2025-05-24 22:59:10,658.658] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-05-24 22:59:10,661.661] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 22:59:10,673.673] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 22:59:10,673.673] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00094s] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 22:59:10,694.694] base.py -> _exec_single_context line:1896 [INFO]: SELECT api_key.id AS api_key_id, api_key.account_id AS api_key_account_id, api_key.api_key AS api_key_api_key, api_key.is_active AS api_key_is_active, api_key.remark AS api_key_remark, api_key.updated_at AS api_key_updated_at, api_key.created_at AS api_key_created_at 
FROM api_key 
WHERE api_key.id = %(pk_1)s::UUID
[2025-05-24 22:59:10,694.694] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00063s] {'pk_1': UUID('bf37b029-de4d-4217-847c-f966e5dc7243')}
[2025-05-24 22:59:10,701.701] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 22:59:10,707.707] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 22:59:10] "POST /openapi/api-keys/bf37b029-de4d-4217-847c-f966e5dc7243 HTTP/1.1" 200 -
[2025-05-24 22:59:19,351.351] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 22:59:19,352.352] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 22:59:19,352.352] base.py -> _exec_single_context line:1901 [INFO]: [cached since 8.681s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 22:59:19,355.355] base.py -> _exec_single_context line:1896 [INFO]: SELECT api_key.id AS api_key_id, api_key.account_id AS api_key_account_id, api_key.api_key AS api_key_api_key, api_key.is_active AS api_key_is_active, api_key.remark AS api_key_remark, api_key.updated_at AS api_key_updated_at, api_key.created_at AS api_key_created_at 
FROM api_key 
WHERE api_key.id = %(pk_1)s::UUID
[2025-05-24 22:59:19,355.355] base.py -> _exec_single_context line:1901 [INFO]: [cached since 8.661s ago] {'pk_1': UUID('bf37b029-de4d-4217-847c-f966e5dc7243')}
[2025-05-24 22:59:19,365.365] base.py -> _exec_single_context line:1896 [INFO]: UPDATE api_key SET is_active=%(is_active)s WHERE api_key.id = %(api_key_id)s::UUID
[2025-05-24 22:59:19,366.366] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00064s] {'is_active': False, 'api_key_id': UUID('bf37b029-de4d-4217-847c-f966e5dc7243')}
[2025-05-24 22:59:19,372.372] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 22:59:19,374.374] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 22:59:19] "POST /openapi/api-keys/bf37b029-de4d-4217-847c-f966e5dc7243 HTTP/1.1" 200 -
[2025-05-24 22:59:21,074.074] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 22:59:21,075.075] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 22:59:21,078.078] base.py -> _exec_single_context line:1901 [INFO]: [cached since 10.41s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 22:59:21,088.088] base.py -> _exec_single_context line:1896 [INFO]: SELECT api_key.id AS api_key_id, api_key.account_id AS api_key_account_id, api_key.api_key AS api_key_api_key, api_key.is_active AS api_key_is_active, api_key.remark AS api_key_remark, api_key.updated_at AS api_key_updated_at, api_key.created_at AS api_key_created_at 
FROM api_key 
WHERE api_key.account_id = %(account_id_1)s::UUID ORDER BY api_key.created_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2025-05-24 22:59:21,088.088] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00055s] {'account_id_1': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'param_1': 20, 'param_2': 0}
[2025-05-24 22:59:21,104.104] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT api_key.id AS id, api_key.account_id AS account_id, api_key.api_key AS api_key, api_key.is_active AS is_active, api_key.remark AS remark, api_key.updated_at AS updated_at, api_key.created_at AS created_at 
FROM api_key 
WHERE api_key.account_id = %(account_id_1)s::UUID) AS anon_1
[2025-05-24 22:59:21,104.104] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00056s] {'account_id_1': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f')}
[2025-05-24 22:59:21,112.112] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 22:59:21,113.113] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 22:59:21] "GET /openapi/api-keys HTTP/1.1" 200 -
[2025-05-24 23:00:37,910.910] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 23:00:37,910.910] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 23:00:37,911.911] base.py -> _exec_single_context line:1901 [INFO]: [cached since 87.24s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 23:00:37,913.913] base.py -> _exec_single_context line:1896 [INFO]: SELECT api_key.id AS api_key_id, api_key.account_id AS api_key_account_id, api_key.api_key AS api_key_api_key, api_key.is_active AS api_key_is_active, api_key.remark AS api_key_remark, api_key.updated_at AS api_key_updated_at, api_key.created_at AS api_key_created_at 
FROM api_key 
WHERE api_key.id = %(pk_1)s::UUID
[2025-05-24 23:00:37,913.913] base.py -> _exec_single_context line:1901 [INFO]: [cached since 87.22s ago] {'pk_1': UUID('bf37b029-de4d-4217-847c-f966e5dc7243')}
[2025-05-24 23:00:37,914.914] base.py -> _exec_single_context line:1896 [INFO]: UPDATE api_key SET is_active=%(is_active)s WHERE api_key.id = %(api_key_id)s::UUID
[2025-05-24 23:00:37,914.914] base.py -> _exec_single_context line:1901 [INFO]: [cached since 78.55s ago] {'is_active': True, 'api_key_id': UUID('bf37b029-de4d-4217-847c-f966e5dc7243')}
[2025-05-24 23:00:37,915.915] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 23:00:37,916.916] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 23:00:37] "POST /openapi/api-keys/bf37b029-de4d-4217-847c-f966e5dc7243/is-active HTTP/1.1" 200 -
[2025-05-24 23:00:40,987.987] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 23:00:40,988.988] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 23:00:40,989.989] base.py -> _exec_single_context line:1901 [INFO]: [cached since 90.32s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 23:00:40,991.991] base.py -> _exec_single_context line:1896 [INFO]: SELECT api_key.id AS api_key_id, api_key.account_id AS api_key_account_id, api_key.api_key AS api_key_api_key, api_key.is_active AS api_key_is_active, api_key.remark AS api_key_remark, api_key.updated_at AS api_key_updated_at, api_key.created_at AS api_key_created_at 
FROM api_key 
WHERE api_key.account_id = %(account_id_1)s::UUID ORDER BY api_key.created_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2025-05-24 23:00:40,991.991] base.py -> _exec_single_context line:1901 [INFO]: [cached since 79.9s ago] {'account_id_1': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'param_1': 20, 'param_2': 0}
[2025-05-24 23:00:40,993.993] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT api_key.id AS id, api_key.account_id AS account_id, api_key.api_key AS api_key, api_key.is_active AS is_active, api_key.remark AS remark, api_key.updated_at AS updated_at, api_key.created_at AS created_at 
FROM api_key 
WHERE api_key.account_id = %(account_id_1)s::UUID) AS anon_1
[2025-05-24 23:00:40,994.994] base.py -> _exec_single_context line:1901 [INFO]: [cached since 79.89s ago] {'account_id_1': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f')}
[2025-05-24 23:00:40,995.995] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 23:00:40,995.995] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 23:00:40] "GET /openapi/api-keys HTTP/1.1" 200 -
[2025-05-24 23:01:26,485.485] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 23:01:26,485.485] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 23:01:26,487.487] base.py -> _exec_single_context line:1901 [INFO]: [cached since 135.8s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 23:01:26,488.488] base.py -> _exec_single_context line:1896 [INFO]: SELECT api_key.id AS api_key_id, api_key.account_id AS api_key_account_id, api_key.api_key AS api_key_api_key, api_key.is_active AS api_key_is_active, api_key.remark AS api_key_remark, api_key.updated_at AS api_key_updated_at, api_key.created_at AS api_key_created_at 
FROM api_key 
WHERE api_key.id = %(pk_1)s::UUID
[2025-05-24 23:01:26,489.489] base.py -> _exec_single_context line:1901 [INFO]: [cached since 135.8s ago] {'pk_1': UUID('bf37b029-de4d-4217-847c-f966e5dc7243')}
[2025-05-24 23:01:26,491.491] base.py -> _exec_single_context line:1896 [INFO]: DELETE FROM api_key WHERE api_key.id = %(id)s::UUID
[2025-05-24 23:01:26,491.491] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00030s] {'id': UUID('bf37b029-de4d-4217-847c-f966e5dc7243')}
[2025-05-24 23:01:26,492.492] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-24 23:01:26,493.493] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 23:01:26] "POST /openapi/api-keys/bf37b029-de4d-4217-847c-f966e5dc7243/delete HTTP/1.1" 200 -
[2025-05-24 23:01:29,328.328] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-24 23:01:29,329.329] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-24 23:01:29,329.329] base.py -> _exec_single_context line:1901 [INFO]: [cached since 138.7s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-24 23:01:29,332.332] base.py -> _exec_single_context line:1896 [INFO]: SELECT api_key.id AS api_key_id, api_key.account_id AS api_key_account_id, api_key.api_key AS api_key_api_key, api_key.is_active AS api_key_is_active, api_key.remark AS api_key_remark, api_key.updated_at AS api_key_updated_at, api_key.created_at AS api_key_created_at 
FROM api_key 
WHERE api_key.account_id = %(account_id_1)s::UUID ORDER BY api_key.created_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2025-05-24 23:01:29,332.332] base.py -> _exec_single_context line:1901 [INFO]: [cached since 128.2s ago] {'account_id_1': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'param_1': 20, 'param_2': 0}
[2025-05-24 23:01:29,333.333] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT api_key.id AS id, api_key.account_id AS account_id, api_key.api_key AS api_key, api_key.is_active AS is_active, api_key.remark AS remark, api_key.updated_at AS updated_at, api_key.created_at AS created_at 
FROM api_key 
WHERE api_key.account_id = %(account_id_1)s::UUID) AS anon_1
[2025-05-24 23:01:29,334.334] base.py -> _exec_single_context line:1901 [INFO]: [cached since 128.2s ago] {'account_id_1': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f')}
[2025-05-24 23:01:29,335.335] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-24 23:01:29,335.335] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [24/May/2025 23:01:29] "GET /openapi/api-keys HTTP/1.1" 200 -
