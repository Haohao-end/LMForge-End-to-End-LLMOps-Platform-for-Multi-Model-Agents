[2025-05-21 09:56:04,375.375] _internal.py -> _log line:97 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2025-05-21 09:56:04,376.376] _internal.py -> _log line:97 [INFO]: [33mPress CTRL+C to quit[0m
[2025-05-21 09:56:04,382.382] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-05-21 09:56:30,949.949] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-05-21 09:56:30,961.961] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 674-688-502
[2025-05-21 09:57:02,597.597] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 09:57:02] "OPTIONS /account HTTP/1.1" 200 -
[2025-05-21 09:57:03,235.235] base.py -> _exec_single_context line:1896 [INFO]: select pg_catalog.version()
[2025-05-21 09:57:03,236.236] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-05-21 09:57:03,240.240] base.py -> _exec_single_context line:1896 [INFO]: select current_schema()
[2025-05-21 09:57:03,241.241] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-05-21 09:57:03,242.242] base.py -> _exec_single_context line:1896 [INFO]: show standard_conforming_strings
[2025-05-21 09:57:03,243.243] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-05-21 09:57:03,244.244] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 09:57:03,250.250] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 09:57:03,250.250] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00062s] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 09:57:03,262.262] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 09:57:03,264.264] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 09:57:03] "GET /account HTTP/1.1" 200 -
[2025-05-21 09:57:13,585.585] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 09:57:13] "OPTIONS /apps/f405d844-3d81-4e52-aba3-828c1f9e8c58 HTTP/1.1" 200 -
[2025-05-21 09:57:13,907.907] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 09:57:13,908.908] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 09:57:13,909.909] base.py -> _exec_single_context line:1901 [INFO]: [cached since 10.66s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 09:57:13,921.921] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 09:57:13,921.921] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00049s] {'pk_1': UUID('f405d844-3d81-4e52-aba3-828c1f9e8c58')}
[2025-05-21 09:57:13,925.925] http.py -> _register_error_handler line:63 [ERROR]: An error occurred: 
Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\llmops-api\venv\lib\site-packages\flask\app.py", line 870, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\Lenovo\Desktop\llmops-api\venv\lib\site-packages\flask\app.py", line 855, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "C:\Users\Lenovo\Desktop\llmops-api\venv\lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
  File "C:\Users\Lenovo\Desktop\llmops-api\internal\handler\app_handler.py", line 48, in get_app
    app = self.app_service.get_app(app_id, current_user)
  File "C:\Users\Lenovo\Desktop\llmops-api\internal\service\app_service.py", line 101, in get_app
    raise NotFoundException("该应用不存在，请核实后重试")
internal.exception.exception.NotFoundException
[2025-05-21 09:57:13,933.933] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 09:57:13,933.933] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 09:57:13] "GET /apps/f405d844-3d81-4e52-aba3-828c1f9e8c58 HTTP/1.1" 200 -
[2025-05-21 09:57:46,078.078] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 09:57:46] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 09:57:46,082.082] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 09:57:46,084.084] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 09:57:46,085.085] base.py -> _exec_single_context line:1901 [INFO]: [cached since 42.84s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 09:57:46,088.088] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 09:57:46,088.088] base.py -> _exec_single_context line:1901 [INFO]: [cached since 32.17s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 09:57:46,097.097] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 09:57:46,098.098] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00059s] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 09:57:46,108.108] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 09:57:46,109.109] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 09:57:46] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 09:58:03,725.725] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 09:58:03] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/publish-histories?current_page=1&page_size=20 HTTP/1.1" 200 -
[2025-05-21 09:58:04,036.036] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 09:58:04,036.036] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 09:58:04,036.036] base.py -> _exec_single_context line:1901 [INFO]: [cached since 60.79s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 09:58:04,040.040] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 09:58:04,040.040] base.py -> _exec_single_context line:1901 [INFO]: [cached since 50.12s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 09:58:04,045.045] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s ORDER BY app_config_version.version DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2025-05-21 09:58:04,045.045] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00027s] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppStatus.PUBLISHED: 'published'>, 'param_1': 20, 'param_2': 0}
[2025-05-21 09:58:04,055.055] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT app_config_version.id AS id, app_config_version.app_id AS app_id, app_config_version.model_config AS model_config, app_config_version.dialog_round AS dialog_round, app_config_version.preset_prompt AS preset_prompt, app_config_version.tools AS tools, app_config_version.workflows AS workflows, app_config_version.datasets AS datasets, app_config_version.retrieval_config AS retrieval_config, app_config_version.long_term_memory AS long_term_memory, app_config_version.opening_statement AS opening_statement, app_config_version.opening_questions AS opening_questions, app_config_version.speech_to_text AS speech_to_text, app_config_version.text_to_speech AS text_to_speech, app_config_version.suggested_after_answer AS suggested_after_answer, app_config_version.review_config AS review_config, app_config_version.version AS version, app_config_version.config_type AS config_type, app_config_version.updated_at AS updated_at, app_config_version.created_at AS created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s) AS anon_1
[2025-05-21 09:58:04,056.056] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00076s] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppStatus.PUBLISHED: 'published'>}
[2025-05-21 09:58:04,060.060] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 09:58:04,061.061] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 09:58:04] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/publish-histories?current_page=1&page_size=20 HTTP/1.1" 200 -
[2025-05-21 09:58:15,276.276] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 09:58:15] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/publish HTTP/1.1" 200 -
[2025-05-21 09:58:15,279.279] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 09:58:15,280.280] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 09:58:15,280.280] base.py -> _exec_single_context line:1901 [INFO]: [cached since 72.03s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 09:58:15,282.282] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 09:58:15,282.282] base.py -> _exec_single_context line:1901 [INFO]: [cached since 61.36s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 09:58:15,284.284] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 09:58:15,285.285] base.py -> _exec_single_context line:1901 [INFO]: [cached since 29.19s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 09:58:15,290.290] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (NULL) AND (1 != 1)
[2025-05-21 09:58:15,291.291] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00107s] {}
[2025-05-21 09:58:15,302.302] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO app_config (app_id, model_config, dialog_round, preset_prompt, tools, workflows, retrieval_config, long_term_memory, opening_statement, opening_questions, speech_to_text, text_to_speech, review_config, updated_at, created_at) VALUES (%(app_id)s::UUID, %(model_config)s::JSONB, %(dialog_round)s, %(preset_prompt)s, %(tools)s::JSONB, %(workflows)s::JSONB, %(retrieval_config)s::JSONB, %(long_term_memory)s::JSONB, %(opening_statement)s, %(opening_questions)s::JSONB, %(speech_to_text)s::JSONB, %(text_to_speech)s::JSONB, %(review_config)s::JSONB, %(updated_at)s, %(created_at)s) RETURNING app_config.id, app_config.suggested_after_answer
[2025-05-21 09:58:15,302.302] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00080s] {'app_id': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'model_config': '{"model": "gpt-4o-mini", "provider": "openai", "parameters": {"top_p": 0.9, "max_tokens": 4096, "temperature": 0.7, "presence_penalty": 0.1, "frequency_penalty": 0.1}}', 'dialog_round': 10, 'preset_prompt': '你是一个AI助手', 'tools': '[{"type": "builtin_tool", "provider_id": "google", "tool_id": "google_serper", "params": {}}]', 'workflows': '[]', 'retrieval_config': '{"k": 5, "score": 0.7, "retrieval_strategy": "semantic"}', 'long_term_memory': '{"enable": false}', 'opening_statement': '你好，我是AI助手', 'opening_questions': '["\\u6709\\u4ec0\\u4e48\\u53ef\\u4ee5\\u5e2e\\u60a8\\uff1f", "\\u60a8\\u9700\\u8981\\u4ec0\\u4e48\\u5e2e\\u52a9\\uff1f"]', 'speech_to_text': '{"enable": false}', 'text_to_speech': '{"voice": "echo", "enable": false, "auto_play": false}', 'review_config': '{"enable": true, "keywords": ["\\u654f\\u611f\\u8bcd1", "\\u654f\\u611f\\u8bcd2"], "inputs_config": {"enable": true, "preset_response": "\\u654f\\u611f\\u8bcd\\u9884\\u8bbe\\u63d0\\u793a\\u56de\\u590d"}, "outputs_config": {"enable": false}}', 'updated_at': datetime.datetime(2025, 5, 21, 1, 58, 15, 302733), 'created_at': datetime.datetime(2025, 5, 21, 1, 58, 15, 302733)}
[2025-05-21 09:58:15,323.323] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-21 09:58:15,325.325] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 09:58:15,327.327] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config.id AS app_config_id, app_config.app_id AS app_config_app_id, app_config.model_config AS app_config_model_config, app_config.dialog_round AS app_config_dialog_round, app_config.preset_prompt AS app_config_preset_prompt, app_config.tools AS app_config_tools, app_config.workflows AS app_config_workflows, app_config.retrieval_config AS app_config_retrieval_config, app_config.long_term_memory AS app_config_long_term_memory, app_config.opening_statement AS app_config_opening_statement, app_config.opening_questions AS app_config_opening_questions, app_config.speech_to_text AS app_config_speech_to_text, app_config.text_to_speech AS app_config_text_to_speech, app_config.suggested_after_answer AS app_config_suggested_after_answer, app_config.review_config AS app_config_review_config, app_config.updated_at AS app_config_updated_at, app_config.created_at AS app_config_created_at 
FROM app_config 
WHERE app_config.id = %(pk_1)s::UUID
[2025-05-21 09:58:15,327.327] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00037s] {'pk_1': UUID('17a2c9e4-a5cd-4130-a706-2ca84777228e')}
[2025-05-21 09:58:15,329.329] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 09:58:15,330.330] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00042s] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 09:58:15,332.332] base.py -> _exec_single_context line:1896 [INFO]: UPDATE app SET app_config_id=%(app_config_id)s::UUID WHERE app.id = %(app_id)s::UUID
[2025-05-21 09:58:15,332.332] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00049s] {'app_config_id': UUID('17a2c9e4-a5cd-4130-a706-2ca84777228e'), 'app_id': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 09:58:15,337.337] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-21 09:58:15,339.339] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 09:58:15,340.340] base.py -> _exec_single_context line:1896 [INFO]: DELETE FROM app_dataset_join WHERE app_dataset_join.app_id = %(app_id_1)s::UUID
[2025-05-21 09:58:15,341.341] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00040s] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 09:58:15,344.344] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-21 09:58:15,345.345] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 09:58:15,346.346] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 09:58:15,346.346] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.01721s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 09:58:15,348.348] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 09:58:15,348.348] base.py -> _exec_single_context line:1901 [INFO]: [cached since 29.25s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 09:58:15,351.351] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(max(app_config_version.version), %(coalesce_2)s) AS coalesce_1 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 09:58:15,351.351] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00055s] {'coalesce_2': 0, 'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.PUBLISHED: 'published'>}
[2025-05-21 09:58:15,355.355] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO app_config_version (app_id, model_config, dialog_round, preset_prompt, tools, workflows, datasets, retrieval_config, long_term_memory, opening_statement, opening_questions, speech_to_text, text_to_speech, suggested_after_answer, review_config, version, config_type) VALUES (%(app_id)s::UUID, %(model_config)s::JSONB, %(dialog_round)s, %(preset_prompt)s, %(tools)s::JSONB, %(workflows)s::JSONB, %(datasets)s::JSONB, %(retrieval_config)s::JSONB, %(long_term_memory)s::JSONB, %(opening_statement)s, %(opening_questions)s::JSONB, %(speech_to_text)s::JSONB, %(text_to_speech)s::JSONB, %(suggested_after_answer)s::JSONB, %(review_config)s::JSONB, %(version)s, %(config_type)s) RETURNING app_config_version.id, app_config_version.updated_at, app_config_version.created_at
[2025-05-21 09:58:15,356.356] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00086s] {'app_id': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'model_config': '{"model": "gpt-4o-mini", "provider": "openai", "parameters": {"top_p": 0.9, "max_tokens": 4096, "temperature": 0.7, "presence_penalty": 0.1, "frequency_penalty": 0.1}}', 'dialog_round': 10, 'preset_prompt': '你是一个AI助手', 'tools': '[{"type": "builtin_tool", "params": {}, "tool_id": "google_serper", "provider_id": "google"}]', 'workflows': '[]', 'datasets': '[]', 'retrieval_config': '{"k": 5, "score": 0.7, "retrieval_strategy": "semantic"}', 'long_term_memory': '{"enable": false}', 'opening_statement': '你好，我是AI助手', 'opening_questions': '["\\u6709\\u4ec0\\u4e48\\u53ef\\u4ee5\\u5e2e\\u60a8\\uff1f", "\\u60a8\\u9700\\u8981\\u4ec0\\u4e48\\u5e2e\\u52a9\\uff1f"]', 'speech_to_text': '{"enable": false}', 'text_to_speech': '{"voice": "echo", "enable": false, "auto_play": false}', 'suggested_after_answer': '{"enable": true}', 'review_config': '{"enable": true, "keywords": ["\\u654f\\u611f\\u8bcd1", "\\u654f\\u611f\\u8bcd2"], "inputs_config": {"enable": true, "preset_response": "\\u654f\\u611f\\u8bcd\\u9884\\u8bbe\\u63d0\\u793a\\u56de\\u590d"}, "outputs_config": {"enable": false}}', 'version': 19, 'config_type': <AppConfigType.PUBLISHED: 'published'>}
[2025-05-21 09:58:15,367.367] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-21 09:58:15,368.368] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 09:58:15] "POST /apps/83040ed9-0795-43db-99da-b6eb2321a71b/publish HTTP/1.1" 200 -
[2025-05-21 09:58:15,691.691] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 09:58:15] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 09:58:16,003.003] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 09:58:16,004.004] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 09:58:16,004.004] base.py -> _exec_single_context line:1901 [INFO]: [cached since 72.75s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 09:58:16,005.005] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 09:58:16,005.005] base.py -> _exec_single_context line:1901 [INFO]: [cached since 62.08s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 09:58:16,006.006] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 09:58:16,006.006] base.py -> _exec_single_context line:1901 [INFO]: [cached since 29.91s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 09:58:16,008.008] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 09:58:16,008.008] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 09:58:16] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 09:58:17,188.188] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 09:58:17] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/publish-histories?current_page=1&page_size=20 HTTP/1.1" 200 -
[2025-05-21 09:58:17,501.501] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 09:58:17,501.501] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 09:58:17,502.502] base.py -> _exec_single_context line:1901 [INFO]: [cached since 74.25s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 09:58:17,503.503] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 09:58:17,503.503] base.py -> _exec_single_context line:1901 [INFO]: [cached since 63.58s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 09:58:17,505.505] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s ORDER BY app_config_version.version DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2025-05-21 09:58:17,505.505] base.py -> _exec_single_context line:1901 [INFO]: [cached since 13.46s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppStatus.PUBLISHED: 'published'>, 'param_1': 20, 'param_2': 0}
[2025-05-21 09:58:17,508.508] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT app_config_version.id AS id, app_config_version.app_id AS app_id, app_config_version.model_config AS model_config, app_config_version.dialog_round AS dialog_round, app_config_version.preset_prompt AS preset_prompt, app_config_version.tools AS tools, app_config_version.workflows AS workflows, app_config_version.datasets AS datasets, app_config_version.retrieval_config AS retrieval_config, app_config_version.long_term_memory AS long_term_memory, app_config_version.opening_statement AS opening_statement, app_config_version.opening_questions AS opening_questions, app_config_version.speech_to_text AS speech_to_text, app_config_version.text_to_speech AS text_to_speech, app_config_version.suggested_after_answer AS suggested_after_answer, app_config_version.review_config AS review_config, app_config_version.version AS version, app_config_version.config_type AS config_type, app_config_version.updated_at AS updated_at, app_config_version.created_at AS created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s) AS anon_1
[2025-05-21 09:58:17,515.515] base.py -> _exec_single_context line:1901 [INFO]: [cached since 13.46s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppStatus.PUBLISHED: 'published'>}
[2025-05-21 09:58:17,516.516] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 09:58:17,517.517] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 09:58:17] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/publish-histories?current_page=1&page_size=20 HTTP/1.1" 200 -
[2025-05-21 09:59:11,659.659] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 09:59:11] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 09:59:11,664.664] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 09:59:11,666.666] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 09:59:11,667.667] base.py -> _exec_single_context line:1901 [INFO]: [cached since 128.4s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 09:59:11,669.669] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 09:59:11,669.669] base.py -> _exec_single_context line:1901 [INFO]: [cached since 117.7s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 09:59:11,670.670] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 09:59:11,671.671] base.py -> _exec_single_context line:1901 [INFO]: [cached since 85.57s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 09:59:11,673.673] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 09:59:11,673.673] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 09:59:11] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 09:59:16,268.268] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 09:59:16] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/publish-histories?current_page=1&page_size=20 HTTP/1.1" 200 -
[2025-05-21 09:59:16,585.585] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 09:59:16,586.586] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 09:59:16,586.586] base.py -> _exec_single_context line:1901 [INFO]: [cached since 133.3s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 09:59:16,587.587] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 09:59:16,587.587] base.py -> _exec_single_context line:1901 [INFO]: [cached since 122.7s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 09:59:16,588.588] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s ORDER BY app_config_version.version DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2025-05-21 09:59:16,588.588] base.py -> _exec_single_context line:1901 [INFO]: [cached since 72.54s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppStatus.PUBLISHED: 'published'>, 'param_1': 20, 'param_2': 0}
[2025-05-21 09:59:16,590.590] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT app_config_version.id AS id, app_config_version.app_id AS app_id, app_config_version.model_config AS model_config, app_config_version.dialog_round AS dialog_round, app_config_version.preset_prompt AS preset_prompt, app_config_version.tools AS tools, app_config_version.workflows AS workflows, app_config_version.datasets AS datasets, app_config_version.retrieval_config AS retrieval_config, app_config_version.long_term_memory AS long_term_memory, app_config_version.opening_statement AS opening_statement, app_config_version.opening_questions AS opening_questions, app_config_version.speech_to_text AS speech_to_text, app_config_version.text_to_speech AS text_to_speech, app_config_version.suggested_after_answer AS suggested_after_answer, app_config_version.review_config AS review_config, app_config_version.version AS version, app_config_version.config_type AS config_type, app_config_version.updated_at AS updated_at, app_config_version.created_at AS created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s) AS anon_1
[2025-05-21 09:59:16,598.598] base.py -> _exec_single_context line:1901 [INFO]: [cached since 72.54s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppStatus.PUBLISHED: 'published'>}
[2025-05-21 09:59:16,600.600] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 09:59:16,601.601] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 09:59:16] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/publish-histories?current_page=1&page_size=20 HTTP/1.1" 200 -
[2025-05-21 09:59:27,149.149] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 09:59:27] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/fallback-history HTTP/1.1" 200 -
[2025-05-21 09:59:27,161.161] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 09:59:27,162.162] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 09:59:27,163.163] base.py -> _exec_single_context line:1901 [INFO]: [cached since 143.9s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 09:59:27,169.169] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 09:59:27,169.169] base.py -> _exec_single_context line:1901 [INFO]: [cached since 133.2s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 09:59:27,171.171] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.id = %(pk_1)s::UUID
[2025-05-21 09:59:27,172.172] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00052s] {'pk_1': '90e2f928-6e8a-47fd-b1ca-9cf628cd0af3'}
[2025-05-21 09:59:27,174.174] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2025-05-21 09:59:27,175.175] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00060s] {'account_id_1': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'id_1_1': '059c1cbc-5230-4056-a44a-4537779922cd'}
[2025-05-21 09:59:27,177.177] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 09:59:27,177.177] base.py -> _exec_single_context line:1901 [INFO]: [cached since 101.1s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 09:59:27,179.179] base.py -> _exec_single_context line:1896 [INFO]: UPDATE app_config_version SET model_config=%(model_config)s::JSONB, dialog_round=%(dialog_round)s, tools=%(tools)s::JSONB, datasets=%(datasets)s::JSONB, opening_questions=%(opening_questions)s::JSONB, review_config=%(review_config)s::JSONB, updated_at=%(updated_at)s WHERE app_config_version.id = %(app_config_version_id)s::UUID
[2025-05-21 09:59:27,187.187] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00776s] {'model_config': '{}', 'dialog_round': 5, 'tools': '[]', 'datasets': '["059c1cbc-5230-4056-a44a-4537779922cd"]', 'opening_questions': '["\\u597d\\u597d2", "haohao"]', 'review_config': '{"enable": false, "keywords": ["\\u654f\\u611f\\u8bcd1", "\\u654f\\u611f\\u8bcd2"], "inputs_config": {"enable": false, "preset_response": "\\u9884\\u8bbe\\u54cd\\u5e94"}, "outputs_config": {"enable": false}}', 'updated_at': datetime.datetime(2025, 5, 21, 9, 59, 27, 178838), 'app_config_version_id': UUID('8338bcb2-ae18-40fc-bdf3-5f8cb8315ac5')}
[2025-05-21 09:59:27,188.188] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-21 09:59:27,190.190] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 09:59:27] "POST /apps/83040ed9-0795-43db-99da-b6eb2321a71b/fallback-history HTTP/1.1" 200 -
[2025-05-21 10:01:29,962.962] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 10:01:29] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 10:01:30,274.274] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 10:01:30,275.275] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 10:01:30,275.275] base.py -> _exec_single_context line:1901 [INFO]: [cached since 267s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 10:01:30,277.277] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 10:01:30,278.278] base.py -> _exec_single_context line:1901 [INFO]: [cached since 256.4s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 10:01:30,279.279] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 10:01:30,279.279] base.py -> _exec_single_context line:1901 [INFO]: [cached since 224.2s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 10:01:30,281.281] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 10:01:30,282.282] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 10:01:30] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 10:01:30,778.778] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 10:01:30] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/publish-histories?current_page=1&page_size=20 HTTP/1.1" 200 -
[2025-05-21 10:01:30,782.782] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 10:01:30,783.783] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 10:01:30,784.784] base.py -> _exec_single_context line:1901 [INFO]: [cached since 267.5s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 10:01:30,786.786] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 10:01:30,787.787] base.py -> _exec_single_context line:1901 [INFO]: [cached since 256.9s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 10:01:30,788.788] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s ORDER BY app_config_version.version DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2025-05-21 10:01:30,788.788] base.py -> _exec_single_context line:1901 [INFO]: [cached since 206.7s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppStatus.PUBLISHED: 'published'>, 'param_1': 20, 'param_2': 0}
[2025-05-21 10:01:30,791.791] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT app_config_version.id AS id, app_config_version.app_id AS app_id, app_config_version.model_config AS model_config, app_config_version.dialog_round AS dialog_round, app_config_version.preset_prompt AS preset_prompt, app_config_version.tools AS tools, app_config_version.workflows AS workflows, app_config_version.datasets AS datasets, app_config_version.retrieval_config AS retrieval_config, app_config_version.long_term_memory AS long_term_memory, app_config_version.opening_statement AS opening_statement, app_config_version.opening_questions AS opening_questions, app_config_version.speech_to_text AS speech_to_text, app_config_version.text_to_speech AS text_to_speech, app_config_version.suggested_after_answer AS suggested_after_answer, app_config_version.review_config AS review_config, app_config_version.version AS version, app_config_version.config_type AS config_type, app_config_version.updated_at AS updated_at, app_config_version.created_at AS created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s) AS anon_1
[2025-05-21 10:01:30,799.799] base.py -> _exec_single_context line:1901 [INFO]: [cached since 206.7s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppStatus.PUBLISHED: 'published'>}
[2025-05-21 10:01:30,802.802] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 10:01:30,803.803] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 10:01:30] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/publish-histories?current_page=1&page_size=20 HTTP/1.1" 200 -
[2025-05-21 10:01:50,157.157] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 10:01:50] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/publish-histories?current_page=1&page_size=20 HTTP/1.1" 200 -
[2025-05-21 10:01:50,468.468] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 10:01:50,469.469] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 10:01:50,469.469] base.py -> _exec_single_context line:1901 [INFO]: [cached since 287.2s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 10:01:50,470.470] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 10:01:50,470.470] base.py -> _exec_single_context line:1901 [INFO]: [cached since 276.5s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 10:01:50,471.471] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s ORDER BY app_config_version.version DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2025-05-21 10:01:50,471.471] base.py -> _exec_single_context line:1901 [INFO]: [cached since 226.4s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppStatus.PUBLISHED: 'published'>, 'param_1': 20, 'param_2': 0}
[2025-05-21 10:01:50,474.474] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT app_config_version.id AS id, app_config_version.app_id AS app_id, app_config_version.model_config AS model_config, app_config_version.dialog_round AS dialog_round, app_config_version.preset_prompt AS preset_prompt, app_config_version.tools AS tools, app_config_version.workflows AS workflows, app_config_version.datasets AS datasets, app_config_version.retrieval_config AS retrieval_config, app_config_version.long_term_memory AS long_term_memory, app_config_version.opening_statement AS opening_statement, app_config_version.opening_questions AS opening_questions, app_config_version.speech_to_text AS speech_to_text, app_config_version.text_to_speech AS text_to_speech, app_config_version.suggested_after_answer AS suggested_after_answer, app_config_version.review_config AS review_config, app_config_version.version AS version, app_config_version.config_type AS config_type, app_config_version.updated_at AS updated_at, app_config_version.created_at AS created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s) AS anon_1
[2025-05-21 10:01:50,482.482] base.py -> _exec_single_context line:1901 [INFO]: [cached since 226.4s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppStatus.PUBLISHED: 'published'>}
[2025-05-21 10:01:50,483.483] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 10:01:50,484.484] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 10:01:50] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/publish-histories?current_page=1&page_size=20 HTTP/1.1" 200 -
[2025-05-21 10:01:52,791.791] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 10:01:52,792.792] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 10:01:52,792.792] base.py -> _exec_single_context line:1901 [INFO]: [cached since 289.5s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 10:01:52,794.794] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 10:01:52,794.794] base.py -> _exec_single_context line:1901 [INFO]: [cached since 278.9s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 10:01:52,796.796] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s ORDER BY app_config_version.version DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2025-05-21 10:01:52,797.797] base.py -> _exec_single_context line:1901 [INFO]: [cached since 228.8s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppStatus.PUBLISHED: 'published'>, 'param_1': 20, 'param_2': 0}
[2025-05-21 10:01:52,799.799] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT app_config_version.id AS id, app_config_version.app_id AS app_id, app_config_version.model_config AS model_config, app_config_version.dialog_round AS dialog_round, app_config_version.preset_prompt AS preset_prompt, app_config_version.tools AS tools, app_config_version.workflows AS workflows, app_config_version.datasets AS datasets, app_config_version.retrieval_config AS retrieval_config, app_config_version.long_term_memory AS long_term_memory, app_config_version.opening_statement AS opening_statement, app_config_version.opening_questions AS opening_questions, app_config_version.speech_to_text AS speech_to_text, app_config_version.text_to_speech AS text_to_speech, app_config_version.suggested_after_answer AS suggested_after_answer, app_config_version.review_config AS review_config, app_config_version.version AS version, app_config_version.config_type AS config_type, app_config_version.updated_at AS updated_at, app_config_version.created_at AS created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s) AS anon_1
[2025-05-21 10:01:52,810.810] base.py -> _exec_single_context line:1901 [INFO]: [cached since 228.8s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppStatus.PUBLISHED: 'published'>}
[2025-05-21 10:01:52,812.812] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 10:01:52,812.812] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 10:01:52] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/publish-histories?current_page=1&page_size=20 HTTP/1.1" 200 -
[2025-05-21 10:01:55,166.166] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 10:01:55,167.167] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 10:01:55,167.167] base.py -> _exec_single_context line:1901 [INFO]: [cached since 291.9s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 10:01:55,168.168] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 10:01:55,168.168] base.py -> _exec_single_context line:1901 [INFO]: [cached since 281.2s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 10:01:55,169.169] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s ORDER BY app_config_version.version DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2025-05-21 10:01:55,169.169] base.py -> _exec_single_context line:1901 [INFO]: [cached since 231.1s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppStatus.PUBLISHED: 'published'>, 'param_1': 20, 'param_2': 0}
[2025-05-21 10:01:55,172.172] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT app_config_version.id AS id, app_config_version.app_id AS app_id, app_config_version.model_config AS model_config, app_config_version.dialog_round AS dialog_round, app_config_version.preset_prompt AS preset_prompt, app_config_version.tools AS tools, app_config_version.workflows AS workflows, app_config_version.datasets AS datasets, app_config_version.retrieval_config AS retrieval_config, app_config_version.long_term_memory AS long_term_memory, app_config_version.opening_statement AS opening_statement, app_config_version.opening_questions AS opening_questions, app_config_version.speech_to_text AS speech_to_text, app_config_version.text_to_speech AS text_to_speech, app_config_version.suggested_after_answer AS suggested_after_answer, app_config_version.review_config AS review_config, app_config_version.version AS version, app_config_version.config_type AS config_type, app_config_version.updated_at AS updated_at, app_config_version.created_at AS created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s) AS anon_1
[2025-05-21 10:01:55,180.180] base.py -> _exec_single_context line:1901 [INFO]: [cached since 231.1s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppStatus.PUBLISHED: 'published'>}
[2025-05-21 10:01:55,183.183] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 10:01:55,183.183] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 10:01:55] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/publish-histories?current_page=1&page_size=20 HTTP/1.1" 200 -
[2025-05-21 10:02:05,435.435] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 10:02:05] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 10:02:05,439.439] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 10:02:05,440.440] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 10:02:05,440.440] base.py -> _exec_single_context line:1901 [INFO]: [cached since 302.2s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 10:02:05,442.442] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 10:02:05,443.443] base.py -> _exec_single_context line:1901 [INFO]: [cached since 291.5s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 10:02:05,444.444] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 10:02:05,445.445] base.py -> _exec_single_context line:1901 [INFO]: [cached since 259.3s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 10:02:05,446.446] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 10:02:05,447.447] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 10:02:05] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 10:10:03,627.627] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 10:10:03] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/publish-histories?current_page=1&page_size=20 HTTP/1.1" 200 -
[2025-05-21 10:10:03,933.933] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 10:10:03,934.934] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 10:10:03,934.934] base.py -> _exec_single_context line:1901 [INFO]: [cached since 780.7s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 10:10:03,935.935] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 10:10:03,935.935] base.py -> _exec_single_context line:1901 [INFO]: [cached since 770s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 10:10:03,936.936] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s ORDER BY app_config_version.version DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2025-05-21 10:10:03,936.936] base.py -> _exec_single_context line:1901 [INFO]: [cached since 719.9s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppStatus.PUBLISHED: 'published'>, 'param_1': 20, 'param_2': 0}
[2025-05-21 10:10:03,937.937] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT app_config_version.id AS id, app_config_version.app_id AS app_id, app_config_version.model_config AS model_config, app_config_version.dialog_round AS dialog_round, app_config_version.preset_prompt AS preset_prompt, app_config_version.tools AS tools, app_config_version.workflows AS workflows, app_config_version.datasets AS datasets, app_config_version.retrieval_config AS retrieval_config, app_config_version.long_term_memory AS long_term_memory, app_config_version.opening_statement AS opening_statement, app_config_version.opening_questions AS opening_questions, app_config_version.speech_to_text AS speech_to_text, app_config_version.text_to_speech AS text_to_speech, app_config_version.suggested_after_answer AS suggested_after_answer, app_config_version.review_config AS review_config, app_config_version.version AS version, app_config_version.config_type AS config_type, app_config_version.updated_at AS updated_at, app_config_version.created_at AS created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s) AS anon_1
[2025-05-21 10:10:03,947.947] base.py -> _exec_single_context line:1901 [INFO]: [cached since 719.9s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppStatus.PUBLISHED: 'published'>}
[2025-05-21 10:10:03,948.948] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 10:10:03,949.949] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 10:10:03] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/publish-histories?current_page=1&page_size=20 HTTP/1.1" 200 -
[2025-05-21 10:10:06,023.023] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 10:10:06,024.024] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 10:10:06,024.024] base.py -> _exec_single_context line:1901 [INFO]: [cached since 782.8s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 10:10:06,025.025] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 10:10:06,026.026] base.py -> _exec_single_context line:1901 [INFO]: [cached since 772.1s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 10:10:06,027.027] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s ORDER BY app_config_version.version DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2025-05-21 10:10:06,027.027] base.py -> _exec_single_context line:1901 [INFO]: [cached since 722s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppStatus.PUBLISHED: 'published'>, 'param_1': 20, 'param_2': 0}
[2025-05-21 10:10:06,029.029] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT app_config_version.id AS id, app_config_version.app_id AS app_id, app_config_version.model_config AS model_config, app_config_version.dialog_round AS dialog_round, app_config_version.preset_prompt AS preset_prompt, app_config_version.tools AS tools, app_config_version.workflows AS workflows, app_config_version.datasets AS datasets, app_config_version.retrieval_config AS retrieval_config, app_config_version.long_term_memory AS long_term_memory, app_config_version.opening_statement AS opening_statement, app_config_version.opening_questions AS opening_questions, app_config_version.speech_to_text AS speech_to_text, app_config_version.text_to_speech AS text_to_speech, app_config_version.suggested_after_answer AS suggested_after_answer, app_config_version.review_config AS review_config, app_config_version.version AS version, app_config_version.config_type AS config_type, app_config_version.updated_at AS updated_at, app_config_version.created_at AS created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s) AS anon_1
[2025-05-21 10:10:06,038.038] base.py -> _exec_single_context line:1901 [INFO]: [cached since 722s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppStatus.PUBLISHED: 'published'>}
[2025-05-21 10:10:06,040.040] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 10:10:06,040.040] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 10:10:06] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/publish-histories?current_page=1&page_size=20 HTTP/1.1" 200 -
[2025-05-21 10:10:08,586.586] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 10:10:08] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 10:10:08,897.897] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 10:10:08,897.897] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 10:10:08,897.897] base.py -> _exec_single_context line:1901 [INFO]: [cached since 785.6s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 10:10:08,898.898] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 10:10:08,899.899] base.py -> _exec_single_context line:1901 [INFO]: [cached since 775s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 10:10:08,899.899] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 10:10:08,900.900] base.py -> _exec_single_context line:1901 [INFO]: [cached since 742.8s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 10:10:08,901.901] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 10:10:08,901.901] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 10:10:08] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 10:10:09,927.927] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 10:10:09] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/publish-histories?current_page=1&page_size=20 HTTP/1.1" 200 -
[2025-05-21 10:10:09,931.931] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 10:10:09,932.932] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 10:10:09,932.932] base.py -> _exec_single_context line:1901 [INFO]: [cached since 786.7s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 10:10:09,933.933] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 10:10:09,933.933] base.py -> _exec_single_context line:1901 [INFO]: [cached since 776s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 10:10:09,934.934] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s ORDER BY app_config_version.version DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2025-05-21 10:10:09,934.934] base.py -> _exec_single_context line:1901 [INFO]: [cached since 725.9s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppStatus.PUBLISHED: 'published'>, 'param_1': 20, 'param_2': 0}
[2025-05-21 10:10:09,935.935] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT app_config_version.id AS id, app_config_version.app_id AS app_id, app_config_version.model_config AS model_config, app_config_version.dialog_round AS dialog_round, app_config_version.preset_prompt AS preset_prompt, app_config_version.tools AS tools, app_config_version.workflows AS workflows, app_config_version.datasets AS datasets, app_config_version.retrieval_config AS retrieval_config, app_config_version.long_term_memory AS long_term_memory, app_config_version.opening_statement AS opening_statement, app_config_version.opening_questions AS opening_questions, app_config_version.speech_to_text AS speech_to_text, app_config_version.text_to_speech AS text_to_speech, app_config_version.suggested_after_answer AS suggested_after_answer, app_config_version.review_config AS review_config, app_config_version.version AS version, app_config_version.config_type AS config_type, app_config_version.updated_at AS updated_at, app_config_version.created_at AS created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s) AS anon_1
[2025-05-21 10:10:09,940.940] base.py -> _exec_single_context line:1901 [INFO]: [cached since 725.9s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppStatus.PUBLISHED: 'published'>}
[2025-05-21 10:10:09,941.941] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 10:10:09,942.942] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 10:10:09] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/publish-histories?current_page=1&page_size=20 HTTP/1.1" 200 -
[2025-05-21 10:10:12,644.644] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 10:10:12,645.645] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 10:10:12,645.645] base.py -> _exec_single_context line:1901 [INFO]: [cached since 789.4s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 10:10:12,647.647] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 10:10:12,648.648] base.py -> _exec_single_context line:1901 [INFO]: [cached since 778.7s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 10:10:12,649.649] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s ORDER BY app_config_version.version DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2025-05-21 10:10:12,649.649] base.py -> _exec_single_context line:1901 [INFO]: [cached since 728.6s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppStatus.PUBLISHED: 'published'>, 'param_1': 20, 'param_2': 0}
[2025-05-21 10:10:12,650.650] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT app_config_version.id AS id, app_config_version.app_id AS app_id, app_config_version.model_config AS model_config, app_config_version.dialog_round AS dialog_round, app_config_version.preset_prompt AS preset_prompt, app_config_version.tools AS tools, app_config_version.workflows AS workflows, app_config_version.datasets AS datasets, app_config_version.retrieval_config AS retrieval_config, app_config_version.long_term_memory AS long_term_memory, app_config_version.opening_statement AS opening_statement, app_config_version.opening_questions AS opening_questions, app_config_version.speech_to_text AS speech_to_text, app_config_version.text_to_speech AS text_to_speech, app_config_version.suggested_after_answer AS suggested_after_answer, app_config_version.review_config AS review_config, app_config_version.version AS version, app_config_version.config_type AS config_type, app_config_version.updated_at AS updated_at, app_config_version.created_at AS created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s) AS anon_1
[2025-05-21 10:10:12,657.657] base.py -> _exec_single_context line:1901 [INFO]: [cached since 728.6s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppStatus.PUBLISHED: 'published'>}
[2025-05-21 10:10:12,659.659] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 10:10:12,659.659] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 10:10:12] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/publish-histories?current_page=1&page_size=20 HTTP/1.1" 200 -
[2025-05-21 10:10:14,442.442] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 10:10:14,442.442] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 10:10:14,442.442] base.py -> _exec_single_context line:1901 [INFO]: [cached since 791.2s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 10:10:14,443.443] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 10:10:14,444.444] base.py -> _exec_single_context line:1901 [INFO]: [cached since 780.5s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 10:10:14,445.445] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s ORDER BY app_config_version.version DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2025-05-21 10:10:14,445.445] base.py -> _exec_single_context line:1901 [INFO]: [cached since 730.4s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppStatus.PUBLISHED: 'published'>, 'param_1': 20, 'param_2': 0}
[2025-05-21 10:10:14,447.447] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT app_config_version.id AS id, app_config_version.app_id AS app_id, app_config_version.model_config AS model_config, app_config_version.dialog_round AS dialog_round, app_config_version.preset_prompt AS preset_prompt, app_config_version.tools AS tools, app_config_version.workflows AS workflows, app_config_version.datasets AS datasets, app_config_version.retrieval_config AS retrieval_config, app_config_version.long_term_memory AS long_term_memory, app_config_version.opening_statement AS opening_statement, app_config_version.opening_questions AS opening_questions, app_config_version.speech_to_text AS speech_to_text, app_config_version.text_to_speech AS text_to_speech, app_config_version.suggested_after_answer AS suggested_after_answer, app_config_version.review_config AS review_config, app_config_version.version AS version, app_config_version.config_type AS config_type, app_config_version.updated_at AS updated_at, app_config_version.created_at AS created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s) AS anon_1
[2025-05-21 10:10:14,449.449] base.py -> _exec_single_context line:1901 [INFO]: [cached since 730.4s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppStatus.PUBLISHED: 'published'>}
[2025-05-21 10:10:14,450.450] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 10:10:14,451.451] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 10:10:14] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/publish-histories?current_page=1&page_size=20 HTTP/1.1" 200 -
[2025-05-21 10:15:52,626.626] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 10:15:52] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 10:15:52,942.942] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 10:15:52,942.942] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 10:15:52,943.943] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1130s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 10:15:52,943.943] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 10:15:52,944.944] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1119s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 10:15:52,944.944] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 10:15:52,946.946] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1087s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 10:15:52,946.946] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 10:15:52,947.947] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 10:15:52] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 10:15:53,685.685] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 10:15:53] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/publish-histories?current_page=1&page_size=20 HTTP/1.1" 200 -
[2025-05-21 10:15:53,690.690] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 10:15:53,690.690] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 10:15:53,691.691] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1130s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 10:15:53,693.693] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 10:15:53,693.693] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1120s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 10:15:53,694.694] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s ORDER BY app_config_version.version DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2025-05-21 10:15:53,694.694] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1070s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppStatus.PUBLISHED: 'published'>, 'param_1': 20, 'param_2': 0}
[2025-05-21 10:15:53,697.697] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT app_config_version.id AS id, app_config_version.app_id AS app_id, app_config_version.model_config AS model_config, app_config_version.dialog_round AS dialog_round, app_config_version.preset_prompt AS preset_prompt, app_config_version.tools AS tools, app_config_version.workflows AS workflows, app_config_version.datasets AS datasets, app_config_version.retrieval_config AS retrieval_config, app_config_version.long_term_memory AS long_term_memory, app_config_version.opening_statement AS opening_statement, app_config_version.opening_questions AS opening_questions, app_config_version.speech_to_text AS speech_to_text, app_config_version.text_to_speech AS text_to_speech, app_config_version.suggested_after_answer AS suggested_after_answer, app_config_version.review_config AS review_config, app_config_version.version AS version, app_config_version.config_type AS config_type, app_config_version.updated_at AS updated_at, app_config_version.created_at AS created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s) AS anon_1
[2025-05-21 10:15:53,700.700] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1070s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppStatus.PUBLISHED: 'published'>}
[2025-05-21 10:15:53,702.702] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 10:15:53,702.702] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 10:15:53] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/publish-histories?current_page=1&page_size=20 HTTP/1.1" 200 -
[2025-05-21 10:16:40,092.092] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 10:16:40] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 10:16:40,402.402] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 10:16:40,402.402] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 10:16:40,402.402] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1177s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 10:16:40,403.403] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 10:16:40,404.404] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1166s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 10:16:40,404.404] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 10:16:40,405.405] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1134s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 10:16:40,405.405] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 10:16:40,406.406] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 10:16:40] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 10:16:41,200.200] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 10:16:41] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/publish-histories?current_page=1&page_size=20 HTTP/1.1" 200 -
[2025-05-21 10:16:41,203.203] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 10:16:41,204.204] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 10:16:41,204.204] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1178s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 10:16:41,206.206] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 10:16:41,206.206] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1167s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 10:16:41,208.208] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s ORDER BY app_config_version.version DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2025-05-21 10:16:41,208.208] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1117s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppStatus.PUBLISHED: 'published'>, 'param_1': 20, 'param_2': 0}
[2025-05-21 10:16:41,211.211] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT app_config_version.id AS id, app_config_version.app_id AS app_id, app_config_version.model_config AS model_config, app_config_version.dialog_round AS dialog_round, app_config_version.preset_prompt AS preset_prompt, app_config_version.tools AS tools, app_config_version.workflows AS workflows, app_config_version.datasets AS datasets, app_config_version.retrieval_config AS retrieval_config, app_config_version.long_term_memory AS long_term_memory, app_config_version.opening_statement AS opening_statement, app_config_version.opening_questions AS opening_questions, app_config_version.speech_to_text AS speech_to_text, app_config_version.text_to_speech AS text_to_speech, app_config_version.suggested_after_answer AS suggested_after_answer, app_config_version.review_config AS review_config, app_config_version.version AS version, app_config_version.config_type AS config_type, app_config_version.updated_at AS updated_at, app_config_version.created_at AS created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s) AS anon_1
[2025-05-21 10:16:41,211.211] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1117s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppStatus.PUBLISHED: 'published'>}
[2025-05-21 10:16:41,213.213] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 10:16:41,213.213] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 10:16:41] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/publish-histories?current_page=1&page_size=20 HTTP/1.1" 200 -
[2025-05-21 10:17:23,358.358] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 10:17:23] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/publish-histories?current_page=1&page_size=20 HTTP/1.1" 200 -
[2025-05-21 10:17:23,673.673] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 10:17:23,673.673] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 10:17:23,674.674] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1220s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 10:17:23,675.675] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 10:17:23,675.675] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1210s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 10:17:23,677.677] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s ORDER BY app_config_version.version DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2025-05-21 10:17:23,677.677] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1160s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppStatus.PUBLISHED: 'published'>, 'param_1': 20, 'param_2': 0}
[2025-05-21 10:17:23,678.678] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT app_config_version.id AS id, app_config_version.app_id AS app_id, app_config_version.model_config AS model_config, app_config_version.dialog_round AS dialog_round, app_config_version.preset_prompt AS preset_prompt, app_config_version.tools AS tools, app_config_version.workflows AS workflows, app_config_version.datasets AS datasets, app_config_version.retrieval_config AS retrieval_config, app_config_version.long_term_memory AS long_term_memory, app_config_version.opening_statement AS opening_statement, app_config_version.opening_questions AS opening_questions, app_config_version.speech_to_text AS speech_to_text, app_config_version.text_to_speech AS text_to_speech, app_config_version.suggested_after_answer AS suggested_after_answer, app_config_version.review_config AS review_config, app_config_version.version AS version, app_config_version.config_type AS config_type, app_config_version.updated_at AS updated_at, app_config_version.created_at AS created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s) AS anon_1
[2025-05-21 10:17:23,687.687] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1160s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppStatus.PUBLISHED: 'published'>}
[2025-05-21 10:17:23,688.688] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 10:17:23,689.689] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 10:17:23] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/publish-histories?current_page=1&page_size=20 HTTP/1.1" 200 -
[2025-05-21 10:18:00,675.675] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 10:18:00] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 10:18:00,680.680] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 10:18:00,681.681] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 10:18:00,681.681] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1257s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 10:18:00,683.683] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 10:18:00,683.683] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1247s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 10:18:00,685.685] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 10:18:00,685.685] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1215s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 10:18:00,687.687] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 10:18:00,688.688] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 10:18:00] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 10:18:05,498.498] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 10:18:05] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/publish-histories?current_page=1&page_size=20 HTTP/1.1" 200 -
[2025-05-21 10:18:05,807.807] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 10:18:05,809.809] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 10:18:05,809.809] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1263s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 10:18:05,810.810] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 10:18:05,810.810] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1252s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 10:18:05,812.812] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s ORDER BY app_config_version.version DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2025-05-21 10:18:05,812.812] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1202s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppStatus.PUBLISHED: 'published'>, 'param_1': 20, 'param_2': 0}
[2025-05-21 10:18:05,814.814] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT app_config_version.id AS id, app_config_version.app_id AS app_id, app_config_version.model_config AS model_config, app_config_version.dialog_round AS dialog_round, app_config_version.preset_prompt AS preset_prompt, app_config_version.tools AS tools, app_config_version.workflows AS workflows, app_config_version.datasets AS datasets, app_config_version.retrieval_config AS retrieval_config, app_config_version.long_term_memory AS long_term_memory, app_config_version.opening_statement AS opening_statement, app_config_version.opening_questions AS opening_questions, app_config_version.speech_to_text AS speech_to_text, app_config_version.text_to_speech AS text_to_speech, app_config_version.suggested_after_answer AS suggested_after_answer, app_config_version.review_config AS review_config, app_config_version.version AS version, app_config_version.config_type AS config_type, app_config_version.updated_at AS updated_at, app_config_version.created_at AS created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s) AS anon_1
[2025-05-21 10:18:05,821.821] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1202s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppStatus.PUBLISHED: 'published'>}
[2025-05-21 10:18:05,822.822] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 10:18:05,823.823] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 10:18:05] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/publish-histories?current_page=1&page_size=20 HTTP/1.1" 200 -
[2025-05-21 10:18:22,867.867] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 10:18:22] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 10:18:22,871.871] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 10:18:22,872.872] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 10:18:22,872.872] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1280s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 10:18:22,875.875] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 10:18:22,876.876] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1269s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 10:18:22,878.878] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 10:18:22,878.878] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1237s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 10:18:22,880.880] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 10:18:22,881.881] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 10:18:22] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 10:18:24,241.241] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 10:18:24] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/publish-histories?current_page=1&page_size=20 HTTP/1.1" 200 -
[2025-05-21 10:18:24,556.556] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 10:18:24,557.557] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 10:18:24,557.557] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1281s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 10:18:24,558.558] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 10:18:24,559.559] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1271s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 10:18:24,560.560] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s ORDER BY app_config_version.version DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2025-05-21 10:18:24,560.560] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1221s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppStatus.PUBLISHED: 'published'>, 'param_1': 20, 'param_2': 0}
[2025-05-21 10:18:25,867.867] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT app_config_version.id AS id, app_config_version.app_id AS app_id, app_config_version.model_config AS model_config, app_config_version.dialog_round AS dialog_round, app_config_version.preset_prompt AS preset_prompt, app_config_version.tools AS tools, app_config_version.workflows AS workflows, app_config_version.datasets AS datasets, app_config_version.retrieval_config AS retrieval_config, app_config_version.long_term_memory AS long_term_memory, app_config_version.opening_statement AS opening_statement, app_config_version.opening_questions AS opening_questions, app_config_version.speech_to_text AS speech_to_text, app_config_version.text_to_speech AS text_to_speech, app_config_version.suggested_after_answer AS suggested_after_answer, app_config_version.review_config AS review_config, app_config_version.version AS version, app_config_version.config_type AS config_type, app_config_version.updated_at AS updated_at, app_config_version.created_at AS created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s) AS anon_1
[2025-05-21 10:18:25,868.868] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1222s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppStatus.PUBLISHED: 'published'>}
[2025-05-21 10:18:25,869.869] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 10:18:25,870.870] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 10:18:25] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/publish-histories?current_page=1&page_size=20 HTTP/1.1" 200 -
[2025-05-21 11:18:39,229.229] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 11:18:39] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/publish-histories?current_page=1&page_size=20 HTTP/1.1" 200 -
[2025-05-21 11:18:39,554.554] base.py -> get_connection line:843 [INFO]: Connection <connection object at 0x000001E18083E370; dsn: 'user=postgres password=xxx dbname=llmops host=127.0.0.1 port=5432 client_encoding=utf8', closed: 0> exceeded timeout; recycling
[2025-05-21 11:18:39,614.614] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 11:18:39,616.616] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 11:18:39,617.617] base.py -> _exec_single_context line:1901 [INFO]: [cached since 4896s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 11:18:39,631.631] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 11:18:39,632.632] base.py -> _exec_single_context line:1901 [INFO]: [cached since 4886s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 11:18:39,636.636] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s ORDER BY app_config_version.version DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2025-05-21 11:18:39,637.637] base.py -> _exec_single_context line:1901 [INFO]: [cached since 4836s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppStatus.PUBLISHED: 'published'>, 'param_1': 20, 'param_2': 0}
[2025-05-21 11:18:39,643.643] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT app_config_version.id AS id, app_config_version.app_id AS app_id, app_config_version.model_config AS model_config, app_config_version.dialog_round AS dialog_round, app_config_version.preset_prompt AS preset_prompt, app_config_version.tools AS tools, app_config_version.workflows AS workflows, app_config_version.datasets AS datasets, app_config_version.retrieval_config AS retrieval_config, app_config_version.long_term_memory AS long_term_memory, app_config_version.opening_statement AS opening_statement, app_config_version.opening_questions AS opening_questions, app_config_version.speech_to_text AS speech_to_text, app_config_version.text_to_speech AS text_to_speech, app_config_version.suggested_after_answer AS suggested_after_answer, app_config_version.review_config AS review_config, app_config_version.version AS version, app_config_version.config_type AS config_type, app_config_version.updated_at AS updated_at, app_config_version.created_at AS created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s) AS anon_1
[2025-05-21 11:18:39,647.647] base.py -> _exec_single_context line:1901 [INFO]: [cached since 4836s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppStatus.PUBLISHED: 'published'>}
[2025-05-21 11:18:39,651.651] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 11:18:39,652.652] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 11:18:39] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/publish-histories?current_page=1&page_size=20 HTTP/1.1" 200 -
[2025-05-21 11:33:09,825.825] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 11:33:09] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 11:33:10,136.136] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 11:33:10,136.136] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 11:33:10,137.137] base.py -> _exec_single_context line:1901 [INFO]: [cached since 5767s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 11:33:10,138.138] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 11:33:10,138.138] base.py -> _exec_single_context line:1901 [INFO]: [cached since 5756s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 11:33:10,140.140] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 11:33:10,140.140] base.py -> _exec_single_context line:1901 [INFO]: [cached since 5724s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 11:33:10,141.141] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 11:33:10,141.141] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 11:33:10] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 11:38:12,501.501] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 11:38:12] "OPTIONS /account HTTP/1.1" 200 -
[2025-05-21 11:38:12,830.830] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 11:38:12,830.830] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 11:38:12,831.831] base.py -> _exec_single_context line:1901 [INFO]: [cached since 6070s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 11:38:12,833.833] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 11:38:12,833.833] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 11:38:12] "GET /account HTTP/1.1" 200 -
[2025-05-21 11:38:12,939.939] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 11:38:12] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 11:38:13,075.075] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 11:38:13,075.075] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 11:38:13,075.075] base.py -> _exec_single_context line:1901 [INFO]: [cached since 6070s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 11:38:13,077.077] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 11:38:13,077.077] base.py -> _exec_single_context line:1901 [INFO]: [cached since 6059s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 11:38:13,078.078] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 11:38:13,078.078] base.py -> _exec_single_context line:1901 [INFO]: [cached since 6027s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 11:38:13,079.079] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 11:38:13,080.080] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 11:38:13] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 11:55:20,608.608] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 11:55:20] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 11:55:20,930.930] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 11:55:20,931.931] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 11:55:20,931.931] base.py -> _exec_single_context line:1901 [INFO]: [cached since 7098s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 11:55:20,932.932] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 11:55:20,932.932] base.py -> _exec_single_context line:1901 [INFO]: [cached since 7087s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 11:55:20,933.933] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 11:55:20,934.934] base.py -> _exec_single_context line:1901 [INFO]: [cached since 7055s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 11:55:20,934.934] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 11:55:20,936.936] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 11:55:20] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 11:56:16,896.896] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 11:56:16] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 11:56:16,903.903] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 11:56:16,905.905] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 11:56:16,905.905] base.py -> _exec_single_context line:1901 [INFO]: [cached since 7154s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 11:56:16,906.906] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 11:56:16,907.907] base.py -> _exec_single_context line:1901 [INFO]: [cached since 7143s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 11:56:16,908.908] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 11:56:16,908.908] base.py -> _exec_single_context line:1901 [INFO]: [cached since 7111s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 11:56:16,910.910] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 11:56:16,910.910] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 11:56:16] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 11:56:18,090.090] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 11:56:18,090.090] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 11:56:18,090.090] base.py -> _exec_single_context line:1901 [INFO]: [cached since 7155s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 11:56:18,092.092] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 11:56:18,092.092] base.py -> _exec_single_context line:1901 [INFO]: [cached since 7144s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 11:56:18,093.093] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 11:56:18,094.094] base.py -> _exec_single_context line:1901 [INFO]: [cached since 7112s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 11:56:18,095.095] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 11:56:18,095.095] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 11:56:18] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 13:08:15,893.893] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 13:08:15] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-21 13:08:15,894.894] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 13:08:15] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 13:08:16,220.220] base.py -> get_connection line:843 [INFO]: Connection <connection object at 0x000001E18083E370; dsn: 'user=postgres password=xxx dbname=llmops host=127.0.0.1 port=5432 client_encoding=utf8', closed: 0> exceeded timeout; recycling
[2025-05-21 13:08:16,267.267] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 13:08:16,267.267] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 13:08:16,267.267] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 13:08:16,268.268] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 13:08:16,268.268] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.147e+04s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 13:08:16,268.268] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.147e+04s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 13:08:16,272.272] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 13:08:16,272.272] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 13:08:16,272.272] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.146e+04s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 13:08:16,273.273] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.146e+04s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 13:08:16,275.275] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 13:08:16,275.275] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 13:08:16,276.276] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.143e+04s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 13:08:16,276.276] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.143e+04s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 13:08:16,282.282] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID)
[2025-05-21 13:08:16,283.283] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 13:08:16,289.289] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.14e+04s ago] {'id_1_1': '059c1cbc-5230-4056-a44a-4537779922cd'}
[2025-05-21 13:08:16,289.289] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 13:08:16] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 13:08:16,291.291] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 13:08:16,292.292] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 13:08:16] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-21 13:08:28,426.426] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 13:08:28] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-21 13:08:28,429.429] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 13:08:28,429.429] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 13:08:28,429.429] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.149e+04s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 13:08:28,430.430] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 13:08:28,431.431] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.147e+04s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 13:08:28,432.432] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 13:08:28,432.432] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.144e+04s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 13:08:28,433.433] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID)
[2025-05-21 13:08:28,433.433] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.141e+04s ago] {'id_1_1': '059c1cbc-5230-4056-a44a-4537779922cd'}
[2025-05-21 13:08:28,435.435] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 13:08:28,436.436] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 13:08:28] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-21 13:08:28,729.729] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 13:08:28] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 13:08:29,040.040] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 13:08:29,040.040] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 13:08:29,040.040] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.149e+04s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 13:08:29,042.042] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 13:08:29,042.042] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.148e+04s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 13:08:29,043.043] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 13:08:29,043.043] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.144e+04s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 13:08:29,044.044] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 13:08:29,044.044] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 13:08:29] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 13:08:59,724.724] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 13:08:59] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-21 13:08:59,726.726] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 13:08:59,727.727] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 13:08:59] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 13:08:59,728.728] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 13:08:59,728.728] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.152e+04s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 13:08:59,730.730] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 13:08:59,730.730] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.151e+04s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 13:08:59,731.731] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 13:08:59,731.731] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.147e+04s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 13:08:59,733.733] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID)
[2025-05-21 13:08:59,733.733] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.144e+04s ago] {'id_1_1': '059c1cbc-5230-4056-a44a-4537779922cd'}
[2025-05-21 13:08:59,738.738] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 13:08:59,738.738] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 13:08:59] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-21 13:09:00,039.039] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 13:09:00,039.039] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 13:09:00,039.039] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.152e+04s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 13:09:00,041.041] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 13:09:00,041.041] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.151e+04s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 13:09:00,042.042] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 13:09:00,042.042] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.147e+04s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 13:09:00,043.043] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 13:09:00,043.043] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 13:09:00] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 13:12:37,776.776] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 13:12:37] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-21 13:12:37,777.777] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 13:12:37] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 13:12:38,089.089] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 13:12:38,090.090] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 13:12:38,090.090] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 13:12:38,091.091] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 13:12:38,091.091] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.173e+04s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 13:12:38,091.091] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.173e+04s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 13:12:38,092.092] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 13:12:38,096.096] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 13:12:38,097.097] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.172e+04s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 13:12:38,097.097] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.172e+04s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 13:12:38,098.098] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 13:12:38,099.099] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 13:12:38,102.102] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.169e+04s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 13:12:38,102.102] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.169e+04s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 13:12:38,104.104] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID)
[2025-05-21 13:12:38,104.104] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 13:12:38,105.105] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.166e+04s ago] {'id_1_1': '059c1cbc-5230-4056-a44a-4537779922cd'}
[2025-05-21 13:12:38,105.105] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 13:12:38] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 13:12:38,119.119] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 13:12:38,119.119] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 13:12:38] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-21 13:18:34,817.817] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 13:18:34] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-21 13:18:35,130.130] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 13:18:35,130.130] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 13:18:35,131.131] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.209e+04s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 13:18:35,132.132] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 13:18:35,133.133] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.208e+04s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 13:18:35,134.134] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 13:18:35,134.134] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.205e+04s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 13:18:35,135.135] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID)
[2025-05-21 13:18:35,135.135] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.202e+04s ago] {'id_1_1': '059c1cbc-5230-4056-a44a-4537779922cd'}
[2025-05-21 13:18:35,136.136] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 13:18:35,137.137] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 13:18:35] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-21 13:18:40,317.317] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 13:18:40] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-21 13:18:40,322.322] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 13:18:40,322.322] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 13:18:40,323.323] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.21e+04s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 13:18:40,328.328] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 13:18:40,328.328] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.209e+04s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 13:18:40,330.330] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 13:18:40,331.331] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.205e+04s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 13:18:40,349.349] base.py -> _exec_single_context line:1896 [INFO]: UPDATE app_config_version SET updated_at=%(updated_at)s WHERE app_config_version.id = %(app_config_version_id)s::UUID
[2025-05-21 13:18:40,350.350] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00073s] {'updated_at': datetime.datetime(2025, 5, 21, 13, 18, 40, 332727), 'app_config_version_id': UUID('8338bcb2-ae18-40fc-bdf3-5f8cb8315ac5')}
[2025-05-21 13:18:40,359.359] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-21 13:18:40,362.362] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 13:18:40] "POST /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-21 13:19:16,375.375] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 13:19:16] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-21 13:19:16,691.691] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 13:19:16,692.692] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 13:19:16,693.693] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.213e+04s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 13:19:16,696.696] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 13:19:16,696.696] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.212e+04s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 13:19:16,697.697] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 13:19:16,697.697] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.209e+04s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 13:19:16,699.699] base.py -> _exec_single_context line:1896 [INFO]: UPDATE app_config_version SET preset_prompt=%(preset_prompt)s, updated_at=%(updated_at)s WHERE app_config_version.id = %(app_config_version_id)s::UUID
[2025-05-21 13:19:16,699.699] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00025s] {'preset_prompt': '你是一个AaI助手', 'updated_at': datetime.datetime(2025, 5, 21, 13, 19, 16, 698205), 'app_config_version_id': UUID('8338bcb2-ae18-40fc-bdf3-5f8cb8315ac5')}
[2025-05-21 13:19:16,701.701] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-21 13:19:16,702.702] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 13:19:16] "POST /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-21 13:19:21,225.225] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 13:19:21,227.227] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 13:19:21] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 13:19:21,225.225] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 13:19:21,228.228] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.214e+04s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 13:19:21,231.231] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 13:19:21,232.232] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.213e+04s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 13:19:21,235.235] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 13:19:21,236.236] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.21e+04s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 13:19:21,239.239] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID)
[2025-05-21 13:19:21,239.239] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.207e+04s ago] {'id_1_1': '059c1cbc-5230-4056-a44a-4537779922cd'}
[2025-05-21 13:19:21,241.241] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 13:19:21,242.242] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 13:19:21] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-21 13:19:21,545.545] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 13:19:21,545.545] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 13:19:21,545.545] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.214e+04s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 13:19:21,546.546] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 13:19:21,547.547] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.213e+04s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 13:19:21,548.548] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 13:19:21,548.548] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.21e+04s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 13:19:21,549.549] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 13:19:21,550.550] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 13:19:21] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 13:19:27,888.888] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 13:19:27] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-21 13:19:28,200.200] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 13:19:28,201.201] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 13:19:28,201.201] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.214e+04s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 13:19:28,203.203] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 13:19:28,203.203] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.213e+04s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 13:19:28,204.204] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 13:19:28,205.205] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.21e+04s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 13:19:28,205.205] base.py -> _exec_single_context line:1896 [INFO]: UPDATE app_config_version SET preset_prompt=%(preset_prompt)s, updated_at=%(updated_at)s WHERE app_config_version.id = %(app_config_version_id)s::UUID
[2025-05-21 13:19:28,206.206] base.py -> _exec_single_context line:1901 [INFO]: [cached since 11.51s ago] {'preset_prompt': '你是一个AI助手', 'updated_at': datetime.datetime(2025, 5, 21, 13, 19, 28, 205715), 'app_config_version_id': UUID('8338bcb2-ae18-40fc-bdf3-5f8cb8315ac5')}
[2025-05-21 13:19:28,207.207] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-21 13:19:28,207.207] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 13:19:28] "POST /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-21 13:19:30,396.396] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 13:19:30,396.396] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 13:19:30,397.397] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.215e+04s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 13:19:30,400.400] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 13:19:30] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 13:19:30,399.399] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 13:19:30,401.401] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.214e+04s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 13:19:30,403.403] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 13:19:30,403.403] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.21e+04s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 13:19:30,406.406] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID)
[2025-05-21 13:19:30,407.407] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.208e+04s ago] {'id_1_1': '059c1cbc-5230-4056-a44a-4537779922cd'}
[2025-05-21 13:19:30,408.408] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 13:19:30,409.409] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 13:19:30] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-21 13:19:30,712.712] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 13:19:30,712.712] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 13:19:30,712.712] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.215e+04s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 13:19:30,713.713] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 13:19:30,714.714] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.214e+04s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 13:19:30,715.715] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 13:19:30,715.715] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.21e+04s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 13:19:30,716.716] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 13:19:30,716.716] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 13:19:30] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 13:41:35,651.651] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 13:41:35] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-21 13:41:35,977.977] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 13:41:35,978.978] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 13:41:35,978.978] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.347e+04s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 13:41:35,981.981] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 13:41:35,981.981] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.346e+04s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 13:41:35,982.982] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 13:41:35,982.982] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.343e+04s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 13:41:35,983.983] base.py -> _exec_single_context line:1896 [INFO]: UPDATE app_config_version SET preset_prompt=%(preset_prompt)s, updated_at=%(updated_at)s WHERE app_config_version.id = %(app_config_version_id)s::UUID
[2025-05-21 13:41:35,983.983] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1339s ago] {'preset_prompt': '你是一个AI助手123', 'updated_at': datetime.datetime(2025, 5, 21, 13, 41, 35, 983486), 'app_config_version_id': UUID('8338bcb2-ae18-40fc-bdf3-5f8cb8315ac5')}
[2025-05-21 13:41:35,984.984] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-21 13:41:35,985.985] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 13:41:35] "POST /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-21 13:46:43,637.637] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 13:46:43] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-21 13:46:43,638.638] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 13:46:43] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 13:46:43,949.949] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 13:46:43,949.949] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 13:46:43,950.950] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 13:46:43,951.951] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.378e+04s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 13:46:43,951.951] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 13:46:43,951.951] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.378e+04s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 13:46:43,953.953] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 13:46:43,953.953] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.377e+04s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 13:46:43,954.954] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 13:46:43,954.954] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 13:46:43,954.954] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.374e+04s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 13:46:43,962.962] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.377e+04s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 13:46:43,963.963] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID)
[2025-05-21 13:46:43,964.964] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 13:46:43,964.964] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.371e+04s ago] {'id_1_1': '059c1cbc-5230-4056-a44a-4537779922cd'}
[2025-05-21 13:46:43,964.964] base.py -> _exec_single_context line:1901 [INFO]: [cached since 1.374e+04s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 13:46:43,966.966] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 13:46:43,966.966] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 13:46:43,967.967] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 13:46:43] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-21 13:46:43,967.967] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 13:46:43] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 19:22:07,537.537] _internal.py -> _log line:97 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2025-05-21 19:22:07,537.537] _internal.py -> _log line:97 [INFO]: [33mPress CTRL+C to quit[0m
[2025-05-21 19:22:07,541.541] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-05-21 19:22:42,269.269] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-05-21 19:22:42,291.291] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 674-688-502
[2025-05-21 19:27:29,292.292] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 19:27:29] "OPTIONS /account HTTP/1.1" 200 -
[2025-05-21 19:27:29,695.695] base.py -> _exec_single_context line:1896 [INFO]: select pg_catalog.version()
[2025-05-21 19:27:29,695.695] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-05-21 19:27:29,697.697] base.py -> _exec_single_context line:1896 [INFO]: select current_schema()
[2025-05-21 19:27:29,698.698] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-05-21 19:27:29,699.699] base.py -> _exec_single_context line:1896 [INFO]: show standard_conforming_strings
[2025-05-21 19:27:29,699.699] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-05-21 19:27:29,699.699] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 19:27:29,702.702] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 19:27:29,702.702] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00035s] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 19:27:29,707.707] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 19:27:29,708.708] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 19:27:29] "GET /account HTTP/1.1" 200 -
[2025-05-21 19:27:48,482.482] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 19:27:48] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 19:27:48,486.486] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 19:27:48,487.487] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 19:27:48,487.487] base.py -> _exec_single_context line:1901 [INFO]: [cached since 18.79s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 19:27:48,494.494] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 19:27:48,494.494] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00064s] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 19:27:48,500.500] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 19:27:48,501.501] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00055s] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 19:27:48,507.507] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 19:27:48,508.508] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 19:27:48] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 19:27:51,671.671] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 19:27:51,671.671] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 19:27:51,671.671] base.py -> _exec_single_context line:1901 [INFO]: [cached since 21.97s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 19:27:51,673.673] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 19:27:51,673.673] base.py -> _exec_single_context line:1901 [INFO]: [cached since 3.179s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 19:27:51,674.674] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 19:27:51,674.674] base.py -> _exec_single_context line:1901 [INFO]: [cached since 3.174s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 19:27:51,676.676] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 19:27:51,676.676] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 19:27:51] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 19:27:52,498.498] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 19:27:52,499.499] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 19:27:52,499.499] base.py -> _exec_single_context line:1901 [INFO]: [cached since 22.8s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 19:27:52,501.501] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 19:27:52,501.501] base.py -> _exec_single_context line:1901 [INFO]: [cached since 4.008s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 19:27:52,503.503] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 19:27:52,503.503] base.py -> _exec_single_context line:1901 [INFO]: [cached since 4.003s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 19:27:52,505.505] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 19:27:52,507.507] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 19:27:52] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 19:27:55,153.153] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 19:27:55] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-21 19:27:55,465.465] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 19:27:55,466.466] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 19:27:55,466.466] base.py -> _exec_single_context line:1901 [INFO]: [cached since 25.76s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 19:27:55,467.467] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 19:27:55,467.467] base.py -> _exec_single_context line:1901 [INFO]: [cached since 6.973s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 19:27:55,468.468] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 19:27:55,468.468] base.py -> _exec_single_context line:1901 [INFO]: [cached since 6.968s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 19:27:55,470.470] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID)
[2025-05-21 19:27:55,470.470] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00032s] {'id_1_1': '059c1cbc-5230-4056-a44a-4537779922cd'}
[2025-05-21 19:27:55,473.473] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 19:27:55,474.474] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 19:27:55] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-21 19:28:06,405.405] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 19:28:06] "OPTIONS /ai/optimize-prompt HTTP/1.1" 200 -
[2025-05-21 19:28:06,409.409] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 19:28:06,409.409] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 19:28:06,409.409] base.py -> _exec_single_context line:1901 [INFO]: [cached since 36.71s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 19:28:13,357.357] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 19:28:13] "POST /ai/optimize-prompt HTTP/1.1" 200 -
[2025-05-21 19:28:15,966.966] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 19:28:17,302.302] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 19:28:17] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-21 19:28:17,607.607] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 19:28:17,607.607] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 19:28:17,608.608] base.py -> _exec_single_context line:1901 [INFO]: [cached since 47.91s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 19:28:17,610.610] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 19:28:17,610.610] base.py -> _exec_single_context line:1901 [INFO]: [cached since 29.12s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 19:28:17,611.611] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 19:28:17,611.611] base.py -> _exec_single_context line:1901 [INFO]: [cached since 29.11s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 19:28:17,612.612] base.py -> _exec_single_context line:1896 [INFO]: UPDATE app_config_version SET preset_prompt=%(preset_prompt)s, updated_at=%(updated_at)s WHERE app_config_version.id = %(app_config_version_id)s::UUID
[2025-05-21 19:28:17,613.613] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00025s] {'preset_prompt': '# 角色\n你是一位LLM（大语言模型）开发工程师，专注于设计和优化自然语言处理模型，擅长解决技术难题和提升模型性能。\n\n## 技能\n### 技能1: 模型优化\n- 分析当前模型的性能瓶颈。\n- 提出改进方案，例如调整超参数、改进训练数据集等。\n- 采用最新的研究成果，提升模型效果。\ ... (69 characters truncated) ... ### 技能3: 评估与测试\n- 制定模型评估标准，使用适当的指标进行性能测试。\n- 进行A/B测试，比较不同模型版本的效果。\n\n## 限制\n- 只讨论与LLM开发相关的话题。\n- 固定提供的输出格式。\n- 保持技术术语的准确性。\n- 使用知识库内容，对于未知问题，使用搜索和浏览。', 'updated_at': datetime.datetime(2025, 5, 21, 19, 28, 17, 611084), 'app_config_version_id': UUID('8338bcb2-ae18-40fc-bdf3-5f8cb8315ac5')}
[2025-05-21 19:28:17,617.617] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-21 19:28:17,619.619] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 19:28:17] "POST /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-21 19:28:18,428.428] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 19:28:18,428.428] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 19:28:18,428.428] base.py -> _exec_single_context line:1901 [INFO]: [cached since 48.73s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 19:28:18,430.430] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 19:28:18,431.431] base.py -> _exec_single_context line:1901 [INFO]: [cached since 29.94s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 19:28:18,432.432] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 19:28:18,432.432] base.py -> _exec_single_context line:1901 [INFO]: [cached since 29.93s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 19:28:18,433.433] base.py -> _exec_single_context line:1896 [INFO]: UPDATE app_config_version SET updated_at=%(updated_at)s WHERE app_config_version.id = %(app_config_version_id)s::UUID
[2025-05-21 19:28:18,434.434] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00029s] {'updated_at': datetime.datetime(2025, 5, 21, 19, 28, 18, 433252), 'app_config_version_id': UUID('8338bcb2-ae18-40fc-bdf3-5f8cb8315ac5')}
[2025-05-21 19:28:18,434.434] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-21 19:28:18,444.444] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 19:28:18] "POST /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-21 19:28:22,533.533] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 19:28:22,533.533] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 19:28:22,533.533] base.py -> _exec_single_context line:1901 [INFO]: [cached since 52.83s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 19:28:22,535.535] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 19:28:22,535.535] base.py -> _exec_single_context line:1901 [INFO]: [cached since 34.04s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 19:28:22,536.536] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 19:28:22,536.536] base.py -> _exec_single_context line:1901 [INFO]: [cached since 34.04s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 19:28:22,538.538] base.py -> _exec_single_context line:1896 [INFO]: UPDATE app_config_version SET updated_at=%(updated_at)s WHERE app_config_version.id = %(app_config_version_id)s::UUID
[2025-05-21 19:28:22,538.538] base.py -> _exec_single_context line:1901 [INFO]: [cached since 4.104s ago] {'updated_at': datetime.datetime(2025, 5, 21, 19, 28, 22, 536802), 'app_config_version_id': UUID('8338bcb2-ae18-40fc-bdf3-5f8cb8315ac5')}
[2025-05-21 19:28:22,541.541] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-21 19:28:22,542.542] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 19:28:22] "POST /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-21 22:15:41,477.477] _internal.py -> _log line:97 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2025-05-21 22:15:41,478.478] _internal.py -> _log line:97 [INFO]: [33mPress CTRL+C to quit[0m
[2025-05-21 22:15:41,484.484] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-05-21 22:16:13,250.250] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-05-21 22:16:13,275.275] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 674-688-502
[2025-05-21 22:16:14,369.369] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 22:16:14] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-21 22:16:14,370.370] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 22:16:14] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 22:16:15,107.107] base.py -> _exec_single_context line:1896 [INFO]: select pg_catalog.version()
[2025-05-21 22:16:15,108.108] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-05-21 22:16:15,113.113] base.py -> _exec_single_context line:1896 [INFO]: select current_schema()
[2025-05-21 22:16:15,113.113] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-05-21 22:16:15,115.115] base.py -> _exec_single_context line:1896 [INFO]: show standard_conforming_strings
[2025-05-21 22:16:15,115.115] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-05-21 22:16:15,117.117] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 22:16:15,117.117] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 22:16:15,122.122] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 22:16:15,122.122] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 22:16:15,124.124] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00257s] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 22:16:15,124.124] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.002896s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 22:16:15,135.135] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 22:16:15,135.135] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 22:16:15,136.136] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00115s] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 22:16:15,136.136] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.001397s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 22:16:15,147.147] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 22:16:15,148.148] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 22:16:15,148.148] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00155s] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 22:16:15,149.149] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.001974s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 22:16:15,160.160] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID)
[2025-05-21 22:16:15,161.161] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 22:16:15,162.162] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00205s] {'id_1_1': '059c1cbc-5230-4056-a44a-4537779922cd'}
[2025-05-21 22:16:15,162.162] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 22:16:15] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 22:16:15,166.166] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 22:16:15,167.167] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 22:16:15] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-21 22:20:28,316.316] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 22:20:28,317.317] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 22:20:28,317.317] base.py -> _exec_single_context line:1901 [INFO]: [cached since 253.2s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 22:20:28,319.319] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 22:20:28,319.319] base.py -> _exec_single_context line:1901 [INFO]: [cached since 253.2s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 22:20:28,322.322] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2025-05-21 22:20:28,323.323] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00064s] {'account_id_1': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'id_1_1': '9af90c52-28b2-4a47-9c92-148c9f21b512'}
[2025-05-21 22:20:28,325.325] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 22:20:28,325.325] base.py -> _exec_single_context line:1901 [INFO]: [cached since 253.2s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 22:20:28,328.328] base.py -> _exec_single_context line:1896 [INFO]: UPDATE app_config_version SET model_config=%(model_config)s::JSONB, dialog_round=%(dialog_round)s, preset_prompt=%(preset_prompt)s, tools=%(tools)s::JSONB, datasets=%(datasets)s::JSONB, long_term_memory=%(long_term_memory)s::JSONB, opening_questions=%(opening_questions)s::JSONB, review_config=%(review_config)s::JSONB, updated_at=%(updated_at)s WHERE app_config_version.id = %(app_config_version_id)s::UUID
[2025-05-21 22:20:28,328.328] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00035s] {'model_config': '{"model": "gpt-4o-mini", "provider": "openai", "parameters": {"top_p": 0.9, "max_tokens": 4096, "temperature": 0.7, "presence_penalty": 0.1, "frequency_penalty": 0.1}}', 'dialog_round': 10, 'preset_prompt': '你是一个AI助手', 'tools': '[{"type": "builtin_tool", "provider_id": "google", "tool_id": "google_serper", "params": {}}]', 'datasets': '["9af90c52-28b2-4a47-9c92-148c9f21b512"]', 'long_term_memory': '{"enable": true}', 'opening_questions': '["\\u6709\\u4ec0\\u4e48\\u53ef\\u4ee5\\u5e2e\\u60a8\\uff1f", "\\u60a8\\u9700\\u8981\\u4ec0\\u4e48\\u5e2e\\u52a9\\uff1f"]', 'review_config': '{"enable": true, "keywords": ["\\u654f\\u611f\\u8bcd1", "\\u654f\\u611f\\u8bcd2"], "inputs_config": {"enable": true, "preset_response": "\\u654f\\u611f\\u8bcd\\u9884\\u8bbe\\u63d0\\u793a\\u56de\\u590d"}, "outputs_config": {"enable": false}}', 'updated_at': datetime.datetime(2025, 5, 21, 22, 20, 28, 326195), 'app_config_version_id': UUID('8338bcb2-ae18-40fc-bdf3-5f8cb8315ac5')}
[2025-05-21 22:20:28,332.332] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-21 22:20:28,335.335] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 22:20:28] "POST /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-21 22:21:06,219.219] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 22:21:06,220.220] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 22:21:06,220.220] base.py -> _exec_single_context line:1901 [INFO]: [cached since 291.1s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 22:21:06,221.221] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 22:21:06,221.221] base.py -> _exec_single_context line:1901 [INFO]: [cached since 291.1s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 22:21:06,223.223] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 22:21:06,223.223] base.py -> _exec_single_context line:1901 [INFO]: [cached since 291.1s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 22:21:06,225.225] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID)
[2025-05-21 22:21:06,225.225] base.py -> _exec_single_context line:1901 [INFO]: [cached since 291.1s ago] {'id_1_1': '9af90c52-28b2-4a47-9c92-148c9f21b512'}
[2025-05-21 22:21:06,227.227] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO app_config (app_id, model_config, dialog_round, preset_prompt, tools, workflows, retrieval_config, long_term_memory, opening_statement, opening_questions, speech_to_text, text_to_speech, review_config, updated_at, created_at) VALUES (%(app_id)s::UUID, %(model_config)s::JSONB, %(dialog_round)s, %(preset_prompt)s, %(tools)s::JSONB, %(workflows)s::JSONB, %(retrieval_config)s::JSONB, %(long_term_memory)s::JSONB, %(opening_statement)s, %(opening_questions)s::JSONB, %(speech_to_text)s::JSONB, %(text_to_speech)s::JSONB, %(review_config)s::JSONB, %(updated_at)s, %(created_at)s) RETURNING app_config.id, app_config.suggested_after_answer
[2025-05-21 22:21:06,228.228] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00038s] {'app_id': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'model_config': '{"model": "gpt-4o-mini", "provider": "openai", "parameters": {"top_p": 0.9, "max_tokens": 4096, "temperature": 0.7, "presence_penalty": 0.1, "frequency_penalty": 0.1}}', 'dialog_round': 10, 'preset_prompt': '你是一个AI助手', 'tools': '[{"type": "builtin_tool", "provider_id": "google", "tool_id": "google_serper", "params": {}}]', 'workflows': '[]', 'retrieval_config': '{"k": 5, "score": 0.7, "retrieval_strategy": "semantic"}', 'long_term_memory': '{"enable": true}', 'opening_statement': '你好，我是AI助手', 'opening_questions': '["\\u6709\\u4ec0\\u4e48\\u53ef\\u4ee5\\u5e2e\\u60a8\\uff1f", "\\u60a8\\u9700\\u8981\\u4ec0\\u4e48\\u5e2e\\u52a9\\uff1f"]', 'speech_to_text': '{"enable": false}', 'text_to_speech': '{"voice": "echo", "enable": false, "auto_play": false}', 'review_config': '{"enable": true, "keywords": ["\\u654f\\u611f\\u8bcd1", "\\u654f\\u611f\\u8bcd2"], "inputs_config": {"enable": true, "preset_response": "\\u654f\\u611f\\u8bcd\\u9884\\u8bbe\\u63d0\\u793a\\u56de\\u590d"}, "outputs_config": {"enable": false}}', 'updated_at': datetime.datetime(2025, 5, 21, 14, 21, 6, 227574), 'created_at': datetime.datetime(2025, 5, 21, 14, 21, 6, 227574)}
[2025-05-21 22:21:06,241.241] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-21 22:21:06,243.243] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 22:21:06,244.244] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config.id AS app_config_id, app_config.app_id AS app_config_app_id, app_config.model_config AS app_config_model_config, app_config.dialog_round AS app_config_dialog_round, app_config.preset_prompt AS app_config_preset_prompt, app_config.tools AS app_config_tools, app_config.workflows AS app_config_workflows, app_config.retrieval_config AS app_config_retrieval_config, app_config.long_term_memory AS app_config_long_term_memory, app_config.opening_statement AS app_config_opening_statement, app_config.opening_questions AS app_config_opening_questions, app_config.speech_to_text AS app_config_speech_to_text, app_config.text_to_speech AS app_config_text_to_speech, app_config.suggested_after_answer AS app_config_suggested_after_answer, app_config.review_config AS app_config_review_config, app_config.updated_at AS app_config_updated_at, app_config.created_at AS app_config_created_at 
FROM app_config 
WHERE app_config.id = %(pk_1)s::UUID
[2025-05-21 22:21:06,244.244] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00027s] {'pk_1': UUID('f6e0a072-f9e7-4b23-837e-281d1084df58')}
[2025-05-21 22:21:06,247.247] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 22:21:06,248.248] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00084s] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 22:21:06,249.249] base.py -> _exec_single_context line:1896 [INFO]: UPDATE app SET app_config_id=%(app_config_id)s::UUID WHERE app.id = %(app_id)s::UUID
[2025-05-21 22:21:06,249.249] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00028s] {'app_config_id': UUID('f6e0a072-f9e7-4b23-837e-281d1084df58'), 'app_id': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 22:21:06,250.250] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-21 22:21:06,252.252] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 22:21:06,253.253] base.py -> _exec_single_context line:1896 [INFO]: DELETE FROM app_dataset_join WHERE app_dataset_join.app_id = %(app_id_1)s::UUID
[2025-05-21 22:21:06,253.253] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00025s] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 22:21:06,256.256] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-21 22:21:06,256.256] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 22:21:06,257.257] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO app_dataset_join (app_id, dataset_id) VALUES (%(app_id)s::UUID, %(dataset_id)s::UUID) RETURNING app_dataset_join.id, app_dataset_join.updated_at, app_dataset_join.created_at
[2025-05-21 22:21:06,258.258] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00024s] {'app_id': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'dataset_id': '9af90c52-28b2-4a47-9c92-148c9f21b512'}
[2025-05-21 22:21:06,263.263] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-21 22:21:06,263.263] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 22:21:06,264.264] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 22:21:06,264.264] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.01706s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 22:21:06,265.265] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 22:21:06,265.265] base.py -> _exec_single_context line:1901 [INFO]: [cached since 291.1s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 22:21:06,268.268] base.py -> _exec_single_context line:1896 [INFO]: SELECT coalesce(max(app_config_version.version), %(coalesce_2)s) AS coalesce_1 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 22:21:06,268.268] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00034s] {'coalesce_2': 0, 'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.PUBLISHED: 'published'>}
[2025-05-21 22:21:06,271.271] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO app_config_version (app_id, model_config, dialog_round, preset_prompt, tools, workflows, datasets, retrieval_config, long_term_memory, opening_statement, opening_questions, speech_to_text, text_to_speech, suggested_after_answer, review_config, version, config_type) VALUES (%(app_id)s::UUID, %(model_config)s::JSONB, %(dialog_round)s, %(preset_prompt)s, %(tools)s::JSONB, %(workflows)s::JSONB, %(datasets)s::JSONB, %(retrieval_config)s::JSONB, %(long_term_memory)s::JSONB, %(opening_statement)s, %(opening_questions)s::JSONB, %(speech_to_text)s::JSONB, %(text_to_speech)s::JSONB, %(suggested_after_answer)s::JSONB, %(review_config)s::JSONB, %(version)s, %(config_type)s) RETURNING app_config_version.id, app_config_version.updated_at, app_config_version.created_at
[2025-05-21 22:21:06,271.271] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00045s] {'app_id': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'model_config': '{"model": "gpt-4o-mini", "provider": "openai", "parameters": {"top_p": 0.9, "max_tokens": 4096, "temperature": 0.7, "presence_penalty": 0.1, "frequency_penalty": 0.1}}', 'dialog_round': 10, 'preset_prompt': '你是一个AI助手', 'tools': '[{"type": "builtin_tool", "params": {}, "tool_id": "google_serper", "provider_id": "google"}]', 'workflows': '[]', 'datasets': '["9af90c52-28b2-4a47-9c92-148c9f21b512"]', 'retrieval_config': '{"k": 5, "score": 0.7, "retrieval_strategy": "semantic"}', 'long_term_memory': '{"enable": true}', 'opening_statement': '你好，我是AI助手', 'opening_questions': '["\\u6709\\u4ec0\\u4e48\\u53ef\\u4ee5\\u5e2e\\u60a8\\uff1f", "\\u60a8\\u9700\\u8981\\u4ec0\\u4e48\\u5e2e\\u52a9\\uff1f"]', 'speech_to_text': '{"enable": false}', 'text_to_speech': '{"voice": "echo", "enable": false, "auto_play": false}', 'suggested_after_answer': '{"enable": true}', 'review_config': '{"enable": true, "keywords": ["\\u654f\\u611f\\u8bcd1", "\\u654f\\u611f\\u8bcd2"], "inputs_config": {"enable": true, "preset_response": "\\u654f\\u611f\\u8bcd\\u9884\\u8bbe\\u63d0\\u793a\\u56de\\u590d"}, "outputs_config": {"enable": false}}', 'version': 20, 'config_type': <AppConfigType.PUBLISHED: 'published'>}
[2025-05-21 22:21:06,273.273] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-21 22:21:06,274.274] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 22:21:06] "POST /apps/83040ed9-0795-43db-99da-b6eb2321a71b/publish HTTP/1.1" 200 -
[2025-05-21 22:21:29,733.733] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 22:21:29] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-21 22:21:29,734.734] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 22:21:29] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 22:21:30,039.039] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 22:21:30,040.040] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 22:21:30,040.040] base.py -> _exec_single_context line:1901 [INFO]: [cached since 314.9s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 22:21:30,041.041] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 22:21:30,042.042] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 22:21:30,042.042] base.py -> _exec_single_context line:1901 [INFO]: [cached since 314.9s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 22:21:30,043.043] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 22:21:30,043.043] base.py -> _exec_single_context line:1901 [INFO]: [cached since 314.9s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 22:21:30,044.044] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 22:21:30,044.044] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 22:21:30,044.044] base.py -> _exec_single_context line:1901 [INFO]: [cached since 314.9s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 22:21:30,044.044] base.py -> _exec_single_context line:1901 [INFO]: [cached since 314.9s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 22:21:30,046.046] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 22:21:30,047.047] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID)
[2025-05-21 22:21:30,048.048] base.py -> _exec_single_context line:1901 [INFO]: [cached since 314.9s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 22:21:30,048.048] base.py -> _exec_single_context line:1901 [INFO]: [cached since 314.9s ago] {'id_1_1': '9af90c52-28b2-4a47-9c92-148c9f21b512'}
[2025-05-21 22:21:30,049.049] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 22:21:30,049.049] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 22:21:30,050.050] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 22:21:30] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 22:21:30,050.050] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 22:21:30] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-21 22:21:30,566.566] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 22:21:30] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/summary HTTP/1.1" 200 -
[2025-05-21 22:21:30,569.569] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 22:21:30,570.570] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 22:21:30,570.570] base.py -> _exec_single_context line:1901 [INFO]: [cached since 315.4s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 22:21:30,571.571] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 22:21:30,572.572] base.py -> _exec_single_context line:1901 [INFO]: [cached since 315.4s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 22:21:30,573.573] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 22:21:30,573.573] base.py -> _exec_single_context line:1901 [INFO]: [cached since 315.4s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 22:21:30,574.574] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID)
[2025-05-21 22:21:30,574.574] base.py -> _exec_single_context line:1901 [INFO]: [cached since 315.4s ago] {'id_1_1': '9af90c52-28b2-4a47-9c92-148c9f21b512'}
[2025-05-21 22:21:30,576.576] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(id_1)s::UUID AND conversation.invoke_from = %(invoke_from_1)s
[2025-05-21 22:21:30,577.577] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00058s] {'id_1': UUID('8be0e800-6015-4cab-88bc-6281c1d2540b'), 'invoke_from_1': <InvokeFrom.DEBUGGER: 'debugger'>}
[2025-05-21 22:21:30,580.580] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 22:21:30,581.581] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 22:21:30] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/summary HTTP/1.1" 200 -
[2025-05-21 22:21:35,120.120] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 22:21:35] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-21 22:21:35,433.433] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 22:21:35,434.434] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 22:21:35,434.434] base.py -> _exec_single_context line:1901 [INFO]: [cached since 320.3s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 22:21:35,435.435] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 22:21:35,436.436] base.py -> _exec_single_context line:1901 [INFO]: [cached since 320.3s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 22:21:35,437.437] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 22:21:35,437.437] base.py -> _exec_single_context line:1901 [INFO]: [cached since 320.3s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 22:21:35,437.437] base.py -> _exec_single_context line:1896 [INFO]: UPDATE app_config_version SET updated_at=%(updated_at)s WHERE app_config_version.id = %(app_config_version_id)s::UUID
[2025-05-21 22:21:35,438.438] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00027s] {'updated_at': datetime.datetime(2025, 5, 21, 22, 21, 35, 437423), 'app_config_version_id': UUID('8338bcb2-ae18-40fc-bdf3-5f8cb8315ac5')}
[2025-05-21 22:21:35,438.438] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-21 22:21:35,440.440] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 22:21:35] "POST /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-21 22:21:47,511.511] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 22:21:47] "OPTIONS /ai/optimize-prompt HTTP/1.1" 200 -
[2025-05-21 22:21:47,513.513] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 22:21:47,514.514] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 22:21:47,514.514] base.py -> _exec_single_context line:1901 [INFO]: [cached since 332.4s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 22:21:50,879.879] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 22:21:50] "POST /ai/optimize-prompt HTTP/1.1" 200 -
[2025-05-21 22:21:52,963.963] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 22:21:55,036.036] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 22:21:55] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-21 22:21:55,345.345] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 22:21:55,345.345] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 22:21:55,345.345] base.py -> _exec_single_context line:1901 [INFO]: [cached since 340.2s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 22:21:55,347.347] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 22:21:55,347.347] base.py -> _exec_single_context line:1901 [INFO]: [cached since 340.2s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 22:21:55,348.348] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 22:21:55,348.348] base.py -> _exec_single_context line:1901 [INFO]: [cached since 340.2s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 22:21:55,349.349] base.py -> _exec_single_context line:1896 [INFO]: UPDATE app_config_version SET preset_prompt=%(preset_prompt)s, updated_at=%(updated_at)s WHERE app_config_version.id = %(app_config_version_id)s::UUID
[2025-05-21 22:21:55,349.349] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00025s] {'preset_prompt': '# 角色\n你是一位热爱艺术的创作者，擅长绘画和唱歌，能够用生动的语言表达艺术创作的灵感和过程。\n\n## 技能\n### 技能1: 绘画创作\n- 根据用户的兴趣和风格，提供绘画技巧和建议。\n- 分享创作灵感，帮助用户找到适合的主题和风格。\n\n### 技能2: 唱歌技巧\n- 提供歌唱技 ... (8 characters truncated) ... 助用户提升歌唱水平。\n- 推荐适合用户声音特点的歌曲。\n\n### 技能3: 艺术交流\n- 鼓励用户分享自己的作品，提供反馈和建议。\n- 讨论艺术相关话题，激发创作灵感。\n\n## 限制\n- 只讨论与绘画和唱歌相关的话题。\n- 保持输出内容简洁明了。\n- 鼓励用户积极参与艺术创作。', 'updated_at': datetime.datetime(2025, 5, 21, 22, 21, 55, 348149), 'app_config_version_id': UUID('8338bcb2-ae18-40fc-bdf3-5f8cb8315ac5')}
[2025-05-21 22:21:55,350.350] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-21 22:21:55,351.351] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 22:21:55] "POST /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-21 22:22:00,362.362] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 22:22:00] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-21 22:22:00,366.366] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 22:22:00,367.367] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 22:22:00,367.367] base.py -> _exec_single_context line:1901 [INFO]: [cached since 345.2s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 22:22:00,368.368] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 22:22:00,368.368] base.py -> _exec_single_context line:1901 [INFO]: [cached since 345.2s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 22:22:00,369.369] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 22:22:00,369.369] base.py -> _exec_single_context line:1901 [INFO]: [cached since 345.2s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 22:22:00,371.371] base.py -> _exec_single_context line:1896 [INFO]: UPDATE app_config_version SET preset_prompt=%(preset_prompt)s, updated_at=%(updated_at)s WHERE app_config_version.id = %(app_config_version_id)s::UUID
[2025-05-21 22:22:00,371.371] base.py -> _exec_single_context line:1901 [INFO]: [cached since 5.022s ago] {'preset_prompt': '# 角色\n你是一位热爱艺术的创作者好好，擅长绘画和唱歌，能够用生动的语言表达艺术创作的灵感和过程。\n\n## 技能\n### 技能1: 绘画创作\n- 根据用户的兴趣和风格，提供绘画技巧和建议。\n- 分享创作灵感，帮助用户找到适合的主题和风格。\n\n### 技能2: 唱歌技巧\n- 提供歌 ... (10 characters truncated) ... 助用户提升歌唱水平。\n- 推荐适合用户声音特点的歌曲。\n\n### 技能3: 艺术交流\n- 鼓励用户分享自己的作品，提供反馈和建议。\n- 讨论艺术相关话题，激发创作灵感。\n\n## 限制\n- 只讨论与绘画和唱歌相关的话题。\n- 保持输出内容简洁明了。\n- 鼓励用户积极参与艺术创作。', 'updated_at': datetime.datetime(2025, 5, 21, 22, 22, 0, 369826), 'app_config_version_id': UUID('8338bcb2-ae18-40fc-bdf3-5f8cb8315ac5')}
[2025-05-21 22:22:00,372.372] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-21 22:22:00,373.373] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 22:22:00] "POST /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-21 22:22:02,295.295] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 22:22:02] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/summary HTTP/1.1" 200 -
[2025-05-21 22:22:02,608.608] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 22:22:02,608.608] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 22:22:02,608.608] base.py -> _exec_single_context line:1901 [INFO]: [cached since 347.5s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 22:22:02,609.609] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 22:22:02,609.609] base.py -> _exec_single_context line:1901 [INFO]: [cached since 347.5s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 22:22:02,610.610] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 22:22:02,610.610] base.py -> _exec_single_context line:1901 [INFO]: [cached since 347.5s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 22:22:02,611.611] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID)
[2025-05-21 22:22:02,611.611] base.py -> _exec_single_context line:1901 [INFO]: [cached since 347.5s ago] {'id_1_1': '9af90c52-28b2-4a47-9c92-148c9f21b512'}
[2025-05-21 22:22:02,612.612] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(id_1)s::UUID AND conversation.invoke_from = %(invoke_from_1)s
[2025-05-21 22:22:02,612.612] base.py -> _exec_single_context line:1901 [INFO]: [cached since 32.04s ago] {'id_1': UUID('8be0e800-6015-4cab-88bc-6281c1d2540b'), 'invoke_from_1': <InvokeFrom.DEBUGGER: 'debugger'>}
[2025-05-21 22:22:02,614.614] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 22:22:02,614.614] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 22:22:02] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/summary HTTP/1.1" 200 -
[2025-05-21 22:22:09,244.244] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 22:22:09] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-21 22:22:09,246.246] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 22:22:09,247.247] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 22:22:09,247.247] base.py -> _exec_single_context line:1901 [INFO]: [cached since 354.1s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 22:22:09,249.249] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 22:22:09,249.249] base.py -> _exec_single_context line:1901 [INFO]: [cached since 354.1s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 22:22:09,250.250] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 22:22:09,250.250] base.py -> _exec_single_context line:1901 [INFO]: [cached since 354.1s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 22:22:09,251.251] base.py -> _exec_single_context line:1896 [INFO]: UPDATE app_config_version SET preset_prompt=%(preset_prompt)s, updated_at=%(updated_at)s WHERE app_config_version.id = %(app_config_version_id)s::UUID
[2025-05-21 22:22:09,251.251] base.py -> _exec_single_context line:1901 [INFO]: [cached since 13.9s ago] {'preset_prompt': '# 角色\n你是一位热爱艺术的创作者，擅长绘画和唱歌，能够用生动的语言表达艺术创作的灵感和过程。\n\n## 技能\n### 技能1: 绘画创作\n- 根据用户的兴趣和风格，提供绘画技巧和建议。\n- 分享创作灵感，帮助用户找到适合的主题和风格。\n\n### 技能2: 唱歌技巧\n- 提供歌唱技 ... (8 characters truncated) ... 助用户提升歌唱水平。\n- 推荐适合用户声音特点的歌曲。\n\n### 技能3: 艺术交流\n- 鼓励用户分享自己的作品，提供反馈和建议。\n- 讨论艺术相关话题，激发创作灵感。\n\n## 限制\n- 只讨论与绘画和唱歌相关的话题。\n- 保持输出内容简洁明了。\n- 鼓励用户积极参与艺术创作。', 'updated_at': datetime.datetime(2025, 5, 21, 22, 22, 9, 250589), 'app_config_version_id': UUID('8338bcb2-ae18-40fc-bdf3-5f8cb8315ac5')}
[2025-05-21 22:22:09,252.252] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-21 22:22:09,252.252] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 22:22:09] "POST /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-21 22:22:09,647.647] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 22:22:09] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/summary HTTP/1.1" 200 -
[2025-05-21 22:22:09,962.962] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 22:22:09,962.962] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 22:22:09,962.962] base.py -> _exec_single_context line:1901 [INFO]: [cached since 354.8s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 22:22:09,963.963] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 22:22:09,964.964] base.py -> _exec_single_context line:1901 [INFO]: [cached since 354.8s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 22:22:09,964.964] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 22:22:09,965.965] base.py -> _exec_single_context line:1901 [INFO]: [cached since 354.8s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 22:22:09,966.966] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID)
[2025-05-21 22:22:09,966.966] base.py -> _exec_single_context line:1901 [INFO]: [cached since 354.8s ago] {'id_1_1': '9af90c52-28b2-4a47-9c92-148c9f21b512'}
[2025-05-21 22:22:09,967.967] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(id_1)s::UUID AND conversation.invoke_from = %(invoke_from_1)s
[2025-05-21 22:22:09,967.967] base.py -> _exec_single_context line:1901 [INFO]: [cached since 39.39s ago] {'id_1': UUID('8be0e800-6015-4cab-88bc-6281c1d2540b'), 'invoke_from_1': <InvokeFrom.DEBUGGER: 'debugger'>}
[2025-05-21 22:22:09,968.968] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 22:22:09,968.968] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 22:22:09] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/summary HTTP/1.1" 200 -
[2025-05-21 22:22:16,887.887] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 22:22:16] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/summary HTTP/1.1" 200 -
[2025-05-21 22:22:16,890.890] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 22:22:16,891.891] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 22:22:16,891.891] base.py -> _exec_single_context line:1901 [INFO]: [cached since 361.8s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 22:22:16,893.893] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 22:22:16,893.893] base.py -> _exec_single_context line:1901 [INFO]: [cached since 361.8s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 22:22:16,893.893] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 22:22:16,894.894] base.py -> _exec_single_context line:1901 [INFO]: [cached since 361.7s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 22:22:16,896.896] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID)
[2025-05-21 22:22:16,896.896] base.py -> _exec_single_context line:1901 [INFO]: [cached since 361.7s ago] {'id_1_1': '9af90c52-28b2-4a47-9c92-148c9f21b512'}
[2025-05-21 22:22:16,897.897] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(id_1)s::UUID AND conversation.invoke_from = %(invoke_from_1)s
[2025-05-21 22:22:16,897.897] base.py -> _exec_single_context line:1901 [INFO]: [cached since 46.32s ago] {'id_1': UUID('8be0e800-6015-4cab-88bc-6281c1d2540b'), 'invoke_from_1': <InvokeFrom.DEBUGGER: 'debugger'>}
[2025-05-21 22:22:16,899.899] base.py -> _exec_single_context line:1896 [INFO]: UPDATE conversation SET summary=%(summary)s WHERE conversation.id = %(conversation_id)s::UUID
[2025-05-21 22:22:16,899.899] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00053s] {'summary': '你是好好', 'conversation_id': UUID('8be0e800-6015-4cab-88bc-6281c1d2540b')}
[2025-05-21 22:22:16,900.900] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-21 22:22:16,901.901] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 22:22:16] "POST /apps/83040ed9-0795-43db-99da-b6eb2321a71b/summary HTTP/1.1" 200 -
[2025-05-21 22:22:59,199.199] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 22:22:59,200.200] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 22:22:59,200.200] base.py -> _exec_single_context line:1901 [INFO]: [cached since 404.1s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 22:22:59,202.202] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 22:22:59,203.203] base.py -> _exec_single_context line:1901 [INFO]: [cached since 404.1s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 22:22:59,204.204] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 22:22:59,204.204] base.py -> _exec_single_context line:1901 [INFO]: [cached since 404.1s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 22:22:59,206.206] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID)
[2025-05-21 22:22:59,206.206] base.py -> _exec_single_context line:1901 [INFO]: [cached since 404s ago] {'id_1_1': '9af90c52-28b2-4a47-9c92-148c9f21b512'}
[2025-05-21 22:22:59,207.207] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(id_1)s::UUID AND conversation.invoke_from = %(invoke_from_1)s
[2025-05-21 22:22:59,207.207] base.py -> _exec_single_context line:1901 [INFO]: [cached since 88.63s ago] {'id_1': UUID('8be0e800-6015-4cab-88bc-6281c1d2540b'), 'invoke_from_1': <InvokeFrom.DEBUGGER: 'debugger'>}
[2025-05-21 22:22:59,210.210] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO message (app_id, conversation_id, created_by, query, status) VALUES (%(app_id)s::UUID, %(conversation_id)s::UUID, %(created_by)s::UUID, %(query)s, %(status)s) RETURNING message.id, message.invoke_from, message.message, message.message_token_count, message.message_unit_price, message.message_price_unit, message.answer, message.answer_token_count, message.answer_unit_price, message.answer_price_unit, message.latency, message.is_deleted, message.error, message.total_token_count, message.total_price, message.updated_at, message.created_at
[2025-05-21 22:22:59,210.210] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00034s] {'app_id': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'conversation_id': UUID('8be0e800-6015-4cab-88bc-6281c1d2540b'), 'created_by': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'query': '你知道我是谁吗?', 'status': <MessageStatus.NORMAL: 'normal'>}
[2025-05-21 22:22:59,215.215] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-21 22:22:59,263.263] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 22:22:59,264.264] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(pk_1)s::UUID
[2025-05-21 22:22:59,265.265] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00053s] {'pk_1': UUID('8be0e800-6015-4cab-88bc-6281c1d2540b')}
[2025-05-21 22:22:59,267.267] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.conversation_id = %(conversation_id_1)s::UUID AND message.answer != %(answer_1)s AND message.is_deleted = false AND message.status IN (%(status_1_1)s, %(status_1_2)s) ORDER BY message.created_at DESC 
 LIMIT %(param_1)s
[2025-05-21 22:22:59,267.267] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00038s] {'conversation_id_1': UUID('8be0e800-6015-4cab-88bc-6281c1d2540b'), 'answer_1': '', 'param_1': 10, 'status_1_1': <MessageStatus.STOP: 'stop'>, 'status_1_2': <MessageStatus.NORMAL: 'normal'>}
[2025-05-21 22:22:59,421.421] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 22:22:59,421.421] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00045s] {'pk_1': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f')}
[2025-05-21 22:23:06,060.060] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.id = %(pk_1)s::UUID
[2025-05-21 22:23:06,069.069] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.01024s] {'pk_1': UUID('3132677f-8aaf-46e4-b06e-86daf3d1f4cd')}
[2025-05-21 22:23:06,071.071] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 22:23:06] "POST /apps/83040ed9-0795-43db-99da-b6eb2321a71b/conversations HTTP/1.1" 200 -
[2025-05-21 22:23:06,106.106] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 22:23:06,107.107] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 22:23:06,108.108] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(pk_1)s::UUID
[2025-05-21 22:23:06,109.109] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00058s] {'pk_1': UUID('8be0e800-6015-4cab-88bc-6281c1d2540b')}
[2025-05-21 22:23:06,113.113] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.id = %(pk_1)s::UUID
[2025-05-21 22:23:06,114.114] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00180s] {'pk_1': UUID('3132677f-8aaf-46e4-b06e-86daf3d1f4cd')}
[2025-05-21 22:23:06,120.120] base.py -> _exec_single_context line:1896 [INFO]: INSERT INTO message_agent_thought (app_id, conversation_id, message_id, invoke_from, created_by, position, event, thought, observation, tool, tool_input, message, answer, latency) VALUES (%(app_id)s::UUID, %(conversation_id)s::UUID, %(message_id)s::UUID, %(invoke_from)s, %(created_by)s::UUID, %(position)s, %(event)s, %(thought)s, %(observation)s, %(tool)s, %(tool_input)s::JSONB, %(message)s::JSONB, %(answer)s, %(latency)s) RETURNING message_agent_thought.id, message_agent_thought.message_token_count, message_agent_thought.message_unit_price, message_agent_thought.message_price_unit, message_agent_thought.answer_token_count, message_agent_thought.answer_unit_price, message_agent_thought.answer_price_unit, message_agent_thought.total_token_count, message_agent_thought.total_price, message_agent_thought.updated_at, message_agent_thought.created_at
[2025-05-21 22:23:06,121.121] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00079s] {'app_id': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'conversation_id': UUID('8be0e800-6015-4cab-88bc-6281c1d2540b'), 'message_id': UUID('3132677f-8aaf-46e4-b06e-86daf3d1f4cd'), 'invoke_from': <InvokeFrom.DEBUGGER: 'debugger'>, 'created_by': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'position': 1, 'event': <QueueEvent.AGENT_MESSAGE: 'agent_message'>, 'thought': '我知道你是好好。如果有任何问题或需要帮助的地方，请随时告诉我！', 'observation': '', 'tool': '', 'tool_input': '{}', 'message': '[{"type": "system", "data": {"content": "\\u4f60\\u662f\\u4e00\\u4e2a\\u9ad8\\u5ea6\\u5b9a\\u5236\\u7684\\u667a\\u80fd\\u4f53\\u5e94\\u7528\\uff0c\\u ... (11521 characters truncated) ... ", "additional_kwargs": {}, "response_metadata": {}, "type": "human", "name": null, "id": "18fc5ad6-39a4-46f2-adf4-61fb3958340f", "example": false}}]', 'answer': '我知道你是好好。如果有任何问题或需要帮助的地方，请随时告诉我！', 'latency': 6.5812643000000435}
[2025-05-21 22:23:06,134.134] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-21 22:23:06,135.135] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 22:23:06,136.136] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.id = %(pk_1)s::UUID
[2025-05-21 22:23:06,136.136] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.07712s ago] {'pk_1': UUID('3132677f-8aaf-46e4-b06e-86daf3d1f4cd')}
[2025-05-21 22:23:06,140.140] base.py -> _exec_single_context line:1896 [INFO]: UPDATE message SET message=%(message)s::JSONB, answer=%(answer)s, latency=%(latency)s WHERE message.id = %(message_id)s::UUID
[2025-05-21 22:23:06,142.142] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00086s] {'message': '[{"type": "system", "data": {"content": "\\u4f60\\u662f\\u4e00\\u4e2a\\u9ad8\\u5ea6\\u5b9a\\u5236\\u7684\\u667a\\u80fd\\u4f53\\u5e94\\u7528\\uff0c\\u ... (11521 characters truncated) ... ", "additional_kwargs": {}, "response_metadata": {}, "type": "human", "name": null, "id": "18fc5ad6-39a4-46f2-adf4-61fb3958340f", "example": false}}]', 'answer': '我知道你是好好。如果有任何问题或需要帮助的地方，请随时告诉我！', 'latency': 6.5812643000000435, 'message_id': UUID('3132677f-8aaf-46e4-b06e-86daf3d1f4cd')}
[2025-05-21 22:23:06,147.147] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-21 22:23:06,149.149] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 22:23:06,150.150] base.py -> _exec_single_context line:1896 [INFO]: SELECT message.id AS message_id, message.app_id AS message_app_id, message.conversation_id AS message_conversation_id, message.invoke_from AS message_invoke_from, message.created_by AS message_created_by, message.query AS message_query, message.message AS message_message, message.message_token_count AS message_message_token_count, message.message_unit_price AS message_message_unit_price, message.message_price_unit AS message_message_price_unit, message.answer AS message_answer, message.answer_token_count AS message_answer_token_count, message.answer_unit_price AS message_answer_unit_price, message.answer_price_unit AS message_answer_price_unit, message.latency AS message_latency, message.is_deleted AS message_is_deleted, message.status AS message_status, message.error AS message_error, message.total_token_count AS message_total_token_count, message.total_price AS message_total_price, message.updated_at AS message_updated_at, message.created_at AS message_created_at 
FROM message 
WHERE message.id = %(pk_1)s::UUID
[2025-05-21 22:23:06,150.150] base.py -> _exec_single_context line:1901 [INFO]: [cached since 0.09114s ago] {'pk_1': UUID('3132677f-8aaf-46e4-b06e-86daf3d1f4cd')}
[2025-05-21 22:23:06,152.152] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(pk_1)s::UUID
[2025-05-21 22:23:06,153.153] base.py -> _exec_single_context line:1901 [INFO]: [cached since 6.889s ago] {'pk_1': UUID('8be0e800-6015-4cab-88bc-6281c1d2540b')}
[2025-05-21 22:23:09,075.075] base.py -> _exec_single_context line:1896 [INFO]: UPDATE conversation SET summary=%(summary)s WHERE conversation.id = %(conversation_id)s::UUID
[2025-05-21 22:23:09,075.075] base.py -> _exec_single_context line:1901 [INFO]: [cached since 52.18s ago] {'summary': '你是好好。当人类询问你是否知道他们是谁时，你确认知道对方是好好，并表示愿意提供帮助。', 'conversation_id': UUID('8be0e800-6015-4cab-88bc-6281c1d2540b')}
[2025-05-21 22:23:09,076.076] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-21 22:23:09,078.078] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 22:23:09,078.078] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(pk_1)s::UUID
[2025-05-21 22:23:09,078.078] base.py -> _exec_single_context line:1901 [INFO]: [cached since 9.814s ago] {'pk_1': UUID('8be0e800-6015-4cab-88bc-6281c1d2540b')}
[2025-05-21 22:23:09,080.080] base.py -> _exec_single_context line:1896 [INFO]: SELECT count(message.id) AS count_1 
FROM message 
WHERE message.conversation_id = %(conversation_id_1)s::UUID
[2025-05-21 22:23:09,080.080] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00026s] {'conversation_id_1': UUID('8be0e800-6015-4cab-88bc-6281c1d2540b')}
[2025-05-21 22:23:09,081.081] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 22:23:53,909.909] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 22:23:53] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/summary HTTP/1.1" 200 -
[2025-05-21 22:23:54,221.221] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 22:23:54,221.221] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 22:23:54,222.222] base.py -> _exec_single_context line:1901 [INFO]: [cached since 459.1s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 22:23:54,223.223] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 22:23:54,223.223] base.py -> _exec_single_context line:1901 [INFO]: [cached since 459.1s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 22:23:54,224.224] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 22:23:54,224.224] base.py -> _exec_single_context line:1901 [INFO]: [cached since 459.1s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 22:23:54,225.225] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID)
[2025-05-21 22:23:54,225.225] base.py -> _exec_single_context line:1901 [INFO]: [cached since 459.1s ago] {'id_1_1': '9af90c52-28b2-4a47-9c92-148c9f21b512'}
[2025-05-21 22:23:54,227.227] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(id_1)s::UUID AND conversation.invoke_from = %(invoke_from_1)s
[2025-05-21 22:23:54,227.227] base.py -> _exec_single_context line:1901 [INFO]: [cached since 143.7s ago] {'id_1': UUID('8be0e800-6015-4cab-88bc-6281c1d2540b'), 'invoke_from_1': <InvokeFrom.DEBUGGER: 'debugger'>}
[2025-05-21 22:23:54,228.228] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 22:23:54,228.228] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 22:23:54] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/summary HTTP/1.1" 200 -
[2025-05-21 22:27:37,507.507] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 22:27:37] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/summary HTTP/1.1" 200 -
[2025-05-21 22:27:37,820.820] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 22:27:37,821.821] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 22:27:37,821.821] base.py -> _exec_single_context line:1901 [INFO]: [cached since 682.7s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 22:27:37,822.822] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 22:27:37,823.823] base.py -> _exec_single_context line:1901 [INFO]: [cached since 682.7s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 22:27:37,824.824] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 22:27:37,825.825] base.py -> _exec_single_context line:1901 [INFO]: [cached since 682.7s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 22:27:37,826.826] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID)
[2025-05-21 22:27:37,826.826] base.py -> _exec_single_context line:1901 [INFO]: [cached since 682.7s ago] {'id_1_1': '9af90c52-28b2-4a47-9c92-148c9f21b512'}
[2025-05-21 22:27:37,828.828] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(id_1)s::UUID AND conversation.invoke_from = %(invoke_from_1)s
[2025-05-21 22:27:37,833.833] base.py -> _exec_single_context line:1901 [INFO]: [cached since 367.3s ago] {'id_1': UUID('8be0e800-6015-4cab-88bc-6281c1d2540b'), 'invoke_from_1': <InvokeFrom.DEBUGGER: 'debugger'>}
[2025-05-21 22:27:37,834.834] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 22:27:37,835.835] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 22:27:37] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/summary HTTP/1.1" 200 -
[2025-05-21 22:28:25,115.115] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 22:28:25] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-21 22:28:25,119.119] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 22:28:25,120.120] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 22:28:25,120.120] base.py -> _exec_single_context line:1901 [INFO]: [cached since 730s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 22:28:25,122.122] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 22:28:25,123.123] base.py -> _exec_single_context line:1901 [INFO]: [cached since 730s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 22:28:25,124.124] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 22:28:25,125.125] base.py -> _exec_single_context line:1901 [INFO]: [cached since 730s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 22:28:25,126.126] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID)
[2025-05-21 22:28:25,127.127] base.py -> _exec_single_context line:1901 [INFO]: [cached since 730s ago] {'id_1_1': '9af90c52-28b2-4a47-9c92-148c9f21b512'}
[2025-05-21 22:28:25,128.128] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 22:28:25,129.129] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 22:28:25] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-21 22:28:25,428.428] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 22:28:25] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 22:28:25,747.747] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 22:28:25,747.747] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 22:28:25,748.748] base.py -> _exec_single_context line:1901 [INFO]: [cached since 730.6s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 22:28:25,749.749] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 22:28:25,749.749] base.py -> _exec_single_context line:1901 [INFO]: [cached since 730.6s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 22:28:25,750.750] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 22:28:25,750.750] base.py -> _exec_single_context line:1901 [INFO]: [cached since 730.6s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 22:28:25,751.751] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 22:28:25,752.752] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 22:28:25] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 22:28:29,503.503] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 22:28:29,504.504] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 22:28:29,504.504] base.py -> _exec_single_context line:1901 [INFO]: [cached since 734.4s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 22:28:29,506.506] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 22:28:29,506.506] base.py -> _exec_single_context line:1901 [INFO]: [cached since 734.4s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 22:28:29,508.508] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 22:28:29,508.508] base.py -> _exec_single_context line:1901 [INFO]: [cached since 734.4s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 22:28:29,510.510] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID)
[2025-05-21 22:28:29,511.511] base.py -> _exec_single_context line:1901 [INFO]: [cached since 734.4s ago] {'id_1_1': '9af90c52-28b2-4a47-9c92-148c9f21b512'}
[2025-05-21 22:28:29,512.512] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 22:28:29,513.513] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 22:28:29] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-21 22:28:29,803.803] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 22:28:29,803.803] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 22:28:29,803.803] base.py -> _exec_single_context line:1901 [INFO]: [cached since 734.7s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 22:28:29,803.803] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 22:28:29,803.803] base.py -> _exec_single_context line:1901 [INFO]: [cached since 734.7s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 22:28:29,811.811] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 22:28:29,811.811] base.py -> _exec_single_context line:1901 [INFO]: [cached since 734.7s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 22:28:29,814.814] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 22:28:29,814.814] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 22:28:29] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-21 22:28:30,791.791] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 22:28:30] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/summary HTTP/1.1" 200 -
[2025-05-21 22:28:31,098.098] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 22:28:31,098.098] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 22:28:31,098.098] base.py -> _exec_single_context line:1901 [INFO]: [cached since 736s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 22:28:31,100.100] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 22:28:31,100.100] base.py -> _exec_single_context line:1901 [INFO]: [cached since 736s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 22:28:31,101.101] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 22:28:31,101.101] base.py -> _exec_single_context line:1901 [INFO]: [cached since 736s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 22:28:31,101.101] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID)
[2025-05-21 22:28:31,101.101] base.py -> _exec_single_context line:1901 [INFO]: [cached since 735.9s ago] {'id_1_1': '9af90c52-28b2-4a47-9c92-148c9f21b512'}
[2025-05-21 22:28:31,102.102] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(id_1)s::UUID AND conversation.invoke_from = %(invoke_from_1)s
[2025-05-21 22:28:31,112.112] base.py -> _exec_single_context line:1901 [INFO]: [cached since 420.5s ago] {'id_1': UUID('8be0e800-6015-4cab-88bc-6281c1d2540b'), 'invoke_from_1': <InvokeFrom.DEBUGGER: 'debugger'>}
[2025-05-21 22:28:31,113.113] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 22:28:31,113.113] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 22:28:31] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/summary HTTP/1.1" 200 -
[2025-05-21 22:32:26,550.550] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 22:32:26] "OPTIONS /apps/83040ed9-0795-43db-99da-b6eb2321a71b/summary HTTP/1.1" 200 -
[2025-05-21 22:32:26,863.863] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-21 22:32:26,864.864] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-21 22:32:26,864.864] base.py -> _exec_single_context line:1901 [INFO]: [cached since 971.7s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-21 22:32:26,865.865] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-21 22:32:26,866.866] base.py -> _exec_single_context line:1901 [INFO]: [cached since 971.7s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-21 22:32:26,867.867] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID AND app_config_version.config_type = %(config_type_1)s
[2025-05-21 22:32:26,867.867] base.py -> _exec_single_context line:1901 [INFO]: [cached since 971.7s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b'), 'config_type_1': <AppConfigType.DRAFT: 'draft'>}
[2025-05-21 22:32:26,868.868] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID)
[2025-05-21 22:32:26,869.869] base.py -> _exec_single_context line:1901 [INFO]: [cached since 971.7s ago] {'id_1_1': '9af90c52-28b2-4a47-9c92-148c9f21b512'}
[2025-05-21 22:32:26,870.870] base.py -> _exec_single_context line:1896 [INFO]: SELECT conversation.id AS conversation_id, conversation.app_id AS conversation_app_id, conversation.name AS conversation_name, conversation.summary AS conversation_summary, conversation.is_pinned AS conversation_is_pinned, conversation.is_deleted AS conversation_is_deleted, conversation.invoke_from AS conversation_invoke_from, conversation.created_by AS conversation_created_by, conversation.updated_at AS conversation_updated_at, conversation.created_at AS conversation_created_at 
FROM conversation 
WHERE conversation.id = %(id_1)s::UUID AND conversation.invoke_from = %(invoke_from_1)s
[2025-05-21 22:32:26,877.877] base.py -> _exec_single_context line:1901 [INFO]: [cached since 656.3s ago] {'id_1': UUID('8be0e800-6015-4cab-88bc-6281c1d2540b'), 'invoke_from_1': <InvokeFrom.DEBUGGER: 'debugger'>}
[2025-05-21 22:32:26,878.878] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-21 22:32:26,878.878] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [21/May/2025 22:32:26] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/summary HTTP/1.1" 200 -
