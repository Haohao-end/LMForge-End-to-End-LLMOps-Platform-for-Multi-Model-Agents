[2025-05-14 09:38:03,774.774] _internal.py -> _log line:97 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2025-05-14 09:38:03,776.776] _internal.py -> _log line:97 [INFO]: [33mPress CTRL+C to quit[0m
[2025-05-14 09:38:03,778.778] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-05-14 09:38:21,669.669] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-05-14 09:38:21,680.680] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 674-688-502
[2025-05-14 09:39:54,149.149] base.py -> _exec_single_context line:1896 [INFO]: select pg_catalog.version()
[2025-05-14 09:39:54,149.149] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-05-14 09:39:54,152.152] base.py -> _exec_single_context line:1896 [INFO]: select current_schema()
[2025-05-14 09:39:54,153.153] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-05-14 09:39:54,154.154] base.py -> _exec_single_context line:1896 [INFO]: show standard_conforming_strings
[2025-05-14 09:39:54,154.154] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-05-14 09:39:54,154.154] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-14 09:39:54,157.157] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-14 09:39:54,157.157] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00032s] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-14 09:39:54,166.166] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-14 09:39:54,166.166] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00038s] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-14 09:39:54,170.170] http.py -> _register_error_handler line:63 [ERROR]: An error occurred: Column expression, FROM clause, or other columns clause element expected, got <enum 'AppConfigType'>.
Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\llmops-api\venv\lib\site-packages\flask\app.py", line 870, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\Lenovo\Desktop\llmops-api\venv\lib\site-packages\flask\app.py", line 855, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "C:\Users\Lenovo\Desktop\llmops-api\venv\lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
  File "C:\Users\Lenovo\Desktop\llmops-api\internal\handler\app_handler.py", line 35, in get_app
    return success_json(resp.dump(app))
  File "C:\Users\Lenovo\Desktop\llmops-api\venv\lib\site-packages\marshmallow\schema.py", line 615, in dump
    processed_obj = self._invoke_dump_processors(
  File "C:\Users\Lenovo\Desktop\llmops-api\venv\lib\site-packages\marshmallow\schema.py", line 1154, in _invoke_dump_processors
    data = self._invoke_processors(
  File "C:\Users\Lenovo\Desktop\llmops-api\venv\lib\site-packages\marshmallow\schema.py", line 1305, in _invoke_processors
    data = processor(data, many=many, **kwargs)
  File "C:\Users\Lenovo\Desktop\llmops-api\internal\schema\app_schema.py", line 43, in process_data
    "draft_updated_at": datetime_to_timestamp(data.draft_app_config.updated_at),
  File "C:\Users\Lenovo\Desktop\llmops-api\internal\model\app.py", line 47, in draft_app_config
    app_config_version = db.session.query(AppConfigType).filter(
  File "C:\Users\Lenovo\Desktop\llmops-api\venv\lib\site-packages\sqlalchemy\orm\scoping.py", line 1681, in query
    return self._proxied.query(*entities, **kwargs)
  File "C:\Users\Lenovo\Desktop\llmops-api\venv\lib\site-packages\sqlalchemy\orm\session.py", line 2955, in query
    return self._query_cls(entities, self, **kwargs)
  File "C:\Users\Lenovo\Desktop\llmops-api\venv\lib\site-packages\sqlalchemy\orm\query.py", line 276, in __init__
    self._set_entities(entities)
  File "C:\Users\Lenovo\Desktop\llmops-api\venv\lib\site-packages\sqlalchemy\orm\query.py", line 288, in _set_entities
    self._raw_columns = [
  File "C:\Users\Lenovo\Desktop\llmops-api\venv\lib\site-packages\sqlalchemy\orm\query.py", line 289, in <listcomp>
    coercions.expect(
  File "C:\Users\Lenovo\Desktop\llmops-api\venv\lib\site-packages\sqlalchemy\sql\coercions.py", line 395, in expect
    resolved = impl._literal_coercion(
  File "C:\Users\Lenovo\Desktop\llmops-api\venv\lib\site-packages\sqlalchemy\sql\coercions.py", line 634, in _literal_coercion
    self._raise_for_expected(element, argname)
  File "C:\Users\Lenovo\Desktop\llmops-api\venv\lib\site-packages\sqlalchemy\sql\coercions.py", line 1132, in _raise_for_expected
    return super()._raise_for_expected(
  File "C:\Users\Lenovo\Desktop\llmops-api\venv\lib\site-packages\sqlalchemy\sql\coercions.py", line 695, in _raise_for_expected
    super()._raise_for_expected(
  File "C:\Users\Lenovo\Desktop\llmops-api\venv\lib\site-packages\sqlalchemy\sql\coercions.py", line 518, in _raise_for_expected
    raise exc.ArgumentError(msg, code=code) from err
sqlalchemy.exc.ArgumentError: Column expression, FROM clause, or other columns clause element expected, got <enum 'AppConfigType'>.
[2025-05-14 09:39:54,179.179] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-14 09:39:54,197.197] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [14/May/2025 09:39:54] "[35m[1mGET /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1[0m" 500 -
[2025-05-14 09:41:48,818.818] _internal.py -> _log line:97 [INFO]:  * Detected change in 'C:\\Users\\Lenovo\\Desktop\\llmops-api\\internal\\model\\app.py', reloading
[2025-05-14 09:41:50,021.021] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-05-14 09:42:07,559.559] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-05-14 09:42:07,570.570] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 674-688-502
[2025-05-14 09:42:09,068.068] base.py -> _exec_single_context line:1896 [INFO]: select pg_catalog.version()
[2025-05-14 09:42:09,069.069] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-05-14 09:42:09,073.073] base.py -> _exec_single_context line:1896 [INFO]: select current_schema()
[2025-05-14 09:42:09,073.073] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-05-14 09:42:09,075.075] base.py -> _exec_single_context line:1896 [INFO]: show standard_conforming_strings
[2025-05-14 09:42:09,075.075] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-05-14 09:42:09,077.077] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-14 09:42:09,083.083] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-14 09:42:09,083.083] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00071s] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-14 09:42:09,093.093] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-14 09:42:09,094.094] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00039s] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-14 09:42:09,101.101] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID
[2025-05-14 09:42:09,101.101] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00041s] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-14 09:42:09,107.107] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-14 09:42:09,108.108] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [14/May/2025 09:42:09] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-14 09:42:18,758.758] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-14 09:42:18,759.759] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-14 09:42:18,759.759] base.py -> _exec_single_context line:1901 [INFO]: [cached since 9.677s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-14 09:42:18,761.761] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-14 09:42:18,761.761] base.py -> _exec_single_context line:1901 [INFO]: [cached since 9.668s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-14 09:42:18,762.762] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID
[2025-05-14 09:42:18,763.763] base.py -> _exec_single_context line:1901 [INFO]: [cached since 9.662s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-14 09:42:18,764.764] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-14 09:42:18,764.764] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [14/May/2025 09:42:18] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b HTTP/1.1" 200 -
[2025-05-14 13:50:55,933.933] _internal.py -> _log line:97 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2025-05-14 13:50:55,934.934] _internal.py -> _log line:97 [INFO]: [33mPress CTRL+C to quit[0m
[2025-05-14 13:50:55,940.940] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-05-14 13:51:16,267.267] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-05-14 13:51:16,287.287] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 674-688-502
[2025-05-14 13:51:25,524.524] base.py -> _exec_single_context line:1896 [INFO]: select pg_catalog.version()
[2025-05-14 13:51:25,524.524] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-05-14 13:51:25,527.527] base.py -> _exec_single_context line:1896 [INFO]: select current_schema()
[2025-05-14 13:51:25,527.527] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-05-14 13:51:25,529.529] base.py -> _exec_single_context line:1896 [INFO]: show standard_conforming_strings
[2025-05-14 13:51:25,529.529] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-05-14 13:51:25,529.529] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-14 13:51:25,531.531] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-14 13:51:25,532.532] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00027s] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-14 13:51:25,538.538] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-14 13:51:25,539.539] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00051s] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-14 13:51:25,542.542] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID
[2025-05-14 13:51:25,543.543] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00026s] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-14 13:51:25,546.546] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (NULL) AND (1 != 1)
[2025-05-14 13:51:25,546.546] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00036s] {}
[2025-05-14 13:51:25,551.551] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-14 13:51:25,551.551] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [14/May/2025 13:51:25] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-14 17:54:21,100.100] _internal.py -> _log line:97 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2025-05-14 17:54:21,100.100] _internal.py -> _log line:97 [INFO]: [33mPress CTRL+C to quit[0m
[2025-05-14 17:54:21,107.107] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-05-14 17:54:37,533.533] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-05-14 17:54:37,549.549] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 674-688-502
[2025-05-14 17:55:21,661.661] http.py -> _register_error_handler line:63 [ERROR]: An error occurred: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\llmops-api\venv\lib\site-packages\flask\app.py", line 870, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\Lenovo\Desktop\llmops-api\venv\lib\site-packages\flask\app.py", line 844, in dispatch_request
    self.raise_routing_exception(req)
  File "C:\Users\Lenovo\Desktop\llmops-api\venv\lib\site-packages\flask\app.py", line 453, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
  File "C:\Users\Lenovo\Desktop\llmops-api\venv\lib\site-packages\flask\ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
  File "C:\Users\Lenovo\Desktop\llmops-api\venv\lib\site-packages\werkzeug\routing\map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-05-14 17:55:21,679.679] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [14/May/2025 17:55:21] "[35m[1mGET /apps//draft-app-config HTTP/1.1[0m" 500 -
[2025-05-14 17:55:30,955.955] base.py -> _exec_single_context line:1896 [INFO]: select pg_catalog.version()
[2025-05-14 17:55:30,956.956] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-05-14 17:55:30,960.960] base.py -> _exec_single_context line:1896 [INFO]: select current_schema()
[2025-05-14 17:55:30,960.960] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-05-14 17:55:30,962.962] base.py -> _exec_single_context line:1896 [INFO]: show standard_conforming_strings
[2025-05-14 17:55:30,962.962] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-05-14 17:55:30,963.963] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-14 17:55:30,968.968] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-14 17:55:30,969.969] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00068s] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-14 17:55:30,981.981] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-14 17:55:30,981.981] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00087s] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-14 17:55:30,988.988] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID
[2025-05-14 17:55:30,989.989] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00051s] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-14 17:55:30,994.994] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (NULL) AND (1 != 1)
[2025-05-14 17:55:30,995.995] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00048s] {}
[2025-05-14 17:55:30,998.998] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-14 17:55:30,999.999] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [14/May/2025 17:55:30] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-14 17:58:15,081.081] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-14 17:58:15,083.083] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-14 17:58:15,083.083] base.py -> _exec_single_context line:1901 [INFO]: [cached since 164.1s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-14 17:58:15,085.085] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-14 17:58:15,085.085] base.py -> _exec_single_context line:1901 [INFO]: [cached since 164.1s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-14 17:58:15,086.086] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID
[2025-05-14 17:58:15,086.086] base.py -> _exec_single_context line:1901 [INFO]: [cached since 164.1s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-14 17:58:15,087.087] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID)
[2025-05-14 17:58:15,087.087] base.py -> _exec_single_context line:1901 [INFO]: [cached since 164.1s ago] {'id_1_1': '4cc5b531-8c8a-47b1-a641-bf75d7b7ac82'}
[2025-05-14 17:58:15,088.088] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-14 17:58:15,088.088] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [14/May/2025 17:58:15] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-14 17:59:41,134.134] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-14 17:59:41,135.135] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-14 17:59:41,135.135] base.py -> _exec_single_context line:1901 [INFO]: [cached since 250.2s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-14 17:59:41,136.136] base.py -> _exec_single_context line:1896 [INFO]: SELECT app.id AS app_id, app.account_id AS app_account_id, app.app_config_id AS app_app_config_id, app.draft_app_config_id AS app_draft_app_config_id, app.debug_conversation_id AS app_debug_conversation_id, app.name AS app_name, app.icon AS app_icon, app.description AS app_description, app.status AS app_status, app.updated_at AS app_updated_at, app.created_at AS app_created_at 
FROM app 
WHERE app.id = %(pk_1)s::UUID
[2025-05-14 17:59:41,136.136] base.py -> _exec_single_context line:1901 [INFO]: [cached since 250.2s ago] {'pk_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-14 17:59:41,137.137] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.app_id = %(app_id_1)s::UUID
[2025-05-14 17:59:41,138.138] base.py -> _exec_single_context line:1901 [INFO]: [cached since 250.1s ago] {'app_id_1': UUID('83040ed9-0795-43db-99da-b6eb2321a71b')}
[2025-05-14 17:59:41,138.138] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID)
[2025-05-14 17:59:41,139.139] base.py -> _exec_single_context line:1901 [INFO]: [cached since 250.1s ago] {'id_1_1': '5cc5b531-8c8a-47b1-a641-bf75d7b7ac82'}
[2025-05-14 17:59:41,142.142] base.py -> _exec_single_context line:1896 [INFO]: UPDATE app_config_version SET datasets=%(datasets)s::JSONB WHERE app_config_version.id = %(app_config_version_id)s::UUID
[2025-05-14 17:59:41,142.142] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00033s] {'datasets': '[]', 'app_config_version_id': UUID('8338bcb2-ae18-40fc-bdf3-5f8cb8315ac5')}
[2025-05-14 17:59:41,143.143] base.py -> _commit_impl line:1140 [INFO]: COMMIT
[2025-05-14 17:59:41,144.144] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-14 17:59:41,145.145] base.py -> _exec_single_context line:1896 [INFO]: SELECT app_config_version.id AS app_config_version_id, app_config_version.app_id AS app_config_version_app_id, app_config_version.model_config AS app_config_version_model_config, app_config_version.dialog_round AS app_config_version_dialog_round, app_config_version.preset_prompt AS app_config_version_preset_prompt, app_config_version.tools AS app_config_version_tools, app_config_version.workflows AS app_config_version_workflows, app_config_version.datasets AS app_config_version_datasets, app_config_version.retrieval_config AS app_config_version_retrieval_config, app_config_version.long_term_memory AS app_config_version_long_term_memory, app_config_version.opening_statement AS app_config_version_opening_statement, app_config_version.opening_questions AS app_config_version_opening_questions, app_config_version.speech_to_text AS app_config_version_speech_to_text, app_config_version.text_to_speech AS app_config_version_text_to_speech, app_config_version.suggested_after_answer AS app_config_version_suggested_after_answer, app_config_version.review_config AS app_config_version_review_config, app_config_version.version AS app_config_version_version, app_config_version.config_type AS app_config_version_config_type, app_config_version.updated_at AS app_config_version_updated_at, app_config_version.created_at AS app_config_version_created_at 
FROM app_config_version 
WHERE app_config_version.id = %(pk_1)s::UUID
[2025-05-14 17:59:41,146.146] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00028s] {'pk_1': UUID('8338bcb2-ae18-40fc-bdf3-5f8cb8315ac5')}
[2025-05-14 17:59:41,147.147] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-14 17:59:41,147.147] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [14/May/2025 17:59:41] "GET /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-14 18:01:36,384.384] _internal.py -> _log line:97 [INFO]:  * Detected change in 'C:\\Users\\Lenovo\\Desktop\\llmops-api\\internal\\service\\app_service.py', reloading
[2025-05-14 18:01:37,673.673] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-05-14 18:01:54,610.610] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-05-14 18:01:54,625.625] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 674-688-502
[2025-05-14 18:02:22,502.502] _internal.py -> _log line:97 [INFO]:  * Detected change in 'C:\\Users\\Lenovo\\Desktop\\llmops-api\\internal\\service\\app_service.py', reloading
[2025-05-14 18:02:23,943.943] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-05-14 18:02:38,829.829] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-05-14 18:02:38,882.882] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 674-688-502
[2025-05-14 18:02:52,185.185] _internal.py -> _log line:97 [INFO]:  * Detected change in 'C:\\Users\\Lenovo\\Desktop\\llmops-api\\internal\\service\\app_service.py', reloading
[2025-05-14 18:02:53,620.620] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-05-14 18:03:06,030.030] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-05-14 18:03:06,033.033] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 674-688-502
[2025-05-14 18:03:30,538.538] _internal.py -> _log line:97 [INFO]:  * Detected change in 'C:\\Users\\Lenovo\\Desktop\\llmops-api\\internal\\service\\app_service.py', reloading
[2025-05-14 18:03:31,824.824] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-05-14 18:03:45,201.201] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-05-14 18:03:45,214.214] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 674-688-502
[2025-05-14 22:50:32,011.011] _internal.py -> _log line:97 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2025-05-14 22:50:32,012.012] _internal.py -> _log line:97 [INFO]: [33mPress CTRL+C to quit[0m
[2025-05-14 22:50:32,017.017] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-05-14 22:50:52,340.340] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-05-14 22:50:52,351.351] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 674-688-502
[2025-05-14 22:51:12,000.000] base.py -> _exec_single_context line:1896 [INFO]: select pg_catalog.version()
[2025-05-14 22:51:12,000.000] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-05-14 22:51:12,002.002] base.py -> _exec_single_context line:1896 [INFO]: select current_schema()
[2025-05-14 22:51:12,003.003] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-05-14 22:51:12,003.003] base.py -> _exec_single_context line:1896 [INFO]: show standard_conforming_strings
[2025-05-14 22:51:12,004.004] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-05-14 22:51:12,004.004] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-14 22:51:12,008.008] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-14 22:51:12,008.008] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00030s] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-14 22:51:12,011.011] http.py -> _register_error_handler line:63 [ERROR]: An error occurred: 
Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\llmops-api\venv\lib\site-packages\flask\app.py", line 870, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\Lenovo\Desktop\llmops-api\venv\lib\site-packages\flask\app.py", line 855, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "C:\Users\Lenovo\Desktop\llmops-api\venv\lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
  File "C:\Users\Lenovo\Desktop\llmops-api\internal\handler\app_handler.py", line 51, in update_draft_app_config
    draft_app_config = self.app_service._validate_draft_app_config(draft_app_config, current_user)
  File "C:\Users\Lenovo\Desktop\llmops-api\internal\service\app_service.py", line 226, in _validate_draft_app_config
    raise ValidateErrorException("草稿配置字段出错，请核实后重试")
internal.exception.exception.ValidateErrorException
[2025-05-14 22:51:12,017.017] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-14 22:51:12,017.017] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [14/May/2025 22:51:12] "POST /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-14 22:53:36,285.285] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-14 22:53:36,286.286] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-14 22:53:36,286.286] base.py -> _exec_single_context line:1901 [INFO]: [cached since 144.3s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-14 22:53:36,288.288] http.py -> _register_error_handler line:63 [ERROR]: An error occurred: 'AppService' object has no attribute 'builtin_provider_manager'
Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\llmops-api\venv\lib\site-packages\flask\app.py", line 870, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\Lenovo\Desktop\llmops-api\venv\lib\site-packages\flask\app.py", line 855, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "C:\Users\Lenovo\Desktop\llmops-api\venv\lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
  File "C:\Users\Lenovo\Desktop\llmops-api\internal\handler\app_handler.py", line 51, in update_draft_app_config
    draft_app_config = self.app_service._validate_draft_app_config(draft_app_config, current_user)
  File "C:\Users\Lenovo\Desktop\llmops-api\internal\service\app_service.py", line 277, in _validate_draft_app_config
    builtin_tool = self.builtin_provider_manager.get_tool(tool["provider_id"], tool["tool_id"])
AttributeError: 'AppService' object has no attribute 'builtin_provider_manager'
[2025-05-14 22:53:36,288.288] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-14 22:53:36,315.315] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [14/May/2025 22:53:36] "[35m[1mPOST /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1[0m" 500 -
[2025-05-14 22:54:20,139.139] _internal.py -> _log line:97 [INFO]:  * Detected change in 'C:\\Users\\Lenovo\\Desktop\\llmops-api\\internal\\service\\app_service.py', reloading
[2025-05-14 22:54:21,568.568] _internal.py -> _log line:97 [INFO]:  * Restarting with stat
[2025-05-14 22:54:38,549.549] _internal.py -> _log line:97 [WARNING]:  * Debugger is active!
[2025-05-14 22:54:38,562.562] _internal.py -> _log line:97 [INFO]:  * Debugger PIN: 674-688-502
[2025-05-14 22:54:39,742.742] base.py -> _exec_single_context line:1896 [INFO]: select pg_catalog.version()
[2025-05-14 22:54:39,743.743] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-05-14 22:54:39,747.747] base.py -> _exec_single_context line:1896 [INFO]: select current_schema()
[2025-05-14 22:54:39,747.747] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-05-14 22:54:39,748.748] base.py -> _exec_single_context line:1896 [INFO]: show standard_conforming_strings
[2025-05-14 22:54:39,748.748] base.py -> _exec_single_context line:1901 [INFO]: [raw sql] {}
[2025-05-14 22:54:39,749.749] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-14 22:54:39,757.757] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-14 22:54:39,757.757] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00070s] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-14 22:54:39,766.766] http.py -> _register_error_handler line:63 [ERROR]: An error occurred: 
Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\llmops-api\internal\service\app_service.py", line 316, in _validate_draft_app_config
    UUID(dataset_id)
  File "C:\Users\Lenovo\.pyenv\pyenv-win\versions\3.9.12\lib\uuid.py", line 178, in __init__
    int = int_(hex, 16)
ValueError: invalid literal for int() with base 16: 'a1b2c3d4e5f67890g1h2i3j4k5l6m7n8'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Lenovo\Desktop\llmops-api\venv\lib\site-packages\flask\app.py", line 870, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\Lenovo\Desktop\llmops-api\venv\lib\site-packages\flask\app.py", line 855, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "C:\Users\Lenovo\Desktop\llmops-api\venv\lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
  File "C:\Users\Lenovo\Desktop\llmops-api\internal\handler\app_handler.py", line 51, in update_draft_app_config
    draft_app_config = self.app_service._validate_draft_app_config(draft_app_config, current_user)
  File "C:\Users\Lenovo\Desktop\llmops-api\internal\service\app_service.py", line 318, in _validate_draft_app_config
    raise ValidateErrorException("知识库列表参数必须是UUID")
internal.exception.exception.ValidateErrorException
[2025-05-14 22:54:39,887.887] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-14 22:54:39,888.888] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [14/May/2025 22:54:39] "POST /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
[2025-05-14 22:55:52,232.232] base.py -> _begin_impl line:1097 [INFO]: BEGIN (implicit)
[2025-05-14 22:55:52,232.232] base.py -> _exec_single_context line:1896 [INFO]: SELECT account.id AS account_id, account.name AS account_name, account.email AS account_email, account.avatar AS account_avatar, account.password AS account_password, account.password_salt AS account_password_salt, account.last_login_at AS account_last_login_at, account.last_login_ip AS account_last_login_ip, account.updated_at AS account_updated_at, account.created_at AS account_created_at 
FROM account 
WHERE account.id = %(pk_1)s::UUID
[2025-05-14 22:55:52,232.232] base.py -> _exec_single_context line:1901 [INFO]: [cached since 72.48s ago] {'pk_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2025-05-14 22:55:52,237.237] base.py -> _exec_single_context line:1896 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2025-05-14 22:55:52,238.238] base.py -> _exec_single_context line:1901 [INFO]: [generated in 0.00067s] {'account_id_1': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'id_1_1': '123e4567-e89b-12d3-a456-426614174000'}
[2025-05-14 22:55:52,242.242] base.py -> _rollback_impl line:1123 [INFO]: ROLLBACK
[2025-05-14 22:55:52,242.242] _internal.py -> _log line:97 [INFO]: 127.0.0.1 - - [14/May/2025 22:55:52] "POST /apps/83040ed9-0795-43db-99da-b6eb2321a71b/draft-app-config HTTP/1.1" 200 -
